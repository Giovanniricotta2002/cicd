*** Settings ***
Documentation  WS Ressource REST 'consultations'.

# On inclut les mots-clefs
Resource  resources/resources.robot
# On ouvre/ferme le navigateur au début/à la fin du Test Suite.
Suite Setup  For Suite Setup
Suite Teardown  For Suite Teardown


*** Test Cases ***
REST

    [Documentation]  Ce TestCase vérifie la partie REST du WS
    ...  - la seule méthode disponible est le POST, les autres doivent retourner un code 400,
    ...  - les clés suivantes sont obligatoires dans le tableau JSON : type, date, emetteur, dossier_instruction, contenu. Si une des clés n'est pas présente ou si il y a une clé supplémentaire dans les données d'entrées, le WS doit retourner un code 400.

    ## Seule la méthode PUT doit être disponible sur cette ressource
    ${json} =  Set Variable  { "type": ""}
    Vérifier le code retour du web service et vérifier que son message est  Get  consultations/123  ${json}  400  La méthode GET n'est pas disponible sur cette ressource.
    Vérifier le code retour du web service et vérifier que son message est  Post  consultations  ${json}  400  La méthode POST n'est pas disponible sur cette ressource.
    Vérifier le code retour du web service et vérifier que son message est  Delete  consultations/123  ${json}  400  La méthode DELETE n'est pas disponible sur cette ressource.

    ## L'identifiant est obligatoire
    # On ne fourni pas de numéro de dossier d'instruction
    ${json} =  Set Variable  { "avis": "complet", "date_retour": "${DATE_FORMAT_dd/mm/yyyy}"}
    Vérifier le code retour du web service et vérifier que son message est  Put  consultations  ${json}  400  Aucun identifiant fourni pour la ressource.

    ## Deux clés sont obligatoires
    # sans la clé 'date_retour'
    ${json} =  Set Variable  { "avis": ""}
    Vérifier le code retour du web service et vérifier que son message est  Put  consultations/123  ${json}  400  La structure des données reçues n'est pas correcte.
    # sans la clé 'avis'
    ${json} =  Set Variable  { "date_retour": ""}
    Vérifier le code retour du web service et vérifier que son message est  Put  consultations/123  ${json}  400  La structure des données reçues n'est pas correcte.


Métier

    [Documentation]  Ce TestCase vérifie la partie Métier du WS
    ...  - ...

    ##
    #
    ${json} =  Set Variable  { "avis": "Favorable", "date_retour": "15/01/2013"}
    #
    Vérifier le code retour du web service et vérifier que son message est  Put  consultations/3  ${json}  200  L'avis de la consultation 3 a été pris en compte
    #
    Vérifier le code retour du web service et vérifier que son message est  Put  consultations/3  ${json}  400  Un retour d'avis a déjà été rendu pour la consultation '3'.

    ##
    #
    ${json} =  Set Variable  { "avis": "Favorable", "date_retour": "15/03/2013", "fichier_base64": "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b25bMSAwIFIgL0ZpdEggODQyXQovTGFuZyhmci1GUikKPj4KZW5kb2JqCgoxNSAwIG9iago8PC9BdXRob3I8RkVGRjAwNTMwMDZGMDA2NjAwNjkwMDY1MDA2RTAwMjAwMDU0MDA0OTAwNEQwMDQ1MDA1QTAwNEYwMDU1MDA0MTAwNDcwMDQ4MDA1ND4KL0NyZWF0b3I8RkVGRjAwNTcwMDcyMDA2OTAwNzQwMDY1MDA3Mj4KL1Byb2R1Y2VyPEZFRkYwMDRDMDA2OTAwNjIwMDcyMDA2NTAwNEYwMDY2MDA2NjAwNjkwMDYzMDA2NTAwMjAwMDM0MDAyRTAwMzI+Ci9DcmVhdGlvbkRhdGUoRDoyMDE4MTAzMDE2NDYyOCswMScwMCcpPj4KZW5kb2JqCgp4cmVmCjAgMTYKMDAwMDAwMDAwMCA2NTUzNSBmIAowMDAwMDA3Nzg5IDAwMDAwIG4gCjAwMDAwMDAwMTkgMDAwMDAgbiAKMDAwMDAwMDI0OCAwMDAwMCBuIAowMDAwMDAwMjY4IDAwMDAwIG4gCjAwMDAwMDA0NDcgMDAwMDAgbiAKMDAwMDAwNzkzMiAwMDAwMCBuIAowMDAwMDAwNDg3IDAwMDAwIG4gCjAwMDAwMDY4NDAgMDAwMDAgbiAKMDAwMDAwNjg2MSAwMDAwMCBuIAowMDAwMDA3MDU2IDAwMDAwIG4gCjAwMDAwMDc0MTMgMDAwMDAgbiAKMDAwMDAwNzYzMSAwMDAwMCBuIAowMDAwMDA3NjY0IDAwMDAwIG4gCjAwMDAwMDgwMzEgMDAwMDAgbiAKMDAwMDAwODE0NCAwMDAwMCBuIAp0cmFpbGVyCjw8L1NpemUgMTYvUm9vdCAxNCAwIFIKL0luZm8gMTUgMCBSCi9JRCBbIDxCRDcxNjQzM0JGODlBNjExQkQzNTNEMDc0MDg5RDI0RT4KPEJENzE2NDMzQkY4OUE2MTFCRDM1M0QwNzQwODlEMjRFPiBdCi9Eb2NDaGVja3N1bSAvNUI3NjEwRDQ1QzMyOTUyMzI4RjdCQ0Q5OEJGRTc2Q0YKPj4Kc3RhcnR4cmVmCjg0MDUKJSVFT0YK", "nom_fichier": "plop.pdf"}
    #
    Vérifier le code retour du web service et vérifier que son message est  Put  consultations/4  ${json}  200  L'avis de la consultation 4 a été pris en compte
    #
    Vérifier le code retour du web service et vérifier que son message est  Put  consultations/4  ${json}  400  Un retour d'avis a déjà été rendu pour la consultation '4'.
