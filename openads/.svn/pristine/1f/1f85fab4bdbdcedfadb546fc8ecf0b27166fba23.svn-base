openADS Historique des versions
===============================

6.2.0 (unreleased)
------------------

* Correction - Sélection des dossiers liés géographiquement par référence cadastrale
  sur 9 caractères.
  Ticket #10285.
* Correction - La reprise de rédaction sur une instruction n'est plus possible
  si le document est signé électroniquement.
  Ticket #10283.
* Correction - PHP warning lors de la récupération des tâches au format JSON.
  Ticket #10278.
* Correction - Json payload non valide lors de l'envoi de certaines tâches.
  Ticket #10271.


6.1.0 (05/10/2023)
------------------

* Évolution - Évolution de l'affichage du listing des DI
  Ticket #10277.
* Évolution - Amélioration ergonomique de la synthèse des dossiers d'instruction.
  Ticket #10262.
* Évolution - Évolutions, améliorations et optimisations du code.
  Ticket #10256.
* Correction - La recherche des notifications d'un type précis retourne tout de
  même les autres types sur une instruction.
  Ticket #10276.
* Correction - Les demandes d'ajout de sous-dossiers sont accessibles depuis le
  menu "Guichet Unique > Nouveau Dossier".
  Ticket #10266.
* Correction - Les consultations n'apparaissent pas sur les sous-dossiers.
  Ticket #10263.
* Correction - Correction de l'accès au journal d'instruction depuis un dossier
  d'instruction via les menus "Tous les encours", "Mes clôturés",
  "Tous les clôturés".
  Ticket #10261.
* Correction - Modification du message informant l'utilisateur que la
  notification de l'instruction n'est pas possible.
  Ticket #10259.
* Correction - Optimisation de la récupération des tâches au format JSON.
  Ticket #10258.
* Correction - Une erreur lors de la récupération de la lettretype d'une
  instruction affiche un document PDF vide.
  Ticket #10257.
* Correction - Optimisation de la refonte graphique.
  Ticket #10255.
* Correction - Le calcul des taxes empêche l'enregistrement de modification des
  données techniques.
  Ticket #10254.
* Correction - Ne pas vérifier la disponibilité du stockage de fichier lors de
  l'ajout d'une tâche.
  Ticket #10252.


6.0.0 (31/08/2023)
------------------

* Évolution - Le champ "Type" est trié comme sur le formulaire de la demande,
  sur le listing de recherche des dossiers d'instruction.
  Ticket #10251.
* Évolution - Le fieldset consultation sur la fiche des dossiers d'instruction
  est désormais repliable.
  Ticket #10247.
* Évolution - Ajout de champs de fusion pour l'architecte et les demandeurs :
  - propriétaire
  - architecte lc
  - concepteur-paysagiste
  Ticket #10245.
* Évolution - Refonte graphique.
  Ticket #10238.
* Évolution - Mise à jour des données techniques et CERFA.
  Ticket #10236.
* Évolution - Ajout d'une option option_filtre_instructeur_DI_par_division 
  permettant de limiter l'affectaction des dossiers aux instructeurs de la
  division de l'utilisateur.
  Ticket #10233.
* Évolution - Intégration du code de suivi du portail lors du traitement d'une
  tâche entrante.
  Ticket #10228.
* Évolution - Filtrage de la liste des instructeurs selon la collectivité
  d'appartenance de l'utilisateur.
  Ticket #10226.
* Évolution - Filtrage des motifs de consultation des tiers selon la
  collectivité d'appartenance de l'utilisateur.
  Ticket #10225.
* Évolution - Permettre le traitement des dossier ayant un suffixe du type "M1".
  Ticket #10208.
* Évolution - Évolutions, améliorations et optimisations du code :
  - ajout d'index dans la base de données pour optimiser les traitements
    d'affichage
  - suppression des logs trop verbeux
  - correction de la recherche des notifications d'une instruction
  - traitement des tâches avec des dates dont l'annèe à moins de 4 caractères
  - correction et optimisation des tests
  Ticket #10165.
* Évolution - Gestion des champs requis pour la transmission à Plat'AU.
  Ticket #10135.
* Correction - Erreur sur le code INSEE lors de la suppression d'un dossier
  d'instruction.
  Ticket #10250.
* Correction - Le tri sur les colonnes des listings de sous-dossier des dossiers
  d'instruction provoque des erreurs.
  Ticket #10249.
* Correction - Le message d'information de l'onglet sous-dossier des dossiers
  d'instruction s'affiche en double.
  Ticket #10248.
* Correction - L'affichage dynamique des champs ne fonctionne plus pour certains
  formulaires.
  Ticket #10246.
* Correction - La suppression d'un type de demande provoque une erreur de base
  de données.
  Ticket #10244.
* Correction - Erreur d'affichage, sur les dossiers d'instruction, des tableaux
  de sous-dossiers, si un de leur libellé contiens des caractères spéciaux.
  Ticket #10243.
* Correction - Prise en compte du code numérique de division lors de
  l'intégration des dossiers ads2007.
  Ticket #10242.
* Correction - Message d'erreur "objet invalide" lors de l'affichage de
  sous-dossier historique.
  Ticket #10241.
* Correction - Le decriptif des travaux sur la fiche des dossiers d'instruction
  déborde du champ.
  Ticket #10240.
* Correction - Erreur sur la date d'envoie en signature lors d'une tentative de
  renvoi en signature au parapheur d'une instruction.
  Ticket #10237.
* Correction - Problème de notification commune sur les instructions.
  Ticket #10231.
* Correction - Augmentation du nombre de caractères pour le champ localité de la
  demande.
  Ticket #10227.


5.19.0 (13/07/2023)
-------------------

* Évolution - Ajout d'un nouveau sous-onglet "Téléchargement", dans l'onglet
  "Pièces & documents", servant à consulter, télécharger et récupérer une
  archive des pièces d'un dossier.
  Ticket #10210.
* Évolution - Intégration du code de suivi du portail sur les dossiers
  d'instruction.
  Ticket #10211.
* Évolution - Permettre de tester la disponibilité du système de stockage des
  documents.
  Ticket #10213.
* Évolution - Amélioration de l'ajout d'annexes lors de la notification.
  Ticket #10216.
* Correction - Prise en compte de la date limite de complétude
  dans le tri sur la date limite dans les listings "Mes encours"
  et "Tous les encours".
  Ticket #10214.
* Correction - Double ligne dans le tableau d'historique des parapheurs.
  Ticket #10219.


5.18.0 (19/06/2023)
-------------------

* Évolution - Ajout d'un nouveau type de sous-dossier DI permettant de
  déclencher la création d’un DA.
  Ticket #10167.
* Évolution - Ajout d'une permission pour consulter le document PeC sur les
  consultations.
  Ticket #10173.
* Évolution - Rend paramétrable le nombre d'annexe pouvant être ajoutées aux
  notifications des demandeurs.
  Ajout du nom du service et de la date de retour aux avis pouvant être
  sélectionnés comme annexe.
  Ticket #10174.
* Évolution - La liste des catégories des tiers tient compte du service de
  l'utilisateur lors de l'ajout de la consultation d'un tiers.
  Ticket #10176.
* Évolution - Ajout du numéro d'archive sur les dossier d'instruction de
  recours.
  Ticket #10178.
* Évolution - Intégrer le libellé du type de DI dans les choix du champs
  "Sous-dossier pour le(s) DI" des types DI.
  Ticket #10181.
* Évolution - Ajout d'une couleur indiquant l'état d'un dossier sur les
  pastilles "Recours / Infraction" depuis un dossier d'instruction.
  Ticket #10184.
* Evolution - Empêcher la suppression des pièces déjà transmises dans Plat'AU.
  Ticket #10188.
* Évolution - Diminution du nombre de requête de récupération du paramétrage
  d'une collectivité.
  Ticket #10191.
* Évolution - Améliorer l'URL fournie par le parapheur pour aiguiller
  directement dans l'onglet pièce du dossier concerné.
  Ticket #10193.
* Évolution - Restriction de l’accès aux pièces sur le dossier d'autorisation si
  le dossier d'instruction n’est pas clôturé (secret de l’instruction).
  Ticket #10196.
* Évolution - Message d'avertissement sur les instructions avec notification si
  le pétitionnaire principal ne peut pas être notifié.
  Ticket #10197.
* Évolution - Restriction de la gestion des profils en utilisation les
  hiérarchies.
  Ticket #10200.
* Évolution - Ajout de l'argument 'tri_tab_widget' au widget de suivi
  d'intruction paramétrable
  Ticket #10201.
* Évolution - Implémentation de la notification par courriel des signataires.
  Ticket #10206.
* Évolution - L'échec de la replication de la géolocalisation ne doit pas faire
  échouer l'ajout d'un dossier.
  Ticket #10207.
* Correction - Notice php lors de la notification manuelle via portal.
  Ticket #10117.
* Correction - La vue spécifique pour afficher le tableau des documents
  constituant le dossier final prend en compte qu'une instruction finalisée
  pourrait ne pas avoir une date de finalisation.
  Ticket #10169.
* Correction - Optimisation de la méthode permettant de parser les références
  cadastrales (suite).
  Ticket #10170.
* Correction - La création d'un dossier d'instruction ayant un type dont le code
  a plus de 10 caractères échoue.
  Ticket #10171.
* Correction - Les messages d'informations liés au champ de saisi du numéro de
  dossier complet ne s'additionnent plus en dessous du champs.
  Ticket #10172.
* Correction - Les documents d'instruction apparaissent plusieurs fois dans le
  sous-onglet "Pièces & documents".
  Ticket #10177.
* Correction - Compatibilité PHP8.0.
  Ticket #10179.
* Correction - Amélioration de la recherche des notifications liées à une
  instruction.
  Ticket #10180.
* Correction - Correction lors du traitement d'import des fichiers pour les
  fichiers avec une extension PDF.
  Ticket #10186.
* Correction - Erreur de base de données lors de l'accès au listing 'Voir +' du
  widget de suivi d'instruction filtré sur la description du signataire.
  Ticket #10187.
* Correction - Impossible d'accèder au formulaire d'ajout des acteurs dont le
  nom de catégorie contiens des caractères spéciaux.
  Ticket #10189.
* Correction - Widget des dossiers avec documents en cours de signature (tri
  listing).
  Ticket #10192.
* Correction - Les compteurs de signatures des collectivités de niveau 2 ne sont
  pas pris en compte.
  Ticket #10194.
* Correction - Optimisation de l'ajout automatique des acteurs lors de la
  création d'un dossier.
  Ticket #10195.
* Correction - Problème de suppression d'évènement : la valeur accord_tacite est
  retournée comme null.
  Ticket #10199.
* Correction - Echec du traitement des tâches contenant des dates dont l'année a
  moins de 4 caractères.
  Ticket #10212.


5.17.0 (20/04/2023)
-------------------

* Évolution - Ajout des commentaires sur la table en base de données "compteur".
  Ticket #10024.
* Évolution - Évolution et optimisation du code de l'application.
  Ticket #10059.
* Évolution - Ajouter du champ "Motif" sur les consultations pour identifier le
  motif de prise en compte.
  Ticket #10115.
* Évolution - Ajout des champs de fusion suivants :
    - [date_notification_incompletude]
    - [complete_le]
  Ticket #10122.
* Évolution - Amélioration de la fonction SQL pour l'affichage d'une adresse.
  Ticket #10124.
* Évolution - Gestion de la mise à jour des tâches en cours de traitement.
  Ticket #10125.
* Évolution - Ajout d'une limite de dossier et d'une option de suppression des
  répertoires traitrés pour le script d'import des documents numérisés.
  Ticket #10126.
* Évolution - Filtrage/suggestion d'évènements en fonction des contraintes
  applicables au dossier.
  Ticket #10128.
* Évolution - Filtrage des acteurs par collectivité du dossier et par division
  territoriale.
  Ticket #10129.
* Évolution - Ajout de la colonne "État" dans l'onglet des dossiers liés depuis
  un dossier d'instruction.
  Ticket #10130.
* Évolution - Ajout de la notion de nature des travaux sur les dossiers
  d'instruction.
  Ticket #10131.
* Évolution - Amélioration de la vérification de l'existence d'un objet lié à
  une tâche de transfert.
  Ticket #10133.
* Évolution - Amélioration de l'affichage de la localisation sur le listing et
  dans la synthès des dossiers d'instruction et des dossiers d'autorisation.
  Ticket #10134.
* Évolution - Ajout automatique des acteurs à la création des dossiers pour la
  gestion des notifications des tiers.
  Ticket #10157.
* Évolution - Ajout des permissions pour l'export CSV depuis les listings, sur
  les profils concernant le contentieux.
  Ticket #10160.
* Évolution - Vérification du code entité lors de la création d'un dossier en
  mode service consulté.
  Ticket #10163.
* Évolution - Modification de l'affichage des listes à choix utilisant chosen.
  Ticket #10166.
* Correction - Multiples améliorations des moniteurs Plat'AU et IDE'AU.
  Ticket #9934.
* Correction - Remplir le champ *annee* des dossiers d'instruction importés.
  Ticket #9557.
* Correction - Erreur sur l'affichage du formulaire de modification d'un
  dossier d'instruction de type ADS en mode service consulté.
  Ticket #10089.
* Correction - Problème d'affichage de la barre de recherche dans les
  sous-tableau des dossiers.
  Ticket #10112.
* Correction - Gestion de la division par 0 lors des calcules des données
  complémentaires pour les DIA.
  Ticket #10116.
* Correction - Renommer les champs dans les CERFA et les données techniques.
  Ticket #10121.
* Correction - L'ajout d'une tâche pec_metier_consultation ne récupère pas
  correctement ses documents.
  Ticket #10123.
* Correction - Le tri de la liste des types de pièces prend désormais en compte
  les codes dont le format est "XX-1-1-1".
  Ticket #10127.
* Correction - Bug sur menu parametrage dossiers Workflow.
  Ticket #10136.
* Correction -  Lien cassé dans le Workflow vers les événements d’instruction
  liés.
  Ticket #10137.
* Correction - Lenteur lors de la suppression d'un dossier.
  Ticket #10138.
* Correction - Corriger l'export CSV sur le listing des dossiers contentieux qui
  récupère la classe CSS de la couleur du type du DI .
  Ticket #10139.
* Correction - Les notifications de type portal, manuelles et sans annexes
  génèrent des tâches de catégorie "portal" et non plus "platau".
  Ticket #10144.
* Correction - Cacher les colonnes non nécessaires dans le listing des dossiers
  à qualifier.
  Ticket #10147.
* Correction - Problème délai de l'alerte 5 jours du widget suivi instruction
  non respecté.
  Ticket #10148.
* Correction - Correction de la récupération des contraintes lors de la
  synchronisation avec un SIG.
  Ticket #10151.
* Correction - Correction technique sur les exports SITADEL.
  Ticket #10152.
* Correction - Le clic pour ouvrir le SIG depuis un dossier aboutit à une page
  blanche.
  Ticket #10156.
* Correction - Correction technique sur les statistiques à la demande.
  Ticket #10158.
* Correction - Correction technique sur les tâches de transfert Plat'AU.
  Ticket #10159.
* Correction - Optimisation de la méthode permettant de parser les références
  cadastrales.
  Ticket #10161.
* Correction - Lenteurs à l'affichage des dossiers d'instruction dématérialisés
  de consultation entrante.
  Ticket #10162.
* Correction - Compatibilité PHP8.0.
  Ticket #10164.


5.16.0 (16/02/2023)
-------------------

* Évolution - Empêcher la suppression du dossier si la source du dépôt n'est
  pas l'application.
  Ticket #10037.
* Évolution - Ajout de la possibilité de filtrer par type de dossier
  d'instruction les dossiers transmis à Plat'AU grâce au
  paramètre "dit_code__to_transmit__platau".
  Ticket #10038.
* Évolution - Mise à jour des données techniques et CERFA.
  Ticket #10050.
* Évolution - Tri de la liste à choix des services lors de l'ajout d'une
  consultation lorsque le dossier d'instruction n'est pas transmission à
  Plat'AU.
  Ticket #10054.
* Évolution - Spécifique à certain connecteur SIG : géolocalisation par disque
  (latitude, longitude, rayon).
  Ticket #10060.
* Évolution - Ajout de champ manquant dans l'export des tiers.
  Ticket #10062.
* Évolution - Permettre la modification du commentaire d'une tâche lors de la
  mise à jour de son état.
  Ticket #10071.
* Évolution - Ajout de retour d'information plus riche pour la signature
  électronique des documents.
  Ticket #10085.
* Évolution - Nouvelles contraintes de récupération des demandeurs lors du dépôt
  d'une demande sur existant.
  Ticket #10088.
* Évolution - Notification automatique des tiers - gestion des acteurs des
  dossiers d'instruction.
  Ticket #10090.
* Évolution - Permettre l'envoi en signature au parapheur des documents sur
  un dossier sans date limite.
  Ticket #10099.
* Évolution - Evolution du champs "Identifiant acteur" Plat'AU  des tiers pour
  permettre la saisie de plusieurs identifiant.
  Ticket #10107.
* Évolution - Gestion des tâches de transmission pour les lettres du premier
  mois.
  Ticket #10108.
* Évolution - Support des documents pour les tâches de transmission entrants
  concernant les prises en compte métier.
  Ticket #10109.
* Correction - Erreur de base de données lors de l'accès au listing du widgets
  des messages.
  Ticket #9881.
* Correction - Gestion du CERFA et des données techniques lors de l'ajout d'un
  dossier d'instruction sur existant.
  Ticket #10018.
* Correction - Gestion de la mise à jour des tâches en cours de traitement afin
  que le champ "object_id" ne puisse pas être modifié.
  Ticket #10021.
* Correction - Bug: PHP Warning: array_search() expects parameter 2 to be array,
  string given.
  Ticket #10039.
* Correction - Doublon lors de la notification automatique des tiers consulté.
  Ticket #10040.
* Correction - Erreur lors de la consultation d'une tâche dont l'objet de
  référence n'existe plus en base.
  Ticket #10041.
* Correction - Les codes DATD inclus en arguments dans le widget
  "suivi_instruction_parametrable" doivent être en minuscule.
  Ticket #10042.
* Correction - Bug de notice PHP à l'ajout d'un département sans date de début
  de validité 
  Ticket #10044.
* Correction - Gestion de l'extension du fichier de retour d'avis stocké sur la
  consultation.
  Ticket #10045.
* Correction - Bug d'affichage du journal d'instruction selon le point d'entrée.
  Ticket #10046.
* Correction - Erreur dans les logs JavaScript : unreachable code after return
  statementscript.js:894:12
  Ticket #10047.
* Correction - Erreur d'encodage des données dans la payload des tâches après
  tronquage des données.
  Ticket #10048.
* Correction - Le calcul de l'instruction suivante lors de la récupération des
  identifiants externes retourne l'événement.
  Ticket #10049.
* Correction - La récupération des attributs se fait désormais correctement lors
  du calcul de centroïde sur un dossier d'instruction.
  Ticket #10052.
* Correction - PHP Fatal Error SIG busgeo.
  Ticket #10056.
* Correction - La notification des demandeurs n'est plus de type "portal" par
  défaut.
  Ticket #10057.
* Correction - Erreur de base de données sur la recherche simple des DA.
  Ticket #10061.
* Correction - La suppression d'une consultation lié à une tâche non traité
  annule la tâche. La suppression de consultation lié à une tâche qui n'est pas
  "à traité" n'est plus possible.
  Ticket #10063.
* Correction - Harmonisation de la requête des exports des habilitations de
  tiers avec celle d'affichage du formulaire des tiers.
  Ticket #10065.
* Correction - La PeC du DI n'était pas conservée après modification pour les
  affichages de type "ADS".
  Ticket #10066.
* Correction - Lignes de logs qui se répètent et font inutilement grossir la
  taille du fichier de log.
  Ticket #10076.
* Correction - La vérification des restrictions des instructions empêche la mise
  à jour du suivi de la notification.
  Ticket #10081.
* Correction - La suppression de dossier ne fonctionne pas si le numéro de
  dossier ne respecte pas la nomenclature imposée par l'urbanisme.
  Ticket #10082.
* Correction - PostGreSQL ERREUR: erreur de syntaxe sur ou près de « AND » au
  caractère 366.
  Ticket #10083.
* Correction - Fichier PDF corrompu lors du téléchargement via la notification
  par mail.
  Ticket #10084.
* Correction - Ajout de la vérification de l'existance du dossier lors du
  traitement des tâches entrantes des prise en compte métier et des avis.
  Ticket #10098.
* Correction - Page blanche pour les dossiers dont le numéro a été saisi
  complètement manuellement .
  Ticket #10110.
* Correction - Optimisation de la récupération des opérateurs
  Ticket #10111.


5.15.0 (15/12/2022)
-------------------

* Évolution - Gestion de l'instructeur secondaire pour le type d'affichage des
  dossiers d'instruction : "consultation entrante".
  Ticket #9989.
* Évolution - Amélioration de la fonction SQL pour l'affichage d'une adresse.
  Ticket #9991.
* Évolution - Les tiers consulté sont triés sur le libellé de la catégorie.
  Ticket #9999.
* Evolution - En mode service consulté, les tacites ne sont plus appliqués sur
  les dossiers liés à des demandes de consultation et pour lesquels un dossier
  de consultation plus récent existe.
  Ticket #10002.
* Évolution - Importer par CSV les tiers consulté et leur habilitation.
  Ticket #10004.
* Évolution - Tri par défaut du listing des dossiers par date dépot et par date
  limite pour les encours.
  Ticket #10005.
* Évolution - Abstracteur SIG : ajout de la possibilité de supprimer la
  géolocalisation d'un dossier d'instruction sur le SIG.
  Ticket #10011.
* Évolution - Abstracteur SIG : permettre la reproduction de la géolocalisation
  d'un dossier d'instruction sur un dossier lié ou parent.
  Ticket #10012.
* Évolution - Abstracteur SIG : récupération d’attributs sur le dossier
  d'instruction lors du calcul du centroïde.
  Ticket #10036.
* Évolution - Ajout de l'identidiant Plat'AU du service consultant et de son nom
  dans l'export des dossiers d'instruction en mode service consulté.
  Ticket #10019.
* Évolution - Ajout d'un widget de tableau de bord compteur pour les signatures
  électroniques.
  Ticket #10023.
* Évolution - Ajout d'une fonctionnalité permettant de compter les éléments.
  Ticket #10024.
* Évolution - Compatibilité de l'application avec PHP 8.0.
  Ticket #10026.
* Correction - Gestion de l'affichage du contenu de la payload lors de la
  consultation des tâches sortantes existantes et déjà traitées.
  Ticket #9986.
* Correction - Erreur lors de la suppression de dossiers dont le numero a eté
  saisie manuellement.
  Ticket #9987.
* Correction - Evolution et optimisation du code de l'application.
  Ticket #9988.
* Correction - Gestion des tâches de transfert sortantes, afin que le contenu de
  la json payload soit sauvegardé en base de données.
  Ticket #9990.
* Correction - Calcul de l'instruction suivante lors de la récupération des
  identifiants externes, retourne à nouveau l'instruction et non l'événement.
  Ticket #9992.
* Correction - La notification automatique des tiers ne fonctionne pas pour les
  tiers n'ayant pas d'identifiant Plat'AU.
  Ticket #9993.
* Correction - Corrections d'erreur mineure PHP.
  Ticket #9995.
* Correction - Affichage d'un lien vers le dossier d'instruction, en
  consultation des tâches entrantes de type "portal".
  Ticket #9996.
* Correction - L'infobulle sur le champ "Au terme du délai" est disponible
  depuis tous les menus de dossier d'instruction.
  Ticket #10006.
* Correction - Mise à jour du numéro d’archive pour les dossiers d'instruction
  de type "infractions".
  Ticket #10008.
* Correction - Les tâches en état "draft" ne repassent pas dans l'état "new"
  suite à une modification du statut Plat'AU.
  Ticket #10010.
* Correction - Lors de la création d'un dossier venant d'AD'AU, la tâche
  "Creation_DA" ne doit pas être ajoutée.
  Ticket #10016.
* Correction - Doublon sur l'affichage des dossiers d'instruction (consultation
  entrante).
  Ticket #10017.
* Correction - Prendre en compte l'état du dossier d'instruction initial lors de
  la récupération du type de demande lors d'un traitement de tâche entrante de
  création de demande.
  Ticket #10020.
* Correction - Les actions de gestion des opérateurs depuis la fenêtre modale
  sont désormais cliquable même sur un écran avec une petite résolution.
  Ticket #10027.
* Correction - L'export Sitadel récupère les informations de toutes les
  collectivités et pas uniquement de celle de l'utilisateur connecté.
  Ticket #10028.
* Correction - Erreur lors de l'affectation automatique sans localisation.
  Ticket #10029.
* Correction - Problème d'affichage "Au terme du délai" sur les dossiers
  d'instruction .
  Ticket #10030.
* Correction - Impossible d'ajouter un dossier sur existant avec l'option
  "commune" activée.
  Ticket #10034.
* Correction - Amélioration des tests automatisés.
  Ticket #10035.


5.14.0 (27/10/2022)
-------------------

* Évolution - Ajout de champs supplémentaires dans l'export CSV des dossiers
  d'instruction.
  Ticket #9955.
* Évolution - Mise à jour des champs des données techniques et des CERFA suite
  aux nouvelles versions des CERFA.
  Ticket #9957.
* Évolution - Ajouter l'identifiant au libellé de la couche, dans la fiche des
  contraintes de référence.
  Ticket #9958.
* Évolution - Mise en place de l'instructeur secondaire pour les dossier
  d'instruction : ajout d'un filtre "instructeur_secondaire" pour les widgets et
  sur certains listings de dossier d'instruction.
  Ticket #9961.
* Évolution - Permet la modification du rapport d'instruction quelque soit
  l'état du dossier d'instruction.
  Ticket #9962.
* Évolution - Retrait de la contrainte de saisie de date d'envoi en signature
  pour modifier un document généré par une instruction.
  Ticket #9963.
* Évolution - Ajout du champ de numéro d’archive sur les dossiers d'infraction.
  Ticket #9964.
* Évolution - Évolution et optimisation du code de l'application.
  Ticket #9967.
* Évolution - Gestion des tâches de transfert sortantes, afin que le contenu de
  la json payload soit sauvehardé en base de données.
  Ticket #9971.
* Évolution - Supprimer la liste à choix de la pagination sur les moniteurs
  Plat'AU et IDE'AU.
  Ticket #9975.
* Évolution - Ajout de la notification automatique des tiers consultés depuis
  les instructions.
  Ticket #9976.
* Évolution - Ajout de la gestion des transferts et des modificatifs pour les
  transferts vers Plat'AU.
  Ticket #9980.
* Correction - Absence de notification à la commune lors d'un dépôt d'une
  demande dématérialisée.
  Ticket #9956.
* Correction - L'affectation automatique par localisation est de nouveau
  fonctionnelle, ainsi que l'utilisation du filtre sur le type de dossier
  d'instruction.
  Ticket #9960.
* Correction - La suppression de dossier d'instruction sans suffixe remet à jour
  la séquence pour la numérotation des dossiers.
  Ticket #9969.
* Correction - Lenteur supprimé depuis les listings des dossiers d'instruction à
  cause de l'icône d'identification des dossiers déposés de façon dématérialisée.
  Ticket #9972.
* Correction - Correction de la suppression d'une instruction lié à une
  notification.
  Ticket #9973.
* Correction - Le suivi des dates d'une instruction ne déclenche plus l'action
  de l'événement sur le dossier d'instruction.
  Ticket #9974.
* Correction - Le compteur des widgets utilisant recherche_dossier_parametrable
  est désormais identique au nombre de dossier dans le listing du "Voir +".
  Ticket #9981.


5.13.0 (15/09/2022)
-------------------

* Évolution - Ajout de la possibilité de modifier manuellement un document
  d'instruction généré.
  Ticket #9924.
* Évolution - Gestion des opérations d’archéologie, mise en place des
  sous-dossiers.
  Ticket #9936.
* Évolution - Ajout d'un champ de fusion pour identifier un dossier déposé
  électroniquement.
  Ticket #9939.
* Évolution - Ajout d'un web service pour identifier en base de données les
  références à des fichiers qui n'existent plus dans le stockage principal.
  Ticket #9948.
* Évolution - À l'issue de l'ajout d'une instruction sans lettre type associée,
  le retour vers le listing des instructions est automatique.
  Ticket #9949.
* Évolution - Réintégration de la librairie externe om-theme dans l'application.
  Ticket #9950.
* Évolution - Remplacement des appels "database::isError()" par
  "om_application->isDatabaseError()".
  Ticket #9951.
* Évolution - Modification du comportement du champ "au terme du délai" sur un
  dossier d'instruction non tacite.
  Ticket #9952.
* Évolution - Identification des dossiers d'instruction dématérialisés depuis
  les listings avec une nouvelle icône de consultation du dossier.
  Ticket #9953.
* Évolution - Ajout de la police Arial pour la rédaction des documents PDF.
  Ticket #9954.
* Correction - Problème sur la fenêtre modale d'affichage des pièces depuis un
  dossier d'instruction.
  Ticket #9935.
* Correction - Problème d'identification lors de la création en erreur d'un
  fichier dans le stockage alternatif (sur le framework openMairie).
  Ticket #9937.
* Correction - Problèmes liés à la Gestion des opérateurs.
  Ticket #9938.
* Correction - Lors de la notification la liste des tiers est filtré par rapport
  au dossier d'instruction.
  Ticket #9940.
* Correction - Le déclenchement de la notification automatique via portal pour
  des dossiers non portal n'affiche plus de notification en erreur.
  Ticket #9947.


5.12.0 (01/08/2022)
-------------------

* Évolution - Afficher correctement la liste des pièces manquantes lors de la
  réception d'une PeC négative depuis Plat'AU.
  Ticket #9910.
* Évolution - Modifier les intitulés de l'onglet et des sous-onglets présentants
  les pièces d'un dossier.
  Ticket #9911.
* Évolution - Notification automatique par email de la commune lors d'un dépôt
  dématérialisé.
  Ticket #9917.
* Évolution - Ajout de la recherche de dossier sur le tableau de bord pour le
  profil d'administrateur technique et fonctionnel.
  Ticket #9918.
* Évolution - Filtrer les dossiers liés géographiquement par commune.
  Ticket #9923.
* Évolution - Centrage des fenêtres modales.
  Ticket #9926.
* Évolution - Modification des conditions pour la suppression des dossiers
  d'instruction.
  Ticket #9932.
* Évolution - Ajout de la possibilité d'afficher un logo spécifique dans
  l'entête de l'application.
  Ticket #9933.
* Correction - Erreur lors de la suppression d'une instruction à cause des
  notifications liées.
  Ticket #9907.
* Correction - Dans le suivi des identifiants externes sur le DI remplacement de
  "état non disponible" par "N/A" (Non applicable).
  Ticket #9914.
* Correction - Retrait de l'encadré des contraintes liés au dossier dans le
  journal de log.
  Ticket #9915.
* Correction - Filtre sur les tiers consultés depuis une catégorie.
  Ticket #9916.
* Correction - Traduction cassée sur le listing et sur la recherche avancée des
  moniteurs Plat'AU et iDE'AU.
  Ticket #9919.
* Correction - Il n'y a plus de problèmes liés à la gestion des opérateurs.
  Ticket #9920.
* Correction - Correction de la payload des tâches de notification à destination
  du portail SVE.
  Ticket #9921.
* Correction - Optimisation des moniteurs Plat'AU et iDE'AU.
  Ticket #9922.
* Correction - Affichage de la synthèse du DI cassé lors de l'affichage du
  pictogramme de géolocalisation.
  Ticket #9925.
* Correction - Modification de la récupération de la nature des dossiers
  d'instruction depuis les listings.
  Ticket #9927.
* Correction - Vérification de l'utilisation des départements Corse (2A et 2B).
  Ticket #9929.
* Correction - L'affichage du type de pièce depuis la liste des pièces d'un
  dossier d'instruction est désormais correct.
  Ticket #9931.


5.11.0 (23/06/2022)
-------------------

* Évolution - Amélioration de la récupération du message de l'infobulle dans
  la colonne "type" du listing du widget de suivi de transfert.
  Ticket #9878.
* Évolution - Implémentation de la gestion des opérateurs pour l'archéologie
  préventive.
  Ticket #9890
* Évolution - Ajout de la fonction SQL de maintenance "task_by_external_uid()"
  pour rechercher les tâches par un identifiant externe.
  Ticket #9893.
* Correction - Désormais il n'y a plus d'erreur lors du tronquage des valeurs
  d'une payload dont la césure se fait sur un caractère accentué.
  Ticket #9894.
* Évolution - Ajout de la possibilité de transmettre des annexes lors de la
  notification des demandeurs par le portail SVE.
  Ticket #9900.
* Évolution -  Filtrage des tiers consulté selon la collectivité de la catégorie
  qui leur est associé.
  Ticket #9903.
* Évolution - Ajout d'une option pour améliorer le nommage des pièces déposées
  de façon dématérialisées.
  Ticket #9904.
* Évolution - La consultation de tiers consulté ne doit être possible que si des
  tiers sont paramétrés.
  Ticket #9905.
* Évolution - Plusieurs évolutions apportées dans les moniteurs Plat'AU/iDE'AU.
  Ticket #9909.
* Correction - La requête SQL de récupération des dossiers d'instruction utilise
  correctement le schéma paramétré.
  Ticket #9883.
* Correction - L'option pour modifier le libellé de "Collectivité" en "Service"
  est désormais fonctionnelle pour les exports CSV.
  Ticket #9887.
* Correction - Modification de la couleur du pictogramme indiquant la
  géolocalisation des dossiers sur la synthèse du DI, selon si le dossier a été
  géolocalisé ou non.
  Ticket #9889.
* Correction - Stockage correct des documents des avis de consultation transmis
  par Plat'AU.
  Ticket #9892.
* Correction - Le champ date d'envoi au contrôle de légalité lors du suivi des
  dates d'une instruction, est désormais désactivé sur les dossiers qui sont
  identifiés comme "jamais transmissible" à Plat'AU.
  Ticket #9902.


5.10.0 (12/05/2022)
-------------------

* Évolution - Ajout de la date de création et de la date de dernière modification
  sur le moniteur Plat'AU et le moniteur iDE'AU.
  Ticket #9833.
* Évolution - Ajout d'infobulle sur toutes les listes à choix avec autocomplétion
  (chosen) pour expliquer leur fonctionnement.
  Ticket #9841.
* Évolution - Mise en place d'une interface pour le journal d'instruction
  accessible pour les administrateurs dans un dossier d'instruction.
  Ticket #9848.
* Évolution - Mise en place d'alertes en cas de problème de notification
  automatique des demandeurs lié à un mauvais paramétrage du pétitionnaire
  principal d'un dossier et activation de la notification manuelle pour les
  instructions étant notifiées automatiquement.
  Ticket #9849.
* Évolution - Ajout de la colonne service/om_collectivite dans le listing, la
  recherche avancée et dans l'export des signataires.
  Ticket #9850.
* Évolution - Amélioration de l'affichage de la liste des tâches au format JSON.
  Ticket #9851.
* Évolution - Ajout du champ de fusion pour le libellé du service consultant
  sur la requête "récapitulatif du dossier d'instruction/instruction".
  Ticket #9856.
* Évolution - Ajout d'une colonne dans le listing des intructions indiquant qui
  a créé ou finalisé l'instruction.
  Ticket #9861.
* Évolution - Ajout d'un widget de tableau de bord pour le suivi des tâches de
  transfert vers Plat'AU, pour le moment uniquement destiné aux administrateurs.
  Ticket #9864.
* Évolution - Ajout de la possibilité d'avoir plusieurs notifications par
  message du même type le même jour.
  Ticket #9866.
* Évolution - Ajout d'une indication sur la date d'envoi au contrôle de légalité
  lors de la validation de l'action d'envoi au contrôle de légalité.
  Ticket #9874.
* Évolution - Modification de la couleur du pictogramme indiquant la
  géolocalisation des dossiers sur les listings, selon si le dossier a été
  géolocalisé ou non.
  Ticket #9875.
* Évolution - Ajout de la permission de créer des messages manuels pour les
  profils d'instructeur polyvalent et d'instructeur polyvalent commune.
  Ticket #9876.
* Correction - Sur tous les affichages de pièce pour les types "autre à préciser"
  la description de la pièce est affichée à la place du type.
  Ticket #9844.
* Correction - La catégorie et les spécialités sont correctement affichées pour
  habilitations des tiers consultés.
  Ticket #9845.
* Correction - Permettre l'annulation de l'envoi en signature dans le parapheur.
  Ticket #9847.
* Correction - Optimisation de la gestion des identifiants externes lors du
  traitement des tâches de catégorie portail.
  Ticket #9865.
* Correction - Les consultations sont marquées comme non lu lors de la mise à
  jour de l'avis par un retour Plat'AU.
  Ticket #9867.
* Correction - Le bloquage du dépôt d'une demande avec une date dans le futur
  n'incrémente plus le numéro de dossier.
  Ticket #9870.


5.9.0 (07/04/2022)
------------------

* Évolution - Empêcher les dates de demande et de dépôt des dossiers d'être dans
  le futur.
  Ticket #9783.
* Évolution - Amélioration de l'affichage des formulaires de notification
  d'instruction et du paramétrage des messages des mails de notification.
  Ticket #9797.
* Évolution - Ajout de la recherche avancée et de l'export CSV sur la liste des
  habilitations des tiers consultés.
  Ticket #9799.
* Évolution - Mises en place des consultations vers des tiers consultés.
  Ticket #9800.
* Évolution - Gestion des visas des signataires.
  Ticket #9801.
* Évolution - Compléter les identifiants externes affichés dans les enveloppes
  transmis à Plat'AU.
  Ticket #9802.
* Évolution - Amélioration de l'identification des demandes possibles sur un
  dossier d'instruction.
  Ticket #9803.
* Évolution - Depuis le listing des instructions affiche l'utilsateur ayant
  finalisé l'instruction.
  Ticket #9804.
* Évolution - Permettre l'annulation de l'envoi en signature dans le parapheur
  connecté.
  Ticket #9807.
* Évolution - Ajout de la commune dans les champs exportés depuis le listing des
  dossiers d'instruction.
  Ticket #9808.
* Évolution - Ajout de la possibilité de sélectionner toutes les contraintes
  d'un même groupe sur un dossier d'instruction pour choisir de les conserver.
  Ticket #9813.
* Évolution - Ajout de la possibilité d'importer des tiers consultés.
  Ticket #9814.
* Évolution - Différenciation des droits d'ajouts des pièces et des documents de
  travail sur un dossier d'instruction.
  Ticket #9819.
* Évolution - Ajout d'un argument sur le widget des retours de messages afin de
  prendre en compte également les dossiers d'instruction cloturés.
  Ticket #9823.
* Évolution - Ajout des paramètres pour exclure les événements et filtrer sur le
  statut du dossier dans le widget de suivi d'instruction paramétrable.
  Ticket #9837.
* Évolution - Ajout de la possibilité d'utiliser une fonction SQL pour
  l'affichage générique des adresses dans les documents générés.
  Ticket #9838.
* Évolution - Ajout de la possibilité d'envoyer en signature au parapheur
  connecté une instruction dont la date limite d'instruction est le jour même.
  Ticket #9840.
* Correction - Optimisation des requêtes permettant de savoir si un dossier est
  éligible au changement de décision par l'instructeur commune.
  Ticket #9768.
* Correction - Le listing du widget de suivi d'instruction paramétrable ne
  provoque plus d'erreur de base de données.
  Ticket #9791.
* Correction - Réparation du cadre d'aperçu du document lors de la rédaction
  d'une d'instruction.
  Ticket #9792.
* Correction - Le caractère "+"" dans les champs de rédaction des instructions
  n'est plus remplacé par un espace.
  Ticket #9798.
* Correction - Les codes retours des fonctions de calcul du centroïde et de
  l'emprise sont désormais cohérents.
  Ticket #9805.
* Correction - Amélioration de la gestion de l'historique des signatures sur une
  instruction.
  Ticket #9812.
* Correction - Désormais l'identifiant externe des pièces affiché dans les
  enveloppes transmis à Plat'AU est correct.
  Ticket #9824.
* Correction - Ajout de la catégorie lors de la récupération des identifiants
  externes.
  Ticket #9828.
* Correction - Empêcher les doublons de liaison vers les demandeurs lors de
  l'ajout de demande sur existant ne créant pas de dossier d'instruction en
  dématérialisation.
  Ticket #9836.
* Correction - Mise en place d'une durée de validité par défaut si jamais la
  durée de validité d'un type de dossier d'instruction n'a pas pu être
  récupérée.
  Gestion des exceptions pour ce cas afin d'identifier les erreurs dans les
  logs.
  Ticket #9839.


5.8.0 (03/03/2022)
------------------

* Évolution - Ajout de la possibilité de paramétrer les tiers consultés.
  Ticket #9780.
* Évolution - Amélioration de l'affichage du type de dossier depuis la synthèse
  d'un dossier d'instruction.
  Ticket #9774.
* Évolution - Ajout de la possibilité de notifier les services consultés et les 
  tiers consultés, par mail depuis une instruction.
  Ticket #9776.
* Évolution - Augmentation du nombre de caractères sur les champs de voie des
  adresses sur les dossiers d'instruction.
  Ticket #9777.
* Évolution - Optimisation des requêtes pour l'affichage des champs de fusion
  dans les éditions.
  Ticket #9778.
* Évolution - Ajout de la recherche avancée et de l'export CSV sur les listings
  des  utilisateurs et des affectations automatiques.
  Ticket #9770.
* Évolution - Optimisation de l'affichage des identifiants Plat'AU sur les
  dossiers d'instruction.
  Ticket #9775.
* Évolution - Mise en place des habilitations pour les signataires.
  Ticket #9769.
* Évolution - Il est maintenant possible de paramétrer un événement afin qu'au
  moment de l'ajout d'une instruction lié a cet événement la sélection
  d'un signataire soit obligatoire avant de pouvoir la finaliser.
  Ticket #9767.
* Correction - Il n'y a désormais plus d'erreur lors de l'export du listing des
  dossiers d'instruction (menu Instruction > Recherche).
  Ticket #9771
* Correction - Les dossiers d'instruction importés sont à nouveau visible dans
  les différentes interfaces de l'application.
  Ticket #9773.
* Correction - Gestion de la modification des taches de qualification_DI
  faisant références à la table dossier pour permettre la suppression des
  dossier d'instruction liés a ces tâches.
  Ticket #9772.
* Correction - Le traitement de la création des demandes depuis une tâche ne
  provoque plus d'erreur PHP dans aucun cas.
  Ticket #9781.
* Correction - Suppression des doublons dans les différents listings des
  dossiers d'instruction.
  Ticket #9779.
* Correction - Suppression des doublons dans le widget des dossiers
  d'instruction non transmis à PLAT'AU.
  Ticket #9766.


5.7.0 (07/02/2022)
------------------

* Évolution - Les instructions peuvent être transmises au contrôle de légalité par
  Plat'AU depuis une action de l'instruction.
  Ticket #9645.
* Évolution - Ajouter le critère de recherche "collectivité" dans l'affectation
  automatique.
  Ticket #9734.
* Évolution - Ajout d'une description pour les signataires arrêté qui sera affichée
  dans la liste à choix lors de la création d'une instruction.
  Ticket #9749.
* Évolution - Ajout de nouveaux filtres pour le widget de suivi d'instruction
  paramétrable.
  Ticket #9753.
* Évolution - Ajout d'une colonne présentant l'état du dossier d'instruction dans
  le widget de tableau de bord des dossiers limites.
  Ticket #9755.
* Évolution - Ajouter un paramètre pour définir la base de l'URL pour la métadonnées
  "url_di" du parapheur de signature électronique.
  Ticket #9757.
* Évolution - Identification des dossiers d'instruction par couleur dans les listings
  de l'application.
  Ticket #9760.
* Évolution - Ajout d'un identifiant externe pour la demande suite à la mise à jour
  d'une tâche de notification sur une demande papier.
  Ticket #9761.
* Évolution - Optimisation de l'import spécifique des dossiers d'instruction.
  Ticket #9762.
* Évolution - Optimisation du temps de chargement de l'onglet pièce lorsque l'option
  des vignettes est active.
  Ticket #9763.
* Évolution - Afficher une image d'attente lors du chargement des sous-formulaire.
  Ticket #9764.
* Correction - Il n'y a plus d'erreur à la création des tâches venant d'une collectivité
  dont le code INSEE débute par "0".
  Ticket #9743.
* Correction - Changer le texte en dessous de la bulle du widget derniers dossier 
  déposés en "Déposés dernièrement".
  Ticket #9744.
* Correction - Suppression de l'accès aux fichiers dans le stockage lors de
  l'affichage du listing des pièces et des documents sur un dossier d'instruction.
  Ticket #9745.
* Correction - Suppression de l'action "consulter" et modification du titre des
  colonnes du widget de tableau de bord paramétrable du suivi des instructions.
  Ticket #9746.
* Correction - La recherche par "source du dépôt" des dossiers d'instruction ne
  provoque plus d'erreur de base de données et il n'y a plus de doublons à cause
  de cette même donnée.
  Ticket #9750.
* Correction - Il n'y a plus d'erreur PHP lors d'un enregistrement en base de données
  dans la table de stockage des fichiers "storage".
  Ticket #9752.
* Correction - Les champs de numérotation en sont plus affichés sur les formulaires
  depuis le menu "Guichet Unique > Récépissé".
  Ticket #9754.
* Correction - La catégorie des pièces est maintenant affichée peu importe
  le profil, à partir du moment ou l'utilisateur a accès à l'onglet des pièces
  sur les dossiers.
  Ticket #9758.
* Correction - L'utilisation des départements Corse (2A et 2B) ne provoquent plus
  d'erreur à l'utilisation.
  Ticket #9765.


5.6.0 (18/01/2022)
------------------

* Évolution - Nouveau widget de suivi d'instruction paramétrable.
  Ticket #9723.
* Évolution - Modification du libellé du document envoyé au parapheur pour le mettre sous
  la forme instruction_xxx_nom_lettretype_associee.
  Ticket #9724.
* Évolution - Permettre d'accéder au parapheur pour signature via le lien généré lors
  de l'envoi à signature. 
  Ticket #9731.
* Évolution - Permettre le traitement d'une seule categorie de tâches par appel au WebService.
  Ticket #9732.
* Évolution - Modification de la requête de récupération des contraintes de référence pour
  prendre en compte les fins de validité.
  Ticket #9733.
* Évolution - Gestion du champ 'object_id' des tasks en cas de modification ou de
  suppression de l'objet lié à la tâche.
  Ticket #9736.
* Évolution - Suppression du lien vers le forum openMairie dans le pied de page de l'application.
  Ticket #9738.
* Correction - Conserver la valeur de la commune après la modification d'un dossier d'instruction
  lorsque le mode service consulté de l'application est activé.
  Ticket #9722.
* Correction - Sur les consultations et les demandes d'avis, le délai n'est plus affiché en mois
  si le type de délai du service est en jour.
  Ticket #9726.
* Correction - Il est désormais possible de supprimer une instruction notifiée aux demandeurs,
  l'affichage de la tâche liée à la notification ne génère plus d'erreur.
  Ticket #9727.
* Correction - Il est désormais possible de supprimer un dossier ayant son récépissé
  notifié aux demandeurs.
  Ticket #9728.
* Correction - Il est désormais impossible de créer des tâches 'ajout_piece' si la catégorie du
  document numérisé n'est pas dans la catégorie spécifique Plat'AU.
  Ticket #9730.
* Correction - Les messages des étapes de la géolocalisation sur un dossier d'instruction
  n'affichent plus de message de validation en cas d'erreur depuis la géolocalisation par lot.
  Ticket #9735.
* Correction - Bug sur les données de suivi du parapheur lors de la validation de l'action
  de suivi de date.
  Ticket #9737.
* Correction - La géolocalisation par lot utilise désormais les bonnes données.
  Ticket #9739.
* Correction - L'utilisation de département Corse (2A et 2B) ne cause plus de
  problème concernant la numérotation des dossiers.
  Ticket #9740.
* Correction - Bug sur la partie parapheur lors de la définalisation, modification puis
  re-finalisation de l'instruction.
  Ticket #9741.


5.5.0 (23/12/2021)
------------------

* Évolution - Modification de la division lors d'un changement d'instructeur sur un dossier
  d'instruction.
  Ticket #9661.
* Évolution - Amélioration du traitement de la recherche avancée sur les dossiers d'autorisation.
  Ticket #9670.
* Évolution - Ajout de permission pour le widget des derniers dossiers déposés pour
  des profils d'instructeur.
  Ticket #9680.
* Évolution - Augmenter la taille du libellé et du code pour les services consultés.
  Ticket #9715.
* Évolution - Modification de la traduction d'une donnée technique.
  Ticket #9718.
* Évolution - Ajout de la prise en compte du dessin d'emprise pour le calcul du centroïde.
  Ticket #9719.
* Correction - Suppression de scripts et méthodes non utilisés dans openADS.
  Ticket #9663.
* Correction - Ne plus proposer les types de dossier dont la date de validité est
  dépassée dans l'intrerface de paramétrage des affectations automatiques.
  Ticket #9671.
* Correction - Amélioration de l'affichage du json (payload) des tâches.
  Ticket #9672.
* Correction - Le message de récupération des contraintes pour la géolocalisation est correctement
  mis à jour.
  Ticket #9675.
* Correction - Correction de l'utilisation de la métadonnée 'titre_document' pour 
  l'utiliser seulement lors de l'envoi en signature.
  Ticket #9676.
* Correction - Affichage de l'adresse même si l'adresse normalisée est vide ou
  renseignée avec seulement des espaces.
  Ticket #9711.
* Correction - Il n'y a plus de différence dans les éditions générées suite à l'ajout de
  consultation simple et multiple.
  Ticket #9716.
* Correction - Ajout des permissions manquantes pour le profil d'administrateur général.
  Ticket #9720.
* Correction - Les liens dans le widget de tableau de bord des dossiers non transmis à Plat'AU
  sont désormais utilisables.
  Ticket #9721.


5.4.0 (15/12/2021)
------------------

* Évolution - Modification d'ordre d'import des colonnes des services consultés.
  Ticket #9659.
* Évolution - Gestion de la création des demandes par WS sur des dossiers d'instruction existants.
  Ticket #9667.
* Évolution - Action permettant d'identifier les demandes possibles sur un dossier
  d'instruction.
  Ticket #9665.
* Évolution - Identification visuelle des dossiers d'instruction dématérialisés.
  Ticket #9664.
* Évolution - Reprise de la rédaction des instructions dans un circuit de signature.
  Ticket #9662.
* Évolution - Lorsque l'option notification portal est activée, le menu IDE'AU sera affiché.
  Ticket #9656.
* Correction - Gestion des données obligatoires et de leur format.
  Ticket #9654.
* Correction - Bug sur le contrôle de données, certaines tâches sont en state new alors que
  la tâche 'creation_di' est en draft.
  Ticket #9653.
* Correction - Bug sur le contrôle de données lors de l'ajout d'un dossier portail.
  Ticket #9666.
* Correction - Bug sur l'adresse d'accès au fichier qui est erronée.
  Ticket #9658.
* Correction - La case ERP n'est plus cochée automatiquement lors de l'ajout d'un dossier
  d'instruction initial identifié comme PC.
  Ticket #9668.


5.3.0 (03/12/2021)
------------------

* Correction - La valeur du champ de la date de dépôt en mairie sur les dossiers d'instruction
  n'est plus supprimée à la modification du dossier.
  Ticket #9650.
* Évolution - Ajout d'un widget de tableau de bord paramétrable pour faire une recherche avancée
  dans le menu recherche des dossiers d'instruction.
  Ticket #9647.
* Évolution - Notification des demandeurs, gestion de l'ajout d'annexe et des liens permettant
  d'accéder aux documents notifiés.
  Ticket #9649.
* Évolution - Amélioration de la recherche avancée : les champs déjà saisis et les champs en cours
  de saisis sont identifiés par une bordure de couleur.
  Ticket #9655.
* Évolution - Gestion des prescriptions archéologiques.
  Ticket #9651.


5.2.0 (24/11/2021)
------------------

* Évolution - Mise en place de la possibilité de notifier, les pétitionnaires du dossier, de l'évolution
  d'une instruction.
  Ticket #9643.
* Évolution - Mise en place des modifications pour permettre l'utilisation du connecteur 
  iparapheur avec openADS.
  Ticket #9642.
* Correction - Gestion de du statut de la tâche creation_DA.
  Ticket #9640.
* Correction - Initialisation du champ comprenant la numérotation du dossier pour ne plus avoir
  d'erreur lors du calcul des séquences.
  Ticket #9644.
* Correction - Le champ concernant la prise en compte métier sur les dossiers d'instruction est 
  supprimé à la modification du dossier
  Ticket #9646.


5.1.0 (04/11/2021)
------------------

* Évolution - Lors de l'envoi en signature d'un document d'instruction, choix avec ou sans
  de la relecture du document.
  Ticket #9620.
* Évolution - Affichage dans la synthèse des demandeurs de toutes les informations des tiers.
  Ticket #9610.
* Évolution - L'affichage des miniatures des pièces est maintenant optionnelle.
  Ticket #9627.
* Évolution - Mise en place de la sélection des contraintes applicables au dossier.
  Ticket #9621.
* Évolution - Ajout, dans le widget des dossiers non transmis à Plat'AU, d'un filtre sur la date de dépôt.
  Ticket #9632.
* Correction - La synthèse du DA recupère tous les demandeurs liés et pas seulement le principal
  Ticket #9465.
* Évolution - En mode consulté, les champs de recherche inutile ne sont pas affiché.
  Ticket #9609.
* Correction - seul les dossiers transmissible sont transmis à Plat'AU.
  Ticket #9629.
* Correction - suppression de la contrainte d'unicité concernant le nom du fichier et le dossier.
  Ticket #9624.
* Correction - Doublons dans la liste des documents d'instruction depuis l'onglet des pièces.
  Ticket #9634.
* Correction - Le lien Google Maps Street View n'est affiché depuis un dossier d'instruction qu'en consultation.
  Ticket #9625.
* Correction - Correction du tri de la liste des documents numérisés.
  Ticket #9633.
* Evolution - Ajout de l'option permettant de récupérer les contraintes lors de la géolocalisation automatique.
  Correction de la mise à jour des notifications liées à la geolocalisation automatique.
  Ticket #9630.
* Correction - Correction de la gestion de l'enregistrement de la numérotation d'un dossier.
  Ticket #9628.
* Correction - Génération de la classe d'import pour les services consultés.
  Ticket #9639.
* Correction - Le contrôle des données requises pour la transmission à Plat'AU ne s'applique
  plus sur les dossiers issus de Plat'AU.
  Ticket #9623.


5.0.0 (14/10/2021)
------------------

* Évolution - Ajout de contrôles de données et de conditions de déclenchement pour la
  transmission des tâches vers Plat'AU.
  Ticket #9606.
* Évolution - Gestion de l'extension lors de l'ajout d'un fichier joint à un avis de consultation.
  Ticket #9615.
* Évolution - Évolution de l'onglet Pièce(s). Ajout d'un sous-onglet Document(s) permettant de visualiser
  les documents d'instruction et de travail. Mise en place de la prévisualisation pour tous les types de
  pièces et de documents.
  Ticket #9617.
* Évolution - Prise en compte de la codification CERFA des types de pièce pour filtrer les pièces à ajouter
  selon le type de dossier, faciliter la recherche des pièces lors de l'ajout et nommer les fichiers.
  Ticket #9616
* Évolution - Historisation des rapports d'instruction.
  Ticket #9605
* Correction - Vérification de la valeur de la case ERP lors de l'ajout d'une nouvelle demande sur dossier existant.
  Ticket #9608.


5.0.0-rc6 (01/10/2021)
----------------------

* Évolution - Purge des fichiers orphelins dans le filestorage (uniquement possible
  avec le connecteur filesystem).
  Ticket #9602.
* Évolution - Ajout d'un lien sur les dossiers utilisant l'adresse du terrain pour
  ouvrir une page Google Maps StreetView.
  Ticket #9601.
* Évolution - Ajout de paramétrage permettant de choisir entre l'affichage du nombre d'élément ou du
  listing pour certains widgets.
  Ticket #9592.
* Correction - Les codes insee des communes comportant des lettres sont maintenant considérés comme valide.
  Ticket #9599.
* Évolution - Ajout de plusieurs options sur un événement : possibilité d'ajouter un commentaire à
  l'instruction, possibilité d'empêcher la modification de l'instruction et possibilité d'empêcher
  la suppression de l'instruction ; il y a également l'ajout d'une option gloables permettant de ne
  pas modifier la date de l'instruction et donc de la forcer à la date du jour.
  Ticket #9604.
* Évolution - Augmentation de la taille des champs contenant des identifiants de
  fichier.
  Ticket #9607.
* Évolution - Affichage d'une miniature/vignette pour les documents numérisés.
  Ticket #9598.
* Correction - Suppression des doublons dans le listing du widget des derniers
  dossiers déposés.
  Ticket #9603.


5.0.0-rc5 (02/09/2021)
----------------------

* Évolution - Augmentation du nombre d'élément affiché dans le listing des dossiers en cours.
  Ticket #9590.
* Évolution - Changement des pictogrammes de la géolocalisation et de l'export csv.
  Ticket #9589.
* Évolution - Les messages non lu des dossier cloturés ne sont plus comptés dans le widget "Mes Messages".
  Ticket #9591.


5.0.0-rc4 (31/08/2021)
----------------------

* Évolution - Démat.ADS : connexion à Plat'AU (phase 1)
  Ticket #9597.
* Évolution - Augmentation de la taille des identifiants
  Ticket #9469.
* Évolution - Ajout d'une option pour modifier le libellé de "Collectivité" en
  "Service" dans toutes les interfaces.
  Ticket #9431.
* Évolution - Amélioration de l'affectation automatique avec l'ajout de la
  possibilité de spécifier le type de dossier d'instruction et de proposer une
  liste d'affectation manuelle lors de la saisie d'une demande.
  Ticket #9397.
* Évolution - Gestion et récupération d'une adresse normalisée sur les dossiers.
  Ticket #9398.
* Évolution - Mise à jour de la librairie pdf.js dans sa version 2.10.377 avec
  les surcharges nécessaires à openMairie, et maintiens de la version 2.0.943
  pour les navigateurs avec une ancienne version.
  Ticket #9581.
* Évolution - Modification des extensions de fichiers possibles lors de l'ajout
  de pièces numérisées.
  Ticket #9502.
* Évolution - Modification de la gestion de l'incomplétude pour utiliser les
  règles d'action.
  Ticket #9476.
* Évolution - Ajout du champ "Date de dépôt en mairie" sur les dossiers
  d'instruction, activable depuis une option.
  Ticket #9410.
* Évolution - Ajout du champ "Commune" sur les dossiers d'instruction, activable
  depuis une option.
  Ticket #9403.
* Évolution - Mise à jour des champs des données techniques et des CERFA suite
  aux nouvelles versions des CERFA.
  Ticket #9593.
* Évolution - Ajout d'un abstracteur pour connecter un parapheur.
  Ticket #9594.
* Évolution - Ajout d'une nouvelle implémentation pour une connexion avec un SIG.
  Ticket #9595.
* Évolution - Modification suite à l'implémentation de l'alternate filestorage
  dans le core.
  Ticket #9596.
* Correction - Le numéro d'ordre apparait de nouveau dans les fichiers générés
  pour SITADEL.
  Ticket #9498.
* Correction - Impossible d'ajouter des demandes sur existant si le type détaillé
  du dossier d'autorisation du dossier d'instruction concerné, est expiré.
  Ticket #9531.
* Correction - Erreur dans la requête de récupération du widget des dossiers dont
  la date limite arrive dans X jours.
  Ticket #9552.
* Correction - La date de l'événement suivant tacite sur les dossiers d'instruction
  est désormais la date limite + 1 jour.
  Ticket #9553.
* Correction - Il est maintenant possible de choisir le nombre de résultat à afficher
  dans le listing du menu "Administration > Paramètre" en utilisant le paramètre tab_serie.
  Ticket #9585.
* Correction - Problème sur la pagination du listing du Widget "Derniers dossiers déposés".
  Ticket #9586.
* Correction - L'import ADS 2007 ne vérifie pas la fin des numéros de dossiers.
  Ticket #9344.
* Correction - Problème sur la recherche du listing du Widget "Recherche par numéro de dossier"
  Ticket #9587.


4.15.0 (28/06/2021)
-------------------

* Évolution - Amélioration des entrées dans le journal d'erreur de la
  fonctionnalité de numérisation des documents.
  Ticket #9541.
* Évolution - Récupération de la valeur de la case ERP du dossier initial lors
  de l'ajout d'un dossier sur existant.
  Ticket #9530.
* Évolution - Envois de mails multiples aux services consultés lors de l'ajout
  d'une consultation.
  Ticket #9529.
* Évolution - Ne plus faire apparaître les pièces d’un dossier refusé dans le DA
  avec l'option option_cache_piece_num_refuse_da.
  Ticket #9528.
* Correction - Lors de la récupération des demandes pour le suivi de numérisation,
  la date de dépôt récupérée est désormais celle de l'instruction qui peut-être
  modifiée et les demandes déjà récupérées n'empêchent plus les nouvelles demandes
  sur un même dossier d'instruction d'être récupérées en dossier de suivi.
  Ticket #9545.
* Correction - Mise à jour du framework openMairie > v4.9.10.
  Ticket #9546.
* Correction - Il n'y a plus de décalage sur les colonnes du tier (délégataire)
  dans l'export SITADEL.
  Ticket #9554.


4.13.2 (12/02/2021)
-------------------

* Correction - Ajout de la vérification manquante de la connexion pour chaque WS REST exposé.
  Ticket #9492.
* Correction - Mise à jour du framework openMairie > v4.9.9.
  Ticket #9473.


4.13.1 (20/01/2021)
-------------------

* Correction - Duplication des liaisons entre dossier et demandeur.
  Ticket #9445
* Compatibilité PHP7.2/7.3/7.4 :
  - PHP Warning:  DOMDocument::load(): failed to open stream: HTTP request failed! HTTP/1.1 404 Not Found
 in obj/om_widget.class.php on line 1741
  - PHP Warning:  DOMDocument::load(): I/O warning : failed to load external entity in obj/om_widget.class.php on line 1741
  - PHP Notice:  Trying to access array offset on value of type null in core/om_formulaire.class.php on line 2098
  - PHP Notice:  Trying to access array offset on value of type null in obj/om_formulaire.class.php on line 507
  - PHP Warning:  count(): Parameter must be an array or an object that implements Countable in app/versement_archives.php on line 218/219
  - PHP Notice:  Trying to access array offset on value of type null in core/om_formulaire.class.php on line 733/734/737/738
  - PHP Notice:  Trying to access array offset on value of type null in core/om_layout.class.php on line 2072
  - PHP Notice:  Trying to access array offset on value of type null in obj/dossier.class.php on line 2134
  - PHP Notice:  Trying to access array offset on value of type null in obj/om_formulaire.class.php on line 508/509
  - PHP Notice:  Trying to access array offset on value of type null in core/om_formulaire.class.php on line 1795
  - PHP Notice:  Trying to access array offset on value of type null in obj/om_dbform.class.php on line 790/791
  - PHP Notice:  Trying to access array offset on value of type null in obj/om_formulaire.class.php on line 558
  - PHP Notice:  Trying to access array offset on value of type null in obj/export_sitadel.class.php on line 198>210
  - PHP Warning:  count(): Parameter must be an array or an object that implements Countable in obj/import_specific.class.php on line 581/1215
  - PHP Notice:  Trying to access array offset on value of type bool in obj/import_specific.class.php on line 1215
  - PHP Warning:  preg_match(): Compilation failed: invalid range in character class at offset 3 in obj/import_specific.class.php on line 1898
  - PHP Warning:  count(): Parameter must be an array or an object that implements Countable in obj/document_numerise.class.php on line 467/493
  - PHP Warning:  count(): Parameter must be an array or an object that implements Countable in obj/om_widget.class.php on line 741/7009/7750
  - PHP Warning:  count(): Parameter must be an array or an object that implements Countable in obj/utils.class.php on line 1374
  - PHP Deprecated:  implode(): Passing glue string after array is deprecated. Swap the parameters in services/metier/maintenancemanager.php on line 797
  - Le répertoire services/ doit utiliser des identifiants valides.
  - Mise à jour du framework openMairie > v4.9.8.
  Ticket #9600.


4.13.0 (03/04/2020)
-------------------

* Évolution - Compatibilité PHP7.1+.
  Ticket #9329.
* Évolution - Prévisualisation des pièces numérisées dans une fenêtre modale.
  Ticket #9322.
* Évolution - Ajout du suivi de numérisation.
  Ticket #9321.
* Évolution - Les données techniques du dossier d'autorisation ne sont plus
  écrasées par celles du dernier dossier d'instruction validé mais seules les
  valeurs modifiées sont mises à jour.
  Ticket #9311.
* Évolution - Ajout de l'import spécifique des bibles par fichier CSV.
  Ticket #9305.
* Évolution - Ajout des champs de fusion du taux communal de la taxe
  d'aménagement pour les 20 secteurs.
  Ticket #9303.
* Évolution - Ajout de filtres pour la géolocalisation automatique afin de 
  paramétrer les dossiers candidats.
  Ticket #9297.
* Correction - Il n'y a plus d'erreur au chargement du contenu d'un onglet.
  Ticket #9323.
* Correction - Vérification du numéro du dossier lors de l'import d'un dossier
  d'instruction.
  Ticket #9320.
* Correction - Le rechargement automatique du contenu de l'onglet DI n'éfface
  plus les paramètres stockés de l'URL.
  Ticket #9319.
* Correction - Modification des méthodes de mise à jour d'une valeur unique afin
  qu'elles ne mettent pas à jour l'intégralité des données de l'enregistrement.
  Ticket #9316.
* Correction - Erreur typographique dans le message d'avertissement de la
  présence d'un bloqueur de publicité.
  Ticket #9304.
* Correction - Gestion de la version de clôture sur les dossiers d'instruction.
  Ticket #9302.
* Correction - Ajout du filigrane "Document de travail" sur les éditions des
  rapports d'instruction qui ne sont pas finalisés.
  Ticket #9301.
* Correction - La décision n'est plus dupliquée en fonction du nombre de
  pétitionnaires sur l'historique de décision d'un dossier d'autorisation, mais
  est affiché seulement le pétitionnaire principal.
  Ticket #9300.
* Correction - Gestion des dossiers d'instruction d'annulation dans l'export
  SITADEL.
  Ticket #9299.
* Correction - Le tri des widgets "Mes recours" et "Mes infractions" correspond
  désormais au tri de leurs lsitings respectifs, le tri est donc décroissant sur
  la date de dépôt puis sur le numéro du dossier de contentieux.
  Ticket #9298.


4.12.0 (31/10/2019)
-------------------

* Évolution - Ajout de la possibilité de saisir le numéro de dossier lors de
  l'ajout d'une nouvelle demande.
  Ticket #9278.
* Évolution - Ajout d'une permission sur les profils "INSTRUCTEUR POLYVALENT" et
  "INSTRUCTEUR POLYVALENT COMMUNE" pour continuer le suivi des dates depuis
  l'instruction d'un dossier d'instruction clôturé.
  Ticket #9276.
* Évolution - Ajout d'un listing et d'un widget paramétrable avec plusieurs
  critères, affichant les dossiers non clôturés et à qualifier, dont la date
  limite de notification du pétitionnaire arrive à échéance.
  Ticket #9275.
* Évolution - Permettre l'ajout de bible sans zone de complément obligatoire.
  Ticket #9263.
* Évolution - Ajout de la gestion de la date d'affiche de l'avis de dépôt depuis
  le formulaire d'un dossier d'instruction et depuis le traitement du registre
  d'affichage réglementaire.
  Ticket #9260.
* Évolution - Rechargement automatique de la fiche du dossier d'instruction lors
  d'un clic sur l'onglet "DI".
  Ticket #9251.
* Évolution - Modification des libellés suivants dans l'application :
  - "Données techniques" -> "Données techniques / CERFA"
  - "Date d'envoi RAR" -> "Date d'envoi AR"
  - "Date de retour RAR" -> "Date de notification"
  Ticket #9248.
* Évolution - Ajout d'un détecteur de bloqueur de pub qui perturbe le
  fonctionnement de l'application.
  Ticket #9247.
* Évolution - Amélioration de l'interface de génération des fichiers SITADEL et
  ajout du tableau d'historique des fichiers SITADEL générés.
  Ticket #9238.
* Évolution - Inclusion de la librairie pdf.js pour la prévisualisation des
  instructions.
  Ticket #9237.
* Évolution - Adaptation du code pour suivre le framework openMairie 4.9 et sa
  prochaine version, liste des points réalisés :
  - Utilisation de l'attribut f de la classe formulaire plutôt que
    l'instanciation nouvelle dans le snippet de formulaire filterselect.
  - Utilisation de l'attribut f de la classe dbform plutôt que la variable $f.
  - Suppression de la méthode inutilisée dossier_contrainte::getDossierContrainte().
  - Mise en cohérence des prototypes des surcharges des méthodes dbform::setVal(),
    dbform::setValSousFormulaire(), dbform::set_form_default_values().
  - Mise en cohérence des prototypes des surcharges des méthodes dbform::trigger*().
  - Utilisation de la ressource db de la classe om_application plutôt que de la
    classe om_dbform (déprécié).
  - Mise en cohérence des prototypes des surcharges de la méthode dbform::verifier().
  - Mise en cohérence des prototypes des surcharges de la méthode dbform::setSelect().
  - Suppression des scripts *.form.inc.php pour utilisation des nouvelles
    méthodes.
  - Suppression des scripts sql/pgsql/om_*.inc.php (du framework) non surchargés.
  - Suppression des définitions d'anciennes actions non utilisées.
  - Suppression de quatre éditions pdf inutiles (architecte, règle, transition
    et service).
  - Utilisation de l'accesseur dbformm::getParameter() pour accéder à la valeur
    retourformulaire.
  - Suppression du script sql/pgsql/modificatif.inc.php non utilisé.
  - La définition de l'action 3 de la classe demande_avis n'était pas complète.
  - Suppression de l'utilisation de la variable $idx lorsqu'il faut utiliser
    $idxformulaire.
  - Suppression des surcharges de la variable $selection lorsque le générateur
    produit un code identique.
  - Définition du libellé par défaut de l'enregistrement dans l'onglet contrainte
    pour remplacer l'utilisation hasardeuse de la variable $idx dans ce contexte.
  Ticket #9236.
* Correction - Complétion de la condition pour supprimer les dossiers
  d'instruction sur existant alors que l'autorisation n'est pas la dernière de
  sa numérotation.
  Ticket #9277.
* Correction - Ajout de la permission lors de la suppression d'un dossier
  d'instruction avec un profil "ADMINISTRATEUR GENERAL" ayant un instructeur lié.
  Ticket #9274.
* Correction - Suppression des entrées inutiles dans la journalisation du
  fichier "var/log/error.log".
  Ticket #9262.
* Correction - Masquer les consultations définit comme non visible lors de la
  récupération de celles-ci sur une instruction depuis l'action de bible
  automatique.
  Ticket #9250.
* Correction - Les demandeurs sont désormais modifiables depuis une demande sur
  un dossier existant.
  Ticket #9249.
* Correction - Les champs de fusion et les variables de remplacement sont
  désormais correctement interprétés lors de l'ajout d'une instruction avec le
  type de rédaction "rédaction libre".
  Ticket #9240.
* Correction - Ajout des droits nécessaires aux profils concernés par
  l'impression du registre d'affichage réglementaire, pour éviter une erreur de
  droit insuffisant même si l'action aboutit correctement.
  Ticket #9239.
* Correction - Modification de la condition vérifiée lors de l'affichage de
  l'action de suppression d'un dossier d'instruction non initial afin d'éviter
  une erreur de base de données
  Ticket #9235.
* Correction - Modification des permissions des instructeurs de la commune sur
  les instructions de la communauté afin qu'ils n'aient pas la possibilité de
  modifier les instructions ajoutées par les instructeurs de la communauté.
  Ticket #9172.


4.11.0 (27/03/2019)
-------------------

* Évolution - Ajout de la possibilité d'instruire plusieurs dossiers
  d'instruction d'une même autorisation, en parallèle, et découpage en plusieurs
  parties des mises à jour des données du dossier d'autorisation.
  Ticket #9179.
* Évolution - Mise à jour des librairies pear & dbpear vers les versions 1.10.7
  et 1.9.3.
  Ticket #9185.


4.10.0 (27/02/2019)
-------------------

* Évolution - Ajout de la possibilité de modifier le mode de rédaction des
  éditions générées par les instructions, du mode "Rédaction par compléments" au
  mode "Rédaction libre".
  Ticket #9128.
* Évolution - Ajout d'une règle d'action pour le changement du type de dossier
  d'instruction.
  Ticket #9139.
* Évolution - Lorsque l'option d'interface avec un référentiel ERP est activée,
  la case à cocher ERP deviendra non modifiable pour les formulaires des
  dossiers d'instruction non référencés dans les différents paramètres des
  déclencheurs de l'interfaçage avec un référentiel ERP.
  Ticket #9121.
* Évolution - Modification de l'ordre de tri des listings des recours et des
  infractions pour commencer par la date de dépôt.
  Ticket #9122.
* Correction - La colonne de la date d'émission des listings des messages de
  retours affiche désormais seulement la date pour permettre le tri de celle-ci,
  l'heure d'émission possède sa propre colonne.
  Ticket #9117.
* Correction - La colonne "date de l'avis rendu" de l'export CSV des demandes
  d'avis passées, est désormais alimentée avec la valeur de la "date de retour"
  de la consultation et non plus avec la date de réception.
  Ticket #9127.
* Correction - Ajout du numéro de voie dans la localisation de la synthèse du
  dossier d'instruction.
  Ticket #9126.
* Correction - Correction du tri des colonnes du listing des dossiers limites
  accessible depuis le widget de tableau de bord des dossiers limites.
  Ticket #9123.


4.9.0 (14/12/2018)
------------------

* Évolution - Ajout de l'argument "dossier_encours", activé par défaut,
  permettant de filtrer les infractions en cours sur les widgets d'alertes
  visite et de parquet.
  Ajout des widgets "Mes alertes visite" et "Mes alertes parquet" au tableau de
  bord du profil "TECHNICIEN".
  Ticket #9094.
* Évolution - Ajout du champ de référence DSJ dans les données techniques, sur
  la synthèse, dans le listing et dans les recherches des dossiers du
  contentieux (les infractions et les recours).
  Ticket #9095.
* Évolution - Ajout du champ de référence SAGACE des données techniques sur la
  synthèse des dossiers contentieux (les infractions et les recours).
  Ticket #9097.
* Évolution - Ajout de l'argument "dossier_encours", activé par défaut,
  permettant de filtrer les infractions en cours sur les widgets d'infractions
  non affectées.
  Ticket #9099.
* Évolution - Les infractions listées dans le menu "Mes infractions" et dans le
  widget des infractions filtrées par l'utilisateur connecté, sont désormais
  seulement celles en cours d'instruction.
  Ticket #9098.
* Évolution - Il est désormais possible de supprimer un dossier d'instruction
  sous plusieurs conditions.
  Ticket #9096.
* Correction - Utilisation de la constante DB_PREFIXE pour récupérer le schéma
  de la base de données dans une requête SQL d'un widget de tableau de bord.
  Ticket #9102.
* Correction - Vérification de l'existence d'une parcelle temporaire lors d'une
  géolocalisation automatique de tous les dossiers d'instruction.
  Ticket #9101.
* Correction - Le numéro du dossier d'instruction est correctement récupéré lors
  de la génération de l'archive contenant les documents constituant le dossier
  final.
  Ticket #9103.


4.8.0 (14/11/2018)
------------------

* Évolution - Packaging - Mise en oeuvre des bonnes pratiques du framework
  openMairie 4.9.0.
  Ticket #9079.
* Évolution - Ajout de la possibilité de paramétrer un service de trouillotage
  numérique.
  Ticket #9064.
* Évolution - Création d'un écran, dans l'onglet existant des pièces, permettant
  la sélection des documents constituant le dossier d'instruction final.
  Ticket #9062.
* Évolution - Possibilité d'ajouter un message manuellement sur un dossier
  d'instruction.
  Ticket #9059.
* Évolution - Ajout d'un listing et d'un widget paramétrable par plusieurs
  critères, des derniers dossiers déposés.
  Ticket #9058.
* Évolution - Ajout d'un indicateur de dépôt électronique et de la présence
  d’au moins une parcelle temporaire sur la fiche des dossiers d'instruction.
  Ticket #9057.
* Évolution - Ajout de la fonctionnalité de regénération automatique de la clé
  d'accès au portail citoyen lors de l'ajout d'une demande, à paramétrer sur le
  type de demande.
  Ticket #9056.
* Correction - Les informations affichées concernant le demandeur sur le widget
  des derniers dossiers consultés, sont désormais plus pertinentes.
  Ticket #9075.
* Correction - Les liens dans les mails de notification sont désormais corrects.
  Ticket #9078.


4.7.0 (20/07/2018)
------------------

* Évolution - Mise à jour du framework openMairie vers la version 4.9.
  Ticket #9031.
* Évolution - Possibilité de finalisation automatique des événements
  d'instruction.
  Ticket #9038.
* Évolution - Géolocalisation automatique par lot des dossiers d'instruction.
  Ticket #9034.
* Évolution - Ajout d'une option permettant d'activer ou désactiver le web
  service de synchronisation des contraintes depuis le SIG.
  Ticket #9037.
* Évolution - Mise à jour des champs des données techniques et des CERFA suite
  aux nouvelles versions des CERFA.
  Ticket #9033.
* Évolution - Évolution de l'export SITADEL, l'intervalle de date lors d'un
  export se base sur la date de dernière modification des dossiers.
  Cette date est mise à jour à chaque instruction et à chaque changement dans
  les données techniques.
  Ticket #9006
* Évolution - Création d'un widget listant les derniers dossiers consultés de
  l'utilisateur connecté.
  Ticket #9022.
* Évolution - Création d'un widget RSS permettant d'afficher les flux rss.
  Ticket #9028.
* Correction - Complétion de la correction du ticket 8978 sur la correction
  du demandeur récupéré sur les lettres RAR dans le cas d'un arrêté.
  Ticket #9019.
* Évolution - Mise à jour du système de filter select.
  Ticket #9018.
* Correction - Lors de l'export d'une requête mémorisée en CSV, si une donnée à 
  des sauts de ligne alors elle sera affiché dans la même cellule.
  Ticket #8956.
* Évolution - Mise à jour du framework openMairie vers la version 4.8.
  Ticket #9001.
* Évolution - Ajout du courriel et de l'information de notification du
  pétitionnaire principal en tant que champs de fusion pour les instructions.
  Ticket #8987.
* Correction - Ajouter la permission de supprimer les instructions pour les
  profils "INSTRUCTEUR POLYVALENT COMMUNE" et "INSTRUCTEUR POLYVALENT".
  Ticket #8988.
* Correction - Lors de la synchornisation des contraintes avec un SIG, les
  contraintes n'ayant pas d'identifiant ne sont plus récupérées.
  Ticket #8542.
* Correction - Le texte saisi manuellement sur les contraintes de référence
  n'est plus systématiquement effacé à la synchronisation si le SIG en question
  ne retourne pas cette donnée.
  Ticket #8999.
* Correction - Ajout des permissions de régénération de récépissé pour les
  profils "ADMINISTRATEUR GENERAL" et "ADMINISTRATEUR TECHNIQUE ET FONCTIONNEL".
  Ticket #8954.
* Correction - Ajout de la permission de redirection vers le SIG pour les
  profils "GUICHET UNIQUE", "GUICHET ET SUIVI" et "CELLULE SUIVI".
  Ticket #9021.
* Correction - Le champ de fusion "libelle_om_lettretype" retourne désormais la
  bonne valeur dans le contexte de deux lettres types actives avec un même
  identifiant mais dont la collectivité liée n'est pas identique.
  Ticket #9032.
* Correction - Lors d'une demande avec plus d'un pétitionnaire principal,
  l'affichage dans les différentes rubriques ne doit pas présenter de doublon.
  Ticket #9039.
* Correction - Ajout de la permission de visualiser le listing des retours de
  consultation pour le profil "GUICHET ET SUIVI".
  Ticket #9023.


4.6.1 (09/02/2018)
------------------

* Correction - L'image de chargement lors de la récupération de l'adresse depuis
  une référence cadastrale et lors de la création d'une archive contenant
  toutes les pièces d'un dossier d'instruction, est de nouveau visible.
  Ticket #8986.
* Correction - La méthode de recherche avancée sur les chaînes de caractères a
  été surchargée afin d'améliorer le temps d'exécution des requêtes.
  Ticket #8985.
* Correction - La validation d'une saisie d'un retour de consultation depuis le
  menu "Suivi" retourne à nouveau vers l'écran du récapitulatif.
  Ticket #8984.
* Correction - L'import spécifique des dossiers avec le format "ADS2007" est de
  nouveau accessible.
  Ticket #8980.
* Correction - Le widget des dossiers limites permet désormais de renseigner
  l'argument "restreindre_aux_tacites" afin de filtrer les dossiers
  d'instruction dont le caractère tacite n'est plus actif.
  Ticket #8979.
* Correction - Le demandeur récupéré sur les lettres RAR dans le cas d'un arrêté
  est désormais le pétitionnaire et non plus le délégataire.
  Ticket #8978.


4.6.0 (11/01/2018)
------------------

* Évolution - Mise à jour du framework openMairie vers la version 4.7.
  Ticket #8955.
* Évolution - Ajout d'un nouveau logo et modification de la couleur du bandeau
  dans le cadre de la nouvelle identité graphique d'openMairie.
  Ticket #8975.
* Évolution - Ajout de la possibilité de modifier l'instructeur affecté à un
  dossier d'instruction par les profils "INSTRUCTEUR POLYVALENT" et "INSTRUCTEUR
  POLYVALENT COMMUNE" à condition qu'il soit de la même division.
  Ticket #8937.
* Évolution - Ajout des colonnes "Avis rendu", "Date de l'avis rendu",
  "Motivation", "Présence fichier" et "État du dossier" dans les exports CSV des
  menus "Demandes d'avis → Demandes passées" et "Demandes d'avis → Exports".
  Ticket #8946.
* Évolution - Ajout du champ de recherche "Avis rendu" dans les menus "Demandes
  d'avis → Demandes passées" et "Demandes d'avis → Exports".
  Ticket #8945.
* Évolution - Ajout de la requête mémorisée pour l'export statistique des DIA.
  Ticket #8939.
* Évolution - Ajout champ de fusion [signature_signataire_ss_qualite] qui ne
  contient pas la qualité du signataire mais seulement sa signature.
  Ticket #8284.
* Évolution - Modification de la codification de l’indice du modificatif
  "indmod" pour le mettre sur deux caractères au lieu d'un seul, lors d'un
  export SITADEL.
  Ticket #8952.
* Correction - Suppression de la possibilité de lier plusieurs fois le même
  service à un utilisateur.
  Ticket #8543.
* Correction - La récupération de l'adresse par le SIG retourne la voie même si
  le type de voie n'est pas renseigné.
  Ticket #8928.
* Correction - Ajout du droit d'exporter les CSV depuis le listing des DI et
  d'accéder au menu "Export / Import" pour les profils guichet et instructeur.
  Ticket #8357.
* Correction - Le problème de recherche des demandeurs fréquents a été rectifié.
  Ticket #8566.
* Correction - Optimisation de la récupération de la nature des travaux dans le
  listing des dossiers d'instruction.
  Ticket #8941.
* Amélioration - Optimisation de la récupération des contraintes ajoutées
  manuellement sur un dossier d'instruction.
  Ticket #8616.
* Correction - Suppression de la condition des parcelles vérifiées sur l'action
  de dessin d'une emprise depuis l'interface de géolocalisation d'un dossier
  d'instruction.
  Ticket #8944.
* Correction - Ajout de l'option "option_final_auto_instr_tacite_retour" afin de
  rendre débrayable la fonctionnalité de finalisation automatique des
  instructions tacites et retours.
  Ticket #8953.


4.5.0 (03/10/2017)
------------------

* Évolution - Prévisualisation des courriers d’instruction en cours de
  rédaction.
  Ticket #8923.
* Évolution - Ajout de la localisation et du statut de l'état comme critères de
  recherche avancée pour les dossiers d'instruction.
  Ticket #8914.
* Évolution - Ajout de la colonne "nature des travaux" sur certains listings de
  dossier d'instruction.
  Ticket #8922.
* Évolution - Rationalisation de la récupération des valeurs des contraintes
  SIG, notamment du texte complété.
  Ticket #8927.
* Correction - Renommage du champ "type de dossier d'autorisation détaillé" en
  "type" sur les listings des dossiers d'autorisation.
  Ticket #8900.
* Correction - Ajout d'un retour à la ligne entre les éléments de bible
  récupérés automatiquement.
  Ticket #8901.
* Correction - Des onglets inutiles sur plusieurs objets on été enlevés.
  Ticket #8915.
* Correction - Suppression de la condition du caractère tacite sur le widget des
  dossiers limites.
  Ticket #8912.
* Correction - Corruption des références cadastrales et des boutons du
  formulaire en cas d'erreur de saisie d'une demande ou lors de la modification
  d'un dossier d'instruction.
  Ticket #8904.
* Correction - Les événements d'instruction ajoutés automatiquement lors de
  l'application d'un tacite ou en tant qu'événement retour sont maintenant
  finalisés automatiquement.
  Ticket #8283.
* Correction - La colonne "type de demande" dans le menu "Guichet unique >
  Nouvelle demande > Récépissé" affiche désormais le libellé.
  Ticket #8913.
* Correction - Déplacement d'un état du paramétrage par défaut vers les données
  de test.
  Ticket #8925.
* Correction - Le re-calcul des dates d'instruction ne se fait plus à chaque
  modification du dossier d'instruction, mais bien seulement à la modification
  de la date de dépôt. De plus le type du dossier d'instruction est vérifié pour
  ne pas mettre à jour certaines dates.
  Ticket #8935.


4.4.0 (09/08/2017)
------------------

* Évolution - Désormais les bibles sans événement lié seront disponibles sur
  toutes les instructions.
  Ticket #8905.
* Évolution - La date de dépôt d'un dossier d'instruction non instruit est
  dorénavant modifiable.
  Ticket #8810.
* Correction - Les ralentissements possibles lors de l'affichage des tableaux
  listant les dossiers d'instruction sont désormais grandement limités.
  Ticket #8910.
* Correction - Certaines actions des onglets "Commission(s)" et
  "Consultation(s)" des dossiers d'instruction avaient des conditions erronées
  qui empêchaient ou au contraire permettaient l'accès à ces actions alors que
  ça n'aurait pas dû être le cas.
  Ticket #8907.
* Correction - Les références cadastrales sont à nouveau récupérées à l'ajout
  d'une demande sur un dossier existant.
  Ticket #8903.
* Correction - Il n'y a plus d'erreur JavaScript lors d'une redirection vers un
  sous-formulaire.
  Ticket #8893.
* Correction - Lors de la copie d'un logo, le fichier image est désormais
  dupliqué.
  Ticket #8890.
* Correction - L'erreur de base de données à l'affichage du bordereau 
  "bordereau_avis_maire_prefet" est désormais remplacée par un message pour
  l'utilisateur expliquant qu'il manque le paramètre nécessaire.
  Ticket #8889.
* Correction - Les demandeurs sont à nouveau récupérés ou non (suivant le
  paramétrage) à l'ajout d'une demande sur un dossier existant.
  Ticket #8887.
* Correction - Le tableau des lettres types, des états, des logos et des
  sous-états n'affichent plus d'erreur lorsque l'utilisateur connecté est d'une
  collectivité de niveau 1 (mono).
  Ticket #8884.
* Correction - Après la modification d'un dossier d'instruction qui a échouée,
  plusieurs champs étaient effacés dont le champ "Type de dossier" qui rendait
  impossible la poursuite de la modification sans faire un retour et perdre les
  modifications en cours.
  Ticket #8882.
* Correction - Affichage des libellés dans la liste à choix du champ de
  recherche avancée "Type" dans le menu "Instruction → Recherche".
  Ticket #8881.
* Correction - Les options sont désormais vérifiées systématiquement avec
  l'identifiant de la collectivité du dossier d'instruction en contexte.
  Ticket #8880.
* Correction - Ajout des filtres par instructeur, division et collectivité sur
  le widget de retour des commissions.
  Ticket #8878.
* Correction - Dorénavant le tableau listant les consultations est affiché après
  la validation d'un ajout multiple.
  Ticket #8871.
* Correction - La division des instructeurs est renseignée lors du paramétrage
  des affectations automatiques.
  Ticket #8863.
* Correction - Désormais la liste des utilisateurs et des divisions sont
  filtrées par collectivité lors du paramétrage des instructeurs.
  Ticket #8809.
* Correction - Depuis le menu "Guichet unique → Pétitionnaire fréquent", il
  n'est plus possible d'ajouter un pétitionnaire non fréquent ou de modifier un
  pétitionnaire fréquent.
  Ticket #8565.
* Correction - Les formulaires ouverts par une fenêtre modale ne sont plus en
  erreur si cette fenêtre est fermée puis rouverte.
  Ticket #8536.


4.3.0 (11/07/2017)
------------------

* Évolution - Intégration de la gestion du droit de préemption commercial.
  Ticket #8856.
* Évolution - Les dossiers liés dans l'onglet "Dossiers Liés" apparaissent
  dorénavant dans le nouveau listing "liaison retour" du dossier cible.
  Ticket #8868.
* Évolution - Dans la zone enjeu des dossiers ADS, les pictogrammes RE et IN 
  sont maintenant présents seulement si les dossiers contentieux ne sont pas
  clôturés.
  Ticket #8866.
* Évolution - Ajout du profil Service consulté DI.
  Ticket #8860.
* Évolution - Suppression des entrées de menu inutiles et ajout du suivi depuis
  le menu pour les cinq profils contentieux.
  Ticket #8861.
* Correction - Le tri par défaut de certains listings rendait la pagination
  incohérente, un même enregistrement était visible sur plusieurs pages.
  Ticket #8859.
* Correction - Le profil "GUICHET ET SUIVI" a de nouveau accès en consultation
  aux pièces numérisées.
  Ticket #8865.
* Correction - Certains champs obligatoires du CERFA pour la simulation des
  taxes sont devenus optionnels.
  Ticket #8867.
* Correction - Ajouter un saut de ligne entre les consultations récupérées sur
  un événement d'instruction.
  Ticket #8845.


4.2.0 (15/06/2017)
------------------

* Évolution - Mise à jour du framework openMairie.
  Ticket #8826.
* Évolution - Ajout du module de simulation des taxes.
  Ticket #8841.
* Correction - La recherche d'un architecte fréquent ne fonctionnait pas si le
  nom contenait une apostrophe.
  Ticket #8842.
* Correction - Filtre par collectivité du listing des récépissés.
  Ticket #8831.
* Correction - Réorganisation des droits pour le profil "GUICHET ET SUIVI".
  Ticket #8824.
* Correction - Accès aux consultations depuis le paramétrage des avis de
  consultation supprimé.
  Ticket #8829.
* Correction - Ajout des permission pour les dossier liés sur un dossier
  d'instruction clôturé pour les profils "ADMINISTRATEUR TECHNIQUE ET
  FONCTIONNEL" et "ADMINISTRATEUR GÉNÉRAL".
  Ticket #8822.
* Correction - Gestion des champs contentieux des CERFA et affichage des
  données techniques.
  Ticket #8825.


4.1.1 (09/06/2017)
------------------

* Correction - Les profils existants avant la version 4.0.0 et non rattachés à
  un instructeur, ont à nouveau accès aux actions concernant les dossiers
  d'instruction. De plus les profils créés à l'occasion du module contentieux
  n'ont plus la permission de géolocaliser les dossiers "ADS".
  Ticket #8840.


4.1.0 (18/05/2017)
------------------

* Évolution - Ajout de la gestion multi-communes pour les commissions.
  Ticket #8819.
* Évolution - Rationalisation des champs de fusion concernant les demandeurs.
  Ticket #8808.
* Correction - Ajout des bypass sur les demandes de passage en commission
  pour le profil d'administrateur général.
  Ticket #8791.


4.0.1 (11/05/2017)
------------------

* Correction - Le profil "ADMINISTRATEUR TECHNIQUE ET FONCTIONNEL" n'avait pas
  le droit de modifier les données techniques d'un dossier contentieux.
  Ticket #8797.
* Correction - La récupération des groupes attribués au profil de l'utilisateur
  connecté ne fonctionnait pas si un utilisateur avait une surcharge de ses
  permissions de groupe.
  Ticket #8796.
* Correction - Ajout des champs de fusion de plaignant pour les éditions
  utilisants les requêtes concernant les dossiers et les instructions.
  Ticket #8795.


4.0.0 (24/04/2017)
------------------

* Évolution - Ajout du module contentieux pour la gestion des recours et des
  infractions.
  Ticket #8784.
* Évolution - Ajout de permissions par groupe pour les profils et les
  utilisateurs.
  Ticket #8782.
* Évolution - Ajout de la notion de qualité pour les instructeurs
  (ex. : "instructeur", juriste" ou encore "technicien").
  Ticket #8779.
* Évolution - Ajout de règles pour les données techniques dans le paramétrage
  des actions du workflow.
  Ticket #8778.
* Évolution - Ajout de la possibilité de lier les dossiers d'instruction entre
  eux.
  Ticket #8775.
* Évolution - Ajout de la possibilité de sélectionner l'affichage du formulaire
  des DA/DI par rapport à une liste fixe des affichages déjà développés.
  Ticket #8774.
* Évolution - Ajout de la possibilité de cacher les DA d'un type de dossier
  d'autorisation.
  Ticket #8773.
* Évolution - Les consultations sont masquables dans les éditions du rapport
  d'instruction et dans le récapitulatif du dossier.
  Ticket #8765.
* Évolution - Un champ *complément* a été ajouté dans le rapport d'instruction.
  Ticket #8764.
* Évolution - Depuis le formulaire d'une demande d'avis, ajout de l'onglet des
  consultations permettant de visualiser les autres demandes de consultation du
  dossier d'instruction.
  Ticket #8675.
* Évolution - Ajout du nouveau profil "SERVICE CONSULTÉ ÉTENDU" identique au
  profil "SERVICE CONSULTÉ" avec, en plus, la permission de visualiser les
  autres demandes de consultation émises sur le dossier d'instruction.
  Ticket #8676.
* Évolution - Il est dorénavant possible de notifier par message les
  instructeurs d'une commune, comme par exemple à l'ajout d'une pièce sur un DI
  affecté à un instructeur de la communauté.
  Ticket #8679.
* Évolution - Lors de la création d'une nouvelle demande, son type est
  automatiquement sélectionné et masqué lorsqu'une seule entrée est disponible
  (ex. : "Dépôt Initial").
  Ticket #8772.
* Évolution - Ajout du descriptif des travaux dans les exports de statistiques
  d’usage.
  Ticket #8618.
* Correction - Une erreur due à un manque de permissions s'affichait pour le
  profil "ADMINISTRATEUR TECHNIQUE ET FONCTIONNEL" dans la rubrique instruction,
  sous-menus "Consultations" ("Mes retours" et Retours de ma division") et
  "Messages" ("Mes messages" et "Messages de ma division").
  Ticket #8771.
* Correction - Les conditions d'utilisation des actions en rapport avec les
  dossiers d'instruction prennent désormais en compte les utilisateurs non
  instructeurs et les permissions "bypass".
  Ticket #8783.
* Correction - Ajout de la permission de localisation (redirection vers le SIG
  externe) pour les profils des services consultés.
  Ticket #8706.
* Correction - Ajout des droits d'ajout, modification, suppression des documents
  numérisés au profil administrateur général.
  Ticket #8726.
* Correction - Ajout du filtre par collectivité aux exports de statistiques à la
  demande.
  Ticket #8739.
* Correction - Appel à la méthode d'initialisation JS après l'exécution d'une
  action directe.
  Ticket #8738.


3.36.1 (22/03/2017)
-------------------

* Correction - Le type de pièce transmis lors de l'envoi du message 112 au
  référentiel ERP prend désormais en compte l'état du dossier d'instruction
  avant l'éventuelle modification réalisée par l'événement d'instruction
  appliqué.
  Ticket #8757.
* Correction - Les métadonnées du fichier joint au retour de consultation
  transmis par web service sont désormais complètes.
  Ticket #8755.
* Amélioration - Mise à niveau vers la version 4.5.1 d'openMairie.


3.36.0 (03/03/2017)
-------------------

* Évolution - Ajout d'une métadonnée permettant d'identifier les pièces
  concernant un ERP.
  Ticket #8707.
* Correction - L'envoi du message 101 à destination du référentiel ERP est
  désormais opérationnel.
  Ticket #8698.
* Évolution - Ajout du message 114 à destination du référentiel ERP : dossier à
  enjeu ADS.
* Évolution - Mise en place d'un accusé de réception éditable à la réception du
  message 213 en provenance du référentiel ERP.


3.35.3 (10/02/2017)
-------------------

* Correction - L'événement suivant tacite est à nouveau remonté sur les dossiers
  d'instruction.
  Ticket #8692.
* Correction - Le libellé de la compétence est maintenant envoyé à la place de
  l'identifiant au référentiel ERP.
  Ticket #8695.


3.35.2 (26/01/2017)
-------------------

* Amélioration - Modification de l'affichage des données techniques des DIA.
  Ticket #8686.
* Correction - Le bouton retour du rapport d'instruction après une modification
  ne retourne plus une erreur de page non trouvée.
  Ticket #8684.


3.35.1 (06/01/2017)
-------------------

* Correction - Les fichiers uploadés lors d'un ajout d'enregistrement n'étaient
  pas supprimés lorsqu'une erreur survenait.
  Ticket 8671.
* Correction - Les widgets de formulaire concernant l'affichage des fichiers ne
  provoquent plus d'erreur sur la méthode *getFilename* lorsque la valeur du
  champ est vide.
  Ticket #8668.
* Correction - Ajout d'une permission pour la modification d'un dossier
  d'instruction afin que certain profil ne puisse pas profiter de ces actions de
  correction.
  Ticket #8669.
* Correction - La suppression d'un fichier depuis un formulaire de modification
  est, désormais, toujours effective.
  Ticket #8666.
* Correction - Possibilité de visualiser les pièces jointes d'un retour d'avis
  d'une consultation pour le profil qualificateur.
  Ticket #8665.
* Correction - Un utilisateur étant paramétré comme instructeur ne pouvait pas
  faire d'opération sur les éléments de l'onglet du DI "Bloc-note".
  Ticket #8663.
* Correction - La redirection vers le SIG ne fonctionnait pas lors du clic sur
  le point de géolocalisation du formulaire de consultation d'une demande d'avis
  en cours ou passée.
  Ticket #8664.


3.35.0 (15/12/2016)
-------------------

* Correction - Ajout de données techniques concernant un projet d'aménagement.
  Ticket #8652.
* Correction - La redirection vers le SIG fonctionne sur les dossiers
  d'instruction clôturés.
  Ticket #8655.
* Correction - Ajout des permissions au profil *CHEF DE SERVICE* permettant la
  suppression des instructions de façon chronologique.
  Ticket #8656.
* Évolution - Ajout de champ de fusion du cerfa des DIA/DAB.
  Ticket #8654.
* Évolution - Depuis l'entrée menu "Suivi > Suivi Des Pièces > Envoi Lettre
  RAR", dans le message de validation du formulaire ont été rajoutés les liens
  vers les DI auxquels sont rattachés les instructions.
  Ticket #8658.
* Évolution - Ajout des champs de fusion permettant de récupérer le numéro de
  SIRET, la catégorie juridique et la division territoriale de tous les types de
  demandeurs.
  Ticket #8657.


3.34.2 (29/11/2016)
-------------------

* Correction - Il n'y a plus d'erreur de base de données sur les instructions
  lorsque l'instructeur affecté au dossier d'instruction n'est pas lié à un
  utilisateur.
  Ticket #8641.
* Correction - Suppression des vérifications bloquantes lors d'apels consécutifs
  au ws [210] ou [211].


3.34.1 (22/11/2016)
-------------------

* Correction - La modification des permissions a permis de corriger les bugs
  suivants :
  - le profil QUALIFICATEUR peut dorénavant récupérer l'adresse de la parcelle
  depuis une nouvelle demande, modifier les DI clôturés et en cours (dont
  l'instructeur et la division), ainsi que les géolocaliser et il n'a plus
  l'entrée menu "Bordereau d'envoi au Maire", ni la possibilité d'ajouter des
  pièces ;
  - le profil INSTRUCTEUR SERVICE peut dorénavant ajouter, supprimer et "marquer
  non fréquent" un architecte fréquent (il pouvait déjà les lister et les
  consulter).
  Ticket #8638.


3.34.0 (17/11/2016)
-------------------

* Correction - Depuis l'onglet "Lot(s)" d'un dossier d'instruction, les
  fonctionnalités d'ajout, de modification, de suppression de lots et d'ajout de
  données techniques sur un lot sont de nouveau fonctionnelles.
  Ticket #8475.
* Correction - La correction des logs dans la v3.33.1 avait introduit une
  régression en les formatant sur plusieurs lignes au lieu d'une seule.
  Ticket #8636.
* Évolution - Les instructeurs peuvent dorénavant effectuer le suivi des dates
  d'un événement d'instruction lorsque le dossier d'instruction est instruit par
  la communauté.
  Ticket #8384.
* Correction - La décision tacite était appliquée sur un dossier le jour de
  la date limite d'instruction, au lieu du lendemain.
  Ticket #8429.
* Correction - Dans le cas d'un type de dossier avec un code qui n'était pas sur
  deux caractères, la récupération de bibles ne retournait jamais de résultat.
  Ticket #8619.
* Évolution - Ajout des données techniques pour les DIA/DAB.
  Ticket #8637.


3.33.1 (02/11/2016)
-------------------

* Correction - L'administrateur peut désormais modifier le fichier en pièce
  jointe d'une consultation.
  Ticket #8564.
* Correction - Les erreurs remontées dans la classe de numérisation n'étaient
  pas écrites dans le fichier var/log/error.log.
  Ticket #8612.
* Corrections - Les logs d'erreur de traitement de fichier étaient non conformes
  lors de la finalisation d'un document de consultation ou de rapport
  d'instruction. De plus, s'il y avait une erreur de traitement de fichier lors
  de la finalisation d'un événement d'instruction, le message
  "Traitement en cours" persistait au lieu d'être remplacé par le message
  d'erreur et aucun log n'était effectué. Pour terminer, la régénération du
  récépissé (seulement pour les DI non instruits) n'affichait pas les erreurs.
  Ticket #8613.
* Correction - La rubrique "Suivi Des Pièces" du menu Suivi n'était plus
  affichée.
  Ticket #8614.
* Correction - Modification des permissions accordées aux profils.
  Ticket #8623.


3.33.0 (21/09/2016)
-------------------

* Évolution - Les catégories et types de pièces sont maintenant paramétrables.
  Il est possible de définir si un type de pièce est ajoutable par les 
  instructeurs, et si ces pièces seront affichées sur les DA et les demandes
  d'avis. Les métadonnées des pièces numérisées ont été complétées en
  conséquence. Il existe également un traitement permettant de mettre à jour les
  métadonnées de tous les fichiers dont le type a été modifié.
  Ticket #8562.
* Correction - Désormais il n'y a plus d'erreur à la création d'une séquence en
  base de données lorsque le schéma et l'utilisateur ont le même nom.
  Ticket #8568.
* Amélioration - La librairie Restler est désormais récupérée depuis un
  externals.
  Ticket #8574.


3.32.1 (12/08/2016)
-------------------

* Correction - Le numéro de version du dossier d'instruction est désormais
  correctement récupéré dans l'export SITADEL (colonne 8).
  Ticket #8546.


3.32.0 (28/07/2016)
-------------------

* Correction - Modification de la méthode utilisée pour récupérer le type des
  fichiers afin que les PDF soient consultables depuis certains navigateurs.
  Ticket #8540.
* Correction - Le menu "autorisation > dossiers d'autorisation" n'était pas
  surligné quand on se trouvait sur une fiche d'un dossier d'autorisation.
  Ticket #8537.
* Correction - Correction de l'erreur de base de données lors d'une recherche
  simple depuis l'onglet "Instruction" dans le contexte d'un dossier
  d'instruction.
  Ticket #8537.
* Correction - Désactivation des champs de recherches des onglets "Pièces",
  "Contraintes", "DA" dans le contexte des dossiers d'instruction et
  d'autorisation.
  Ticket #8537.
* Amélioration - Modification de la construction des requêtes des widgets de
  tableau de bord afin d'améliorer leurs temps de réponse.
  Ticket #8537.
* Amélioration - L'action "Générer la clé d'accès au portail citoyen" est
  affichée uniquement si la division du dossier est celle de l'utilisateur
  lorsqu'il s'agit d'un instructeur.
  Ticket #8537.
* Correction - Réinitialisation des permissions de tous les profils.
  Ticket #8538.
* Évolution - Le web service "dossier_instructions" retourne des informations
  supplémentaires sur les dossiers, telles que les dates importantes du dossier,
  son état, et certaines données techniques.
  Ticket #8534.
* Évolution - Suppression des anciennes références à openfoncier (les tables,
  les champs de la table dossier et tout le code inutilisé s'y rattachant).
  Ticket #8526.
* Amélioration - Le champ de fusion "etat_dossier" affiche désormais le libellé
  de l'état au lieu de son identifiant. Ce champ de fusion a également été
  ajouté à la requête "dossier".
  Ticket #8452.
* Évolution - Suppression du composant de gestion de file d'attente RabbitMQ.
  La gestion de file d'attente entre les applicatifs n'est plus utilisée depuis
  la modification de la plupart des services web de l'application.
  Ticket #8527.
* Amélioration - Refonte de l'interface avec le référentiel ERP : ajout de logs
  dédiés aux services, transformation de tests PHPUnit en RobotFramework, ajout
  d'un champ connecté au référentiel ERP sur le dossier, possibilité de
  récupérer les informations sur les demandeurs, renommage de l'option
  option_erp en option_referentiel_erp, ajout d'une interface de controlpanel.
  Ticket #8529.
* Amélioration - Optimisation des logs dans le contexte de la numérisation des
  pièces : suppression du message de log d'erreur concernant les répertoires de
  numérisation vides, vidage des logs à la destruction de la classe utils pour
  éviter la duplication des messages lors de l'exécution des tests.
  Ticket #8416.
* Correction - L'import d'un dossier au format ADS 2007 déjà présent dans
  l'application créait un doublon dans le cas de l'activation ou désactivation
  des suffixes sur les dossiers initiaux entre les deux imports.
  Ticket #8515.
* Correction - Le lien de localisation d'un dossier d'instruction de l'onglet DA
  ne fonctionnait pas, il est maintenant corrigé.
  Ticket #8474.
* Évolution - Tous les services web de l'application affichent des logs
  d'information dans le fichier var/log/services.log
  Ticket #8528.
* Amélioration - Les champs de fusion [date_completude] et [date_dernier_depot]
  sont désormais affichés au format de date "DD/MM/YYYY".
  Ticket #8452.


3.31.0 (30/06/2016)
-------------------

* Amélioration - Ajout d'un profil "Administrateur technique et fonctionnel"
  possédant tous les droits.
  Ticket #8400.
* Correction - Les messages d'incohérence et leur condition d'affichage,
  concernant l'export SITADEL, n'utilisent plus les valeurs obsolètes des
  surfaces issues de la transformation.
  Ticket #8380.
* Réglementaire - Ajouts et modifications des données techniques par rapport aux
  nouvelles versions des CERFA, notamment l'ajout du nouveau tableau des
  surfaces. Ajout d'une correspondance entre l'ancien tableau des surfaces et le
  nouveau pour l'export SITADEL.
  Ticket #8285.
* Correction - Lorsqu'il y avait plus d'un événement d'instruction dans un DI
  alors on le qualifiait d'instruit. Dorénavant on vérifie que les événements
  créés ne sont pas de type "affichage", considérés comme non instruisant le DI.
  Ticket #8378.
* Évolution - De nouveaux champs sont disponibles dans les exports CSV des
  demandes d'avis.
  Ticket #8358.
* Correction - Dans le contexte d'un dossier d'instruction, les dossiers
  d'autorisation liés géographiquement qui portaient sur les mêmes parcelles
  mais qui étaient sur une autre collectivité étaient affichés. La liste est
  maintenant restreinte aux dossiers d'autorisation de la collectivité.
  Ticket #8289.
* Correction - Ajout des champs de fusion [date_completude], [email_instructeur]
  et [date_dernier_depot] dans les requêtes du dossier, de l'instruction et de
  la consultation.
  Tickets #8292, #8293 et #8326.
* Évolution - Dans le cas d'un dépôt de pièces complémentaires ou de toute autre
  demande qui ne crée pas de nouveau dossier d'instruction, le message de
  validation affiche dorénavant le lien d'accès au dossier d'instruction
  existant.
  Ticket #8270.
* Amélioration - Modification du chemin de stockage des fichiers temporaires et
  des logs par défaut (../tmp/ -> ../var/tmp/) (../tmp/ -> ../var/log/).
  Ticket #8388.
* Évolution - Il est dorénavant possible de créer un dossier d'instruction sans
  suffixe dans son numéro. Pour ce faire il faut désactiver l'option dans le
  paramétrage du type de dossier d'instruction.
  Ticket #8261.
* Correction - La recherche d'un pétitionnaire fréquent depuis l'ajout d'une
  demande ne fonctionnait pas si le nom contenait une apostrophe.
  Ticket #8291.
* Correction - Une colonne en trop dans un tableau produisait un PHP Notice à
  l'ouverture de la fenêtre des données techniques.
  Ticket #8359.
* Amélioration - Ajout d'un favicon par défaut.
  Ticket #8281.
* Correction - L'appel au WS synchronisation des utilisateurs retournait une
  erreur 500 si l'option n'était pas configurée avec le message
  "Erreur interne". Désormais, dans ce cas le retour est 200 OK et le message
  "L'option 'annuaire' n'est pas configurée.".
* Correction - Lors des diffusions des ODJ et CR de commission, les documents
  étaient systématiquement créés. Cela dupliquait les fichiers qui devenaient
  orphelins. Dorénavant lorsque l'on rediffuse un ODJ ou un CR le document est
  mis à jour.
  Ticket #8259

3.30.0 (08/06/2016)
-------------------

* Correction - Lors du dépôt d'une demande, le lien permettant de télécharger le
  récépissé de dépôt depuis le message de validation ne s'affiche plus si
  l'instruction initiale ne possède pas de lettre type. C'est aussi le cas pour
  l'action permettant de régénérer ce récépissé depuis un dossier d'instruction.
  Ticket #8277.
* Correction - Il n'est plus possible d'avoir des doublons de contraintes
  actives synchronisées depuis le SIG.
  Ticket #8276.
* Correction - Les champs de fusion concernant le correspondant n'étaient pas
  remplacés dans les éditions si le dossier avait plus d'un pétitionnaire.
  Ticket #8267.
* Évolution - Depuis le menu 'Export/Import -> Statistiques à la demande' on
  peut dorénavant utiliser la requête mémorisée 'statistiques_usage'. Elle
  exporte des statistiques de volumétrie des dossiers instruits.
  Ticket #8258.
* Évolution - Suppression de l'interface avec le référentiel Arrêté non 
  maintenue.
* Amélioration - Optimisation de la requête SQL du widget "Dossiers auxquels on
  peut proposer une autre décision". Accélération de l'affichage du tableau de
  bord des utilisateurs.
  Ticket #8269.
* Évolution - On peut dorénavant marquer comme lu et non lu des messages liés
  à un dossier d'instruction clôturé.
  Ticket #8266.


3.29.0 (26/05/2016)
-------------------

* Évolution - La synchronisation des contraintes prend en compte les
  multi-collectivités.
  Ticket #8263.
* Correction - Suppression de l'icône "croix rouge" dans le listing des demandes
  d'avis en cours qui pourrait porter à confusion sur son utilité.
  Ticket #8260.
* Correction - Les services consultés peuvent désormais consulter les données
  techniques depuis la fiche des dossiers d'autorisation.
  Ticket #8251.
* Évolution - Le widget "Dossiers événement incomplet ou majoration sans RAR"
  dispose dorénavant d'un filtre paramétrable sur les dossiers affichés. Les
  dossiers peuvent être filtrés par instructeur, par division ou par
  collectivité.
  Ticket #8252.
* Correction - Il n'y a plus d'erreur de base de données lorsque l'utilisateur
  ajoutant une pièce numérisée notifiée possède une apostrophe (') dans son nom
  d'utilisateur ou dans son nom d'instructeur.
  Ticket #8250.


3.28.0 (17/05/2016)
-------------------

* Évolution - La majorité des interlignes superflues ont été supprimées dans le
  rendu des documents PDF, les marges et la largeur des caractères selon leur
  encodage ont été corrigées pour les sous-états. Enfin, les fonctionnalités
  inutiles de l'éditeur de texte riche TinyMCE ont été enlevées. Ces
  modifications peuvent impacter grandement le rendu des lettres types
  existantes.
  Ticket #8246.
* Évolution - Ajout d'un verrou rendant impossible le rechargement d'un
  formulaire après sa validation et limitant ainsi les erreurs de double saisie.
  Ticket #8237.
* Correction - Au dépôt d'une demande, le même enregistrement des données
  techniques était lié au dossier d'instruction et au dossier d'autorisation,
  désormais chaque dossier possède son propre enregistrement concernant les
  données techniques.
  Ticket #8247.
* Correction - Les caractères spéciaux "<" et ">" dans les compléments
  d'instruction sont désormais correctement affichés dans les éditions.
  Ticket #8238.
* Évolution - Ajout d'un filtre paramétrable pour le widget des messages, les
  messages peuvent maintenant être filtrés par division ou par collectivité.
  Ticket #8243.
* Évolution - Le dépôt d'une pièce numérisée par un utilisateur ajoute
  automatiquement un message de notification dans l'onglet "Message(s)" du DI (
  sous réserve que l'option "option_notification_piece_numerisee" soit activée).
  Ticket #8241.
* Évolution - Ajout d'un filtre paramétrable pour le widget de retour des
  consultations, les retours peuvent maintenant être filtrés par division ou
  par collectivité.
  Ticket #8245.
* Amélioration - Le bouton qui permettait de supprimer les données techniques
  d'un dossier n'avait pas d'utilité, il n'est maintenant plus disponible.
  Ticket #8244.
* Évolution - Nouvelle action sur l'instruction permettant de notifier par mail
  les communes. Elle est rendue disponible si l'instruction est finalisée, que
  l'utilisateur est un instructeur polyvalent (ou un administrateur général)
  rattaché à la communauté de communes.
  Ticket #8239.
* Amélioration - La recherche de dossiers dans l'écran qui permet d'imprimer 
  les attestations dans le cadre de l'affichage réglementaire ne permettait
  pas une recherche avec un numéro de dossier qui contenait des espaces (par 
  exemple : PC 013015 12 00001P0 ne renvoyait aucun résultat). La recherche
  a été modifiée et permet désormais la saisie avec espaces.
  Ticket #8240.
* Amélioration - Modification du chemin de stockage des fichiers par défaut 
  (../trs/1/ -> ../var/filestorage/).
  Ticket #8248.
* Correction - Le bouton "Sauvegarder le pétitionnaire fréquent" était affiché
  en consultation du formulaire et par conséquent sans effet. Il a été supprimé.
  Ticket #8242.


3.27.0 (21/04/2016)
-------------------

* Correction de l'encodage des données dans les sous-états qui ne s'affichaient
  pas si elles contenaient des caractères spéciaux.
* Correction - Lors de l'ajout d'une consultation sur un dossier, le champs
  "Date d'envoi" n'existe plus, la consultation est enregistrée automatiquement
  à la date du jour.
* Évolution - Les tris sur les demandes d'avis passées et sur les demandes
  d'avis du menu "Exports", sont désormais décroissants sur la date limite.
* Évolution - Ajout des actions marquer/démarquer le dossier sur les demandes
  d'avis en cours afin de signifier que le service consulté l'a pris en charge.
* Correction - Les métadonnées des fichiers enregistrés sur le filestorage sont
  désormais correctes.
* Correction - Lorsque l'avis d'une consultation est automatiquement passé à
  tacite, le champ "lu" est désormais positionné à non lu. Cela permet de
  l'afficher dans le widget "consultation" du tableau de bord de l'instructeur.
* Correction - L'aide à la saisie sur le formulaire des pétitionnaires et des
  architectes permettant de chercher dans les "fréquents" prend en compte
  désormais le caractère '*' dans la chaîne recherchée.
* Évolution - Ajout d'un bouton "Télécharger toutes les pièces" dans les onglets
  "Pièce(s)" permettant de récupérer dans une archive ZIP l'ensemble des
  documents du dossier.
* Correction : Les restrictions d'événement, en sus d'avoir leur taille
  augmentée, peuvent dorénavant utiliser la date de dépôt du DI ainsi que les
  opérateurs &&, ||, == et !=.
* Amélioration - Les champs de fusion concernant les AT sont désormais
  disponibles sur les éditions des consultations.
* Correction - Lors d'un import spécifique, les descriptions de projet pour les
  CUa, CUb, DP et DPS sont désormais récupérées.
* Correction - La taille de l'adresse après découpage lors d'un import
  spécifique peut désormais atteindre 30 caractères contre 29 avant.
* Évolution - Ajout de la possibilité pour l'administrateur de saisir des phases
  et de les associer à des événements en vue de l'aiguillage des avis de
  réception.
* Évolution - Affichage de l'avis rendu dans la consultation des demandes
  d'avis passées.
* Évolution - Ajout de la possibilité pour le profil administrateur de modifier
  les dates de suivi des événements d'instruction finalisés.
* Évolution - Ajout dans l'onglet DA d'un dossier d'instruction d'un
  tableau listant les DA qui ont au moins une parcelle en commun avec
  le DI courant.


3.26.2 (15/03/2016)
-------------------

* Correction - La variable de remplacement &contraintes() saisie dans les
  compléments d’instruction est, de nouveau, interprétée dans les éditions.


3.26.1 (14/03/2016)
-------------------

* Correction - Les variables de remplacement sont, de nouveau, fonctionnelles
  dans les compléments d'instruction.


3.26.0 (11/03/2016)
-------------------

* Évolution - Ajout du portail citoyen, une interface permettant aux pétitionnaires de
  consulter leurs autorisations.
* Correction - Le code commune du service expéditeur a été ajouté dans l'entête des
  exports SITADEL.
* Amélioration - Fonctionnalité 'répertoire de numérisation' : La création du
  répertoire de numérisation à l'ajout d'une nouvelle demande effectue
  désormais, si le répertoire existe déjà, une mise à jour de la date de
  modification du répertoire + Refonte.
* Amélioration - Ajout d'une option pour activer la création du répertoire de
  numérisation lors de l'ajout d'une demande.


3.25.0 (11/02/2016)
-------------------

* Correction - La modification d'une consultation depuis le contexte de son
  dossier d'instruction, n'efface plus le fichier joint de l'avis rendu.
* Correction - Les services à consultés sont désormais filtrés par collectivité
  dans chaque écran des dossiers d'instruction.
* Correction - Il n'y a plus d'erreurs PHP lors de l'ajout et de la modification
  d'un délégataire depuis son dossier d'instruction.
* Amélioration - Ajouts et modifications des données techniques par rapport aux
  nouvelles versions des CERFA.
* Correction - La méthode de récupération des contraintes d'un dossier est,
  désormais, opérationnelle si une seule contrainte est retournée par le SIG.
* Évolution - Ajout de l'abrégé du service en plus de son libellé dans les
  tableaux et formulaires des consultations d'un dossier d'instruction.
* Évolution - Ajout de tous les champs de fusion relatifs à l'identité du
  demandeur (auparavant ils étaient concaténés et ne pouvaient être utilisés
  unitairement).


3.24.0 (13/01/2016)
-------------------

* Correction - Ajout de l'aide à la saisie concernant le paramètre
  "affichage_sans_arborescence" de la variable de remplacement "&contraintes".


3.23.0 (07/01/2016)
-------------------

* Évolution - Ajout du paramètre "affichage_sans_arborescence" à la variable de
  remplacement "&contraintes" dans les lettres type, permettant d'avoir un
  affichage de contraintes sans groupes, sous-groupes et sans puces.
* Correction - Lors de l'ajout d'un pétitionnaire principal, la recherche de pétitionnaire
  fréquent ne retournait pas les pétitionnaires fréquents créés par la communauté.
* Réglementaire - Mise à jour des lettres-types suite à la réorganisation du livre 1er du
  Code de l'urbanisme.
* Réglementaire - Suppression des mentions à un décret obsolète dans les lettres-types.


3.22.0 (22/12/2015)
-------------------

* Évolution - Les SIG externes sont désormais paramétrables pour chaque collectivité.
* Correction - Depuis le menu 'Suivi -> Bordereaux' on peut dorénavant sélectionner
  la collectivité des dossiers que l'on souhaite afficher.
* Correction - Les instructeurs d'une commune qui ajoutent des demandes
  affectées à des instructeurs de la communauté, ont le droit de modifier le
  dossier d'instruction et de régénérer le récépissé tant que celui-ci n'est pas
  instruit.


3.21.1 (14/12/2015)
-------------------

* Aucun changement.


3.21.0 (09/12/2015)
-------------------

* Correction - Les instructeurs peuvent, à nouveau, modifier le dossier
  d'instruction lorsque celui-ci est en cours d'instruction. Les profils du
  guichet ont la possibilité de modifier le dossier d'instruction et de
  régénérer son récépissé lorsque celui-ci n'est toujours pas instruit.
* Correction - La liste des pétitionnaires fréquents affichait les pétitionnaires
  fréquents de toutes les autres collectivités, , désormais elle affiche
  seulement les pétitionnaires fréquents de la collectivité de l’utilisateur et
  ceux liés à la communauté.
* Correction - La nature des travaux d'un ERP a été ajoutée dans la description
  du projet de la fiche du dossier d'instruction.
* Évolution - Lors de la saisie d'une demande, la date de dépôt en désormais
  affichée dans la continuité verticale du formulaire. Une option
  (option_date_depot_demande_defaut) a été ajoutée et permet d'afficher ou non
  la date du jour comme valeur par défaut dans la date de dépôt.
* Correction - Le lien vers le dossier d'instruction dans le message de
  validation lors de l'ajout d'une nouvelle demande, est désormais visible.
* Correction - Lorsqu'il n'y avait pas de dossier d'instruction enregistré dans la base,
  le listing des dossiers d'instruction affichait une erreur de base de données,
  désormais ce n'est plus le cas.
* Correction - Lorsqu'un pétitionnaire est une personne morale et que son
  représentant est renseigné, dans les documents générés le terme
  "représenté par" est remplacé par "représenté(e) par".


3.20.1 (19/11/2015)
-------------------

* Correction - Ajout d'un message d'erreur lors de la saisie d'une date de retour
  d'AR sur événement après un délai de notification dépassé si une restriction
  est présente sur l'événement retour.


3.20.0 (17/11/2015)
-------------------

* Correction - Ajout d'un message d'erreur lors de la saisie d'une date de retour
  d'AR sur événement après un délai de notification dépassé si une restriction
  est présente sur l'événement retour.
* Évolution - Ajout des données techniques concernant la catégorie, le type et
  l'effectif des ERP.
* Correction - Renommage de la colonne "nature des travaux" en "description
  du projet" dans le listing des demandes d'avis. De plus ce champ, qui est
  également présent dans la fiche détaillée d'un dossier d'instruction et
  d'autorisation, reprend dorénavant toutes les descriptions du projet.
* Correction - Depuis l'ajout multiple de consultations dans un DI, les services sans
  thématique n'étaient pas triés par ordre alphabétique.


3.19.5 (03/11/2015)
-------------------

* Correction - Les paramètre de la commune (ex : &ville) n'étaient pas fusionnés
  dans le récépissé de dépôt.


3.19.4 (29/10/2015)
-------------------

* Correction - Le logo de la communauté (collectivité de niveau 2) n'était
  jamais récupéré dans les éditions si le logo de la commune (collectivité de
  niveau 1) n'était pas paramétré.
* Correction - Lorsqu'un utilisateur de la communauté (collectivité de niveau 2)
  déposait une demande pour une commune (collectivité niveau 1), le logo n'était
  pas celui de la commune dans le récépissé de dépôt accessible depuis le
  message de validation du formulaire de la demande.


3.19.3 (13/10/2015)
-------------------

* Correction - Les instructeurs polyvalents commune étaient limités aux événements
  de changement de décision lors d'ajout d'événement d'instruction sur les dossiers
  qui leurs sont affectés.
* Correction - Les instructeurs polyvalents commune ne peuvent plus ajouter
  d'événement d'instruction si le dossier est clôturé.


3.19.2 (08/10/2015)
-------------------

* Correction - Le profil guichetsuivi ne pouvait plus ajouter de demande de
  consultation


3.19.1 (02/10/2015)
-------------------

* Correction - Les instructeurs commune ne pouvaient plus modifier, finaliser et
  définaliser les événements d'instruction des dossiers de leur division.


3.19.0 (01/10/2015)
-------------------

* Amélioration - Dans l'onglet Pièce(s) du DA ne s'affichait que certains types
  de documents. Tous les documents s'affichent désormais dans cet onglet et il
  est possible de paramétrer la liste des types de documents qui apparaissent.
* Amélioration - Dans l'onglet Pièce(s), l'ergonomie de la gestion des pièces
  (téléchargement, modification, suppression) a été améliorée pour faciliter son
  utilisation.
* Amélioration - Le widget 'Dossiers limites' affiche désormais tout les types
  de dossier. Une infobulle  a également été ajoutée et permet de décrire le
  fonctionnement du widget.
* Amélioration - Ajout du champ de fusion [su_tot_shon_tot_donnees_techniques]
  permettant d'afficher la somme totale du tableau des surfaces dans les données
  techniques.
* Amélioration - Refonte de l'ergonomie du widget de recherche rapide de
  dossiers.
* Amélioration - Suppression du widget 'profil instructeur' doublon du widget
  'infos profil'.
* Amélioration - Les champs de fusion du pétitionnaire principal permettent
  désormais d'afficher la civilité lorsqu'il s'agit d'une personne physique, et
  d'avoir plus de précision lorsqu'il s'agit d'une personne morale. La même
  amélioration a été faite pour les lettres RAR.
* Correction - Dans le menu 'Paramétrage Dossiers -> Workflows -> Bible',
  lorsque l'on ajoutait et/ou modifiait une bible on ne pouvait pas la lier à un
  événement d'instruction : il fallait ajouter une bible depuis l'événement.
* Correction - Les libellés des types de dossier d'instruction pour les DP, DPS,
  AZ et AT sont désormais au féminin : "Initial" est devenu "Initiale".
* Correction - Lors des modifications de contraintes et de services la
  collectivité n'est plus automatiquement remplacée par celle de l'utilisateur.
* Correction - Lors de la saisie d'un pétitionnaire depuis le menu 'Guichet
  Unique -> Nouvelle Demande -> Nouveau Dossier', les pétitionnaire fréquents
  n'apparaissaientt pas dans les résultats de la recherche.
* Correction - La consultation de l'onglet 'Pièce(s)' était impossible dans le
  contexte d'une demande d'avis par les services consultés.
* Correction - La recherche avancée sur le critère 'instructeur' dans les
  listings 'Instruction -> Consultations -> Tous les retours' et 'Instruction ->
  Messages -> Tous les messages' renvoyait dans tous cas le message 'Aucun
  enregistrement'. Elle est désormais fonctionnelle.
* Correction - La colonne 'mot de passe' ne devait pas apparaître dans le
  listing des utilisateurs. Elle a été supprimée.
* Correction - La saisie de caractères spéciaux dans le champ 'code barre' du
  formulaire de suivi de pièces de mise à jour des dates, du formulaire de suivi
  du bordereau d'envoi au maire, du formulaire de de mise à jour des dates de
  demandes d'avis et du formulaire de suivi des retours de consultation
  produisait une erreur de base de données. Des vérifications ont été ajoutées
  pour corriger cette erreur.
* Correction - La recherche avancée sur le critère 'date de décision' dans le
  listing des dossiers d'autorisation produisait une erreur de base de données.
  La configuration du critère en question mauvaise et a été corrigée.
* Correction - Erreur de base de données sur le widget "Dossiers auxquels on
  peut proposer une autre décision" corrigée.
* Correction - Les instructeurs commune peuvent maintenant changer la décision
  proposée par la communauté de commune.
* Correction - Le recalcul des données du dossier d'autorisation ne se faisait
  pas dans le cas où il y avait plusieurs dossiers d'instruction sans décision
  sur un dossier d'autorisation.


3.18.1 (07/09/2015)
-------------------

* Correction - L'administrateur général n'avait plus accés à l'export SITADEL.
* Amélioration - Ajout de quatre nouveaux profils : administrateur général,
  guichet et suivi, instructeur polyvalent et instructeur polyvalent commune.


3.18.0 (31/08/2015)
-------------------

* Correction - La recherche se trouvant dans les pétitionnaires fréquents
  renvoyait une erreur de base de données lorsqu'un critère était sélectionné.
  C'est corrigé.
* Amélioration - Dans les demandes d'avis aux services consultés, dans les menus
  "Mes Encours", "Tous Les Encours", "Mes Clôturés", "Tous Les Clôturés" et
  "Recherche", dans la visualisation du dossier d'instruction en cours des
  dossiers d'autorisation, dans le tableau des "Dossiers En Cours", dans le
  tableau des "Autres Dossiers", dans le tableau des "Dossiers À Qualifier", dans
  le widget des dossiers limites à 15 jours et dans les champs de fusion la date
  limite affichée est la date limite d'incomplétude si ce le dossier est dans
  l'état "Incomplet notifié".
* Amélioration - Gestion de l'export SITADEL avec les nouvelles actions.
* Correction - Un message d'erreur s'affichait au téléchargement d'un fichier CSV
  de statistique avancée.
* Correction - Un message d'erreur s'affichait au téléchargement du fichier SITADEL.
* Amélioration - Ajout du module taxe. Une simulation sur la taxe d'aménagement
  est disponible sur chaque dossier d'instruction ayant le cerfa adéquat.
* Amélioration - Le profil de visualisation des DA et DI peut désormais
  consulter les données techniques et le rapport d'instruction si celui-ci
  existe.
* Amélioration - Le profil du guichet unique peut modifier les demandeurs et la
  localisation d'une demande si le dossier n'est pas encore en instruction. Il peut
  également regénérer le récépissé d'une demande depuis le dossier d'instruction.
* Correction - Dans la recherche des dossiers si l'utilisateur communauté est
  connecté les instructeurs d'autres divisions n'étaient pas listés.
* Correction - La fiche pétitionnaire fréquent dans le contexte du DI n'était pas
  accessible, elle l'est maintenant, le pétitionnaire reste non modifiable.
* Correction - Ajout de la colonne collectivité dans les tableaux de dossiers
  pour les utilisateurs multi.
* Correction - Ajout du lieu-dit, de la superficie du terrain et nombre de logement
  dans le registre d'affichage réglementaire.
* Amélioration - Ajout du profil Instructeur Service.
* Correction - La recherche sur le numéro de dossier dans les demandes de passage
  en commission ne fonctionnait pas.
* Correction - Ajout des champ de fusion demandeur lieu-dit, complement et
  terrain lieu-dit à la requête de consultation.

3.17.4 (18/08/2015)
-------------------

* Correction - Lors de l'import des dossiers antérieurs, il était possible d'importer
  des dossiers avec une nature de décision mais sans date de décision associée. C'est
  corrigé.


3.17.3 (10/08/2015)
-------------------

 * Correction - Un message d'erreur s'affichait au tÃ©lÃ©chargement d'un fichier CSV
   de statistique avancÃ©e.
 * Correction - Un message d'erreur s'affichait au tÃ©lÃ©chargement du fichier SITADEL.


3.17.2 (06/08/2015)
-------------------

* Correction - Suppression du critère de tri sur la qualification des dossiers.

3.17.1 (29/07/2015)
-------------------

* Correction - L'export et l'import de la table service sont corrigés, le
  nouveau champ sur le type du délai est désormais pris en compte.
* Correction - L'ajout d'un dossier sur existant n'était pas possible à cause
  d'une mauvaise récupération de la numérotation du dossier précédent.


3.17.0 (24/07/2015)
-------------------

* Amélioration - L'import des dossiers d'instruction était trop restrictif
  concernant le format des références cadastrales. Il accepte maintenant les
  lettres en fin de références mais ne les importe pas.
* Correction - Sur les dossiers d'instruction importés depuis l'historique DDTM,
  la description du projets apparaissait trois fois. C'est corrigé.
* Amélioration - Mise à jour des CERFA pour ajouter les champs qui étaient
  manquants. Notamment, l'ajout des champs nécessaires au calcul
  des impositions.
* Correction - Dans les éditions, la description du projet était affichée
  plusieurs fois.
* Correction - le module de saisie des référnce cadastrales ne fonctionnait pas
  ce qui rendait leurs utilisation impossible.

3.16.1 (22/07/2015)
-------------------

* Correction - Dans l'export SITADEL, les codes insee de la commune et du
  departement sont correctement renseignés dans chaque mouvement.
* Correction - La liste des signataires n'était pas bien filtré dans l'onglet
  instruction si l'instructeur n'était pas dans le contexte de recherche de dossier.
* Correction - Le PDF de lettre RAR n'était pas valide sur certains lecteurs PDF.
* Correction - Correction du widget dossiers limites.
* Amélioration - Ajout de la colonne "enjeu" dans le widget du tableau de bord
  "Dossiers limites à 15 jours".
* Amélioration - Rajout du menu des bibles.
* Correction - Correction de l'import specifique ADS2007.
* Amélioration - Mise à jour du champ de fusion des description de projet,
  elle sont maintenant contenue dans un seul champ.
* Correction - Meilleur gestion des informations concernant les rejets lors de
  l'import de données antérieures.
* Amélioration - Le délai sur les services peut désormais être défini en jour.
* Amélioration - Possiblité d'exporter en csv la recherche de dossiers d'instruction.
* Amélioration - Meilleurs gestion des erreurs dans l'import ADS2007, les dossiers
  sans nature de décision sont maintenant accordés, correction de l'import des surfaces.



3.16.0 (19/06/2015)
-------------------

* Correction - Correction des statistiques à la demande. Certains dossiers
  apparaissaient plusieurs fois s'ils avaient plusieurs pétitionnaires.
* Amélioration - Ajout d'une checklist configurable des documents obligatoires
  lors d'un dépôt de demande
* Amélioration - Ajout d'un module d'import de dossiers clôturés au format csv
  d'ads2007
* Correction - Suppression du terme "VDM" dans le mail d'une consultation
* Amélioration - Le calcul des surfaces dans les données techniques se fait
  désormais sur des nombres décimaux limités à deux chiffres après la virgule.
* Amélioration - Ajout du bordereau d'envoi au maire
* Correction - Lors de l'ajout d'un événement d'instruction, le signataire par
  défaut est maintenant sélectionné
* Correction - Si des logos étaient actifs, le PDF de l'édition contenait autant
  de pages que de logos. C'est corrigé.


3.15.1 (13/05/2015)
-------------------

* Correction - Ajout de la gestion de la collectivité dans les éditions finalisées des
  événements d'instruction
* Correction - Ajout du workflow manquant pour les DPS
* Correction - Le registre des affichages réglementaire est maintenant filtré par commune


3.15.0 (07/05/2015)
-------------------

* Correction - Correction de l'affichage de l'aide dans l'édition des états et
  lettres types
* Amélioration - Ajout de la décision mairie
* Amélioration - Ajout de la Déclaration Préalable instruite en mairie (DPs)
* Correction - Correction de l'affichage du nom de pétitionnaire dans les éditions


3.15.0-rc6 (07/05/2015)
-----------------------

* Amélioration - Ajout du widget listant les dossiers pour lesquels on peut
  proposer une autre décision.
* Amélioration - Ajout du log de l'utilisateur qui finalise un événement
  d'instruction.


3.15.0-rc5 (04/05/2015)
-----------------------

* Correction - Correction de la condition d'affichage de différents formulaires
  de l'application avec ajout de droits pour certains utilisateurs
* Amélioration - Ajout du workflow des DP simples.
* Amélioration - Affichage du menu de paramétrage des contraintes :
  "Paramétrage Dossiers" → "Dossiers" → "Contrainte" (disponible en administrateur)
* Amélioration - Affichage de l'onglet contrainte dans la visualisation du dossier
  d'instruction.
* Amélioration - Modification de la numérotation des dossiers d'instruction.
  Il est maintenant possible d'y intégrer la lettre du code de la division de
  l'instructeur qui y est affecté. Pour cela, il faut activer un paramètre
  "option_instructeur_division_numero_dossier" et mettre la valeur "true".
* Amélioration - Ajout des types de contrainte CC et NRU, en plus de POS et PLU.
* Amélioration - Possibilité d'ajouter des variables et des champs de fusion dans
  les bibles.


3.15.0-rc4 (28/04/2015)
-----------------------

* Correction - Correction de la condition d'affichage du formulaire d'ajout d'instruction.
* Correction - Correction des filtres de service lors de l'ajout de consultation sur un di.
* Ajout de droit manquant pour la consultation de demande d'avis.
* Amélioration - Suppression de l'entrée de menu Bible dans Paramétrage Dossiers.
* Amélioration - Suppression des keywords de la bible inutilisables.
* Amélioration - Mise en cohérence du fil d'ariane avec la rubrique de menu
* Amélioration - Ajout de couleurs de rubriques dans l'affichage
* Amélioration - Ajout du watermark sur les éditions preview d'instruction.
* Amélioration - Le code département et le code commune est désormais utilisé
  pour incrémenter le numéro de dossier.
* Amélioration - Une option "option_instructeur_division_numero_dossier" a été
  ajoutée permettant d'ajouter le code de division de l'instructeur au numéro du
  dossier.


3.15.0-rc3 (20/04/2015)
-----------------------

* Aucun changement.


3.15.0-rc2 (19/04/2015)
-----------------------

* Amélioration - Ajout de la possibilité de pouvoir importer des csv pré-formatés.


3.15.0-rc1 (08/04/2015)
-----------------------

* Amélioration - Ajout des civilités dans les requêtes et les sous-états.
* Amélioration - Ajout de deux champs de complément lors de la saisie et de la
  modification des événements d'instruction.
* Bug - Lors de la copie d'un événement, la copie des objets liés ne s'effectuait
  pas.
* Amélioration - Ajout de la gestion des nouvelles actions.
* Bug - Dans les statistiques à la demande, si aucun critère n'était selectionné
  une erreur de base de données se produisait.
* Bug - Dans les statistiques à la demande, si certains champs n'avaient pas été
  remplis, une erreur de base de données se produisait.
* Bug - Dans les statistiques à la demande, les dates de décision des dossiers
  détaillés et des dossiers détaillés accordés n'étaient pas au bon format. C'est
  corrigé.
* Bug - Il était impossible de marquer comme non fréquent un architecte ou un
  pétitionnaire. C'est corrigé.
* Amélioration - Lors de la saisie d'un nouveau dossier et lors de la
  modfication d'un dossier existant, si les références cadastrales saisies
  n'avait pas le format correct (3 chiffres, 1 lettre, 4 chiffres), un message
  d'alerte est affiché et le dossier n'est pas enregistré.
* Bug - Correction des problèmes d'encodage dans l'export SITADEL.
* Amélioration - Gestion des multi-collectivités

3.14.0-b16 (18/03/2015)
-----------------------

* Bug - Correction de la purge des fichiers importés qui n'était pas finalisée.
* Amélioration - Ajout d'un champ de fusion [code_barres_dossier] dans les
  requêtes afin de pouvoir ajouter un code barres contenant l'identifiant du
  dossier concerné dans les éditions.
* Bug - Mise en cohérence des champs de recherche avancée et des champs affichés
  dans les tableaux correspondants
* Bug - Correction de l'affichage de multiples références cadastrales qui
  dépassées du champ et empêchées les actions depuis le menu contextuel
* Bug - Correction de la civilité du pétitionnaire affichée dans la
  visualisation du dossier.
* Amélioration - Ajout des dossiers du groupe 'CS' au bordereau d'envoi des
  contrôles de légalité.


3.14.0-b15 (10/03/2015)
-----------------------

* Bug - Correction de l'export SITADEL.


3.14.0-b14 (24/02/2015)
-----------------------

* Bug - Le numéro de l'année n'était pas rajoutée à la création du dossier
  d'instruction.
* Amélioration - Ajout d'informations lors de la génération de l'import
  SITADEL.
* Bug - Correction de la gestion des enregistrements expirés qui étaient
  anormalement présents (instructeurs et signataires).
* Bug - Correction d'une erreur lors de l'ajout de multiples références
  cadastrales lors d'un nouveau dossier.
* Amélioration - Suppression de colonnes dans le tableau des services pour un
  meilleur affichage sur les écrans dotés d'une résolution de 1024*728px.
* Bug - Erreur de base de données dans les statistiques à la demande sur la
  requête "dossier_detaillee_accordes". C'est corrigé.
* Amélioration - Dans le script de génération des fichiers d'initialisation de
  la base de données, suppression de tous les "SET" dans les entêtes.


3.14.0-b13 (23/02/2015)
-----------------------

* Bug - Lors de la création du répertoire de numérisation d'un dossier, le
  numéro de version était incrémenté alors qu'il ne devait pas l'être.
  C'est corrigé.
* Bug - Erreur de base de données lors de l'ajout d'un modificatif sur un
  dossier mal numéroté. C'est corrigé.


3.14.0-b12 (17/02/2015)
-----------------------

* Bug - Dans le menu Dossier autorisation des services consultés, le critère de
  sélection des dossiers d'autorisation étaient incorrects. Le menu affiche
  désormais les dossiers d'autorisation sur lesquels les services ont été
  consultés au moins une fois.


3.14.0-b11 (10/02/2015)
-----------------------

* Bug - Les résultats obtenus dans les statistiques à la demande n'étaient pas
  corrects.
* Bug - Lors de l'import des documents numérisés, les fichiers contenant des "-"
  dans leurs noms avaient ces derniers qui étaient tronqués. C'est corrigés.
  Un script correctif a été ajouté.
* Amélioration - Ajout de la possibilité d'importer des services, bibles et
  demandeurs en passant par le menu "Administration → Import".
* Bug - La copie des lettres types, des états et des sous-états est désormais
  fonctionnelle.

3.14.0-b10 (05/02/2015)
-----------------------

* Bug - Lors de l'ajout d'une nouvelle demande, des données techniques inutiles
  se créent provoquant une erreur non visible de l'utilisateur. C'est corrigé.
* Ajout d'information dans le logger lors de la création d'une demande.
* Bug - Lors de l'envoi des lettres RAR, l'instruction été modifiée même si une
  erreur se produisait. Ce n'est plus le cas.


3.14.0-b9 (04/02/2015)
----------------------

* Lors de la génération d'une lettre RAR, si le demandeur était un particulier et
  que des informations étaient saisis dans les champs concernant les personnes
  morales en base de données, ces informations étaient affichaient dans la
  première ligne de l'adresse d'envoi. C'est corrigé.


3.14.0-b8 (02/02/2015)
----------------------

* Lors de l'ajout d'un pétitionnaire, si on effectuait une recherche sur les
  pétitionnaires fréquents, la liste complète de tous les pétitionnaires étaient
  renvoyées.
* Lors de la saisie d'une nouvelle demande, les types de demande proposées n'étaient
  pas filtrées par l'état du dossier d'instruction.


3.14.0-b7 (31/01/2015)
----------------------
* Bug - Une erreur de base données se produisait lors de la création de
  consultation multiple. C'est corrigé.
* Bug - Filtre sur les dossier d'instruction de type P, M et T lors de la
  génération du filtre sur les affichages réglementaires.
* Amélioration - Modification des messages loggués dans le fichier d'erreurs lors
  de l'import de document numérisés.
* Bug - Lorsqu'on essayait de visualiser un état, une erreur
  de base de données se produisaient. C'est corrigé.


3.14.0-b6 (22/01/2015)
----------------------
* Amélioration - Si aucun SIG n'est paramétré, les champs de géolocalisation dans
  la visualisation du dossier d'instruction sont cachés
* Ajout de tests fonctionnels automatisés, afin d'éviter des régressions
  fonctionnelles lors des évolutions et correctifs ultérieurs.
* Mise à jour de la documentation.

3.14.0-b5 - 13/01/2015
----------------------
* Bug - Les données du tableau des surfaces des données techniques n'étaient
  pas affichées dans les bonnes cases du tableau. C'est corrigé.
* Amélioration - Retraitement des valeurs postées.
* Ajout de tests fonctionnels automatisés, afin d'éviter des régressions
  fonctionnelles lors des évolutions et correctifs ultérieurs.
* Mise à jour de la documentation.

3.14.0-b4 - 17/12/2014
----------------------
* Bug - Les statistiques à la demande utilisaientt des critères trop restreint
  pour les requêtes effectuables. Il est maintenant possible de saisir un
  interval de date.
* Bug - Lors de la récupération de l'adresse, grâce aux références cadastrale,
  au moment de la saisie de la demande, si le nom de la voie faisait plus de
  trente caractères une erreur de base de données était déclenchée lors de
  l'ajout de la demande.
* Amélioration - Dans la visualisation du dossier d'autorisation, suppression de
  l'affichage de la superficie du terrain dans le champ "Localisation du terrain".
* Amélioration - L'instruteur a maintenant la possibilité de "marquer comme lu"
  une consultation sur un dossier d'instruction clôturé.
* Amélioration - Le qualificateur ne peut plus modifier les événements
  d'instruction d'un dossier d'instruction clôturé.
* Amélioration - Ajout de droits sur les consultations pour les divisionnaires
* Bug - Suppression des droits sur le guichet unique au divisionnaire
* Bug - La copie des lettre-types, logos, état et sous-états ne fontionnaient pas.
  C'est corrigé.
* Amélioration - Ajout d'un critère dans le sous-état du bordereau d'envois des
  avis du maire au préfet. Il permet de récupérer uniquement les événements
  d'instruction "avis du maire".
* Amélioration - Ajout d'une méthode de retraitement des variables
* Amélioration - Ajout d'informations, comme le nom du dossier ou le nom du fichier,
  dans les loggues des documents numérisés.
* Amélioration - Correction de la montée en charge de la base de données lors de
  l'affichage des dossiers d'instruction du menu "Recherche".
* Amélioration - Si une commune est divisée en arrondissement, ce n'est pas le
  code INSEE de la commune qu'il faut mettre en entête mais, le code impôt de
  l'arrondissement du dossier d'autorisation.
* Amélioration - Si on essayait de générer un export SITADEL et qu'une erreur
  étaient détectée dans les données, seul un fichier d'erreur était généré.
  Dorénavant, la gestion des erreurs est moins restrive. Deux fichiers sont
  générés en cas d'erreur : le fichier d'export et le fichier d'erreurs.
* Bug - Si on essayait de générer un export SITADEL contenant des mouvements
  modificatif, une erreur se produisait. C'est corrigé.
* Amélioration - Suite à l'ajout de la possibilité de récupérer les champs de fusion
  par des objets au lieu de requêtes SQL, mise à jour de la table om_requete.
* Ajout de tests fonctionnels automatisés, afin d'éviter des régressions
  fonctionnelles lors des évolutions et correctifs ultérieurs.
* Mise à jour de la documentation.

3.14.0-b3 - 01/12/2014
----------------------
* Bug - Lors de la saisie d'un nouveau dossier d'instruction, si la référence
  cadastrale saisit contenait une section sur deux caractères, la donnée envoyée
  au web-service était incorrecte. C'est corrigé.
* Amélioration - Lors de la génération de l'export sitadel, le log ne
  contenait que la dernière erreur qui s'était produite.
  Il a été corrigé afin que toutes les erreurs soient logguées.
* Amélioration - Correction des select multiple suite à la mise à jour du
  framework.
* Ajout de tests fonctionnels automatisés, afin d'éviter des régressions
  fonctionnelles lors des évolutions et correctifs ultérieurs.
* Mise à jour de la documentation.

3.14.0-b2 - 21/11/2014
----------------------
* Bug - Correction du script de mise à jour des dossiers d'autorisation.
* Bug - Dans les bordereaux du suivi des pièces, les PDFs contenaient des
  doublons.
* Bug - Les données techniques affichaient dans la visualisation du dossier
  d'autorisation, partie "En cours d'instruction" étaient incorrectes. Elle
  n'affichaient pas celles du dossier d'instruction en cours d'instruction.
* Ajout de tests fonctionnels automatisés, afin d'éviter des régressions
  fonctionnelles lors des évolutions et correctifs ultérieurs.
* Mise à jour de la documentation.

3.14.0-b1 - 07/10/2014
----------------------
* Amélioration - Le qualificateur peut maintenant modifier les données des
  demandeurs et la localisation du terrain des dossiers d'instruction.
* Ajout de tests fonctionnels automatisés, afin d'éviter des régressions
  fonctionnelles lors des évolutions et correctifs ultérieurs.
* Mise à jour de la documentation.

3.14.0-a16 - 07/10/2014
-----------------------
* Amélioration - Ajout de nouveau droits au profil "Qualificateur". Il peut
  maintenant modifier les données des demandeurs et la localisation du terrain
  des dossiers d'instruction. Il a aussi la possibilité d'ajouter de nouvelles
  demandes et d'éditer les affichages réglementaires.
* Bug - Lors d'une demande de consultations mutiples, le PDF généré n'utilisait
  pas les éditions correctes. Il utilisait une édition par défaut au lieu de
  celles configurées dans le paramétrage du service.
* Bug - Lors de l'enregistrement en base de données des informations du rapport
  d'instruction, un espace était ajouté en début de chaque ligne. C'est corrigé.
* Amélioration - Mise en forme du PDF du rapport d'instruction avec alignement à
  droite des différentes consultations de service et suppression d'un titre
  inutile "Consultations des services :".
* Amélioration - Modification de la mise en page du tableau des demande d'avis
  en cours du menu "Demande d'avis". La taille de la colonne "date limite" a été
  réduite et celle de la colonne "dossier" a été augmentée.
* Amélioration - Changement du libellé des dates dans le menu "Mise à jour des
  dates" du menu "Suivi".
* Amélioration - L'administrateur a maintenant le droit de modifier les dates
  concernant le contrôle de légalité dans les événements d'instruction, même si
  ce ne sont pas des arrêtés.
* Bug - Correction du lien vers l'application contenu dans les mails reçus par
  les services consultés.
* Mise en compatibilité des tests fonctionnels.
* Ajout de tests fonctionnels automatisés, afin d'éviter des régressions
  fonctionnelles lors des évolutions et correctifs ultérieurs.
* Mise à jour de la documentation.

3.14.0-a15 - 15/09/2014
-----------------------
* Amélioration - Mise à jour du fichier WSDL du SIG.
* Amélioration - Lorsqu'un avis était rendu de manière tacite pour une
  consultation, la date de retour était vide. Dorénavant la date de retour sera
  la même que la date limite.
* Amélioration - Modification de la mise en forme des contraintes dans les
  éditions. Les noms des groupes et des sous-groupes sont tous en majuscules et
  les puces des listes ont été modifiées.
* Bug - Correction de traductions dans les données techniques.
* Amélioration - Ajout d'un critère dans le sous-état du bordereau d'envois des
  avis du maire au préfet. Il permet de récupérer uniquement les événements
  d'instruction "avis du maire".
* Amélioration - Dans le mail envoyé au service consulté, deux liens paramétrables
  en partie étaient ajoutés. Les liens sont maintenant complétement configurables.
* Bug - Si on renseignait une date de retour de l'AR sur un événement
  d'incomplétude alors que la date limite du notification était dépassée,
  l'état du dossier passait tout de même en "incomplet notifié". C'est corrigé.
* Bug - Le script de mise à jour des dossiers d'autorisation récupérait les données
  techniques du mauvais dossier d'instruction. C'est corrigé.
* Amélioration - Mise à niveau vers la version 4.4.0 d'openMairie avec suppression
  des surcharges om_*.
* Bug - Lorsqu'on lançait le script d'envoi de message aux web-services, des
  messages d'erreur s'affichaient. C'est corrigé.
* Ajout de tests fonctionnels automatisés, afin d'éviter des régressions
  fonctionnelles lors des évolutions et correctifs ultérieurs.
* Mise à jour de la documentation.

3.14.0-a14 - 11/08/2014
-----------------------
* Bug - Utilisation des options des paramètres (option_*) conformément à la
  convention d'assignation de valeur de la documentation.
* Bug - Dans les éditions contenant des contraintes du SIG, deux problèmes étaient
  rencontrés.
  Les noms des groupes et des sous-groupes n'étaient pas normalisés de la même
  manière dans l'onglet "contrainte" de la visualisation du dossier d'instruction
  et lorsqu'on souhaitait l'afficher dans une édition.
  Les contraintes spécifiques ne s'affichaient pas correctement dans les éditions.
* Amélioration - Ajout du numéro de dossier d'instruction dans les logs d'erreur
  lorsqu'une erreur se produit lors de l'utilisation du SIG sur ce dossier.
* Amélioration - Dans le menu "Suivi -> Suivi Des Pièces -> Mise À Jour Des Dates",
  si l'événement d'instruction à mettre à jour n'était pas de type "arrêté",
  les champs de date d'envoi et de retour de la lettre AR n'étaient pas affichés.
  Ils sont maintenant tous affichés sans distinction du type de l'événement lié
  à l'événement d'instruction.
* Bug - Correction d'une erreur dans la configuration des overlay. Lorsqu'on
  passait une taille en paramètre, elle n'était pas prise en compte.
* Amélioration - Élargissement de la fenêtre du rapport d'instruction dans la
  visualisation du dossier d'instruction.
* Amélioration - Modification de la mise en page du menu "Suivi". Le menu
  "Retours de consultation" a été déplacé en dessous du menu
  "Mise à jour des dates" de la rubrique "Demandes d'avis".
* Amélioration - Modification de la mise en page du tableau des demande d'avis en
  cours du menu "Demande d'avis". La taille de la colonne "consultation" a été
  réduite et celle de la colonne "dossier" a été augmentée.
* Amélioration - Ajout des dossiers d'instruction dont l'état est 'Accepté tacite'
  dans la liste des dossiers d'intruction en cours, du menu guichet unique.
* Amélioration - Mise à jour du WSDL lié au web-service du SIG.
* Bug - Si on renseignait une date de retour de l'AR sur un événement
  d'incomplétude alors que la date limite du dossier d'instruction était dépassée,
  l'état du dossier passait tout de même en "incomplet notifié". C'est corrigé.
* Amélioration - Dans la visualisation du dossier d'instruction, lorsque l'option
  d'envoi de messages vers le logiciel ERP était désactivée, les champs
  "Enjeu -> ERP" et "Qualification -> ERP" étaient masqués. Dorénavant, ils sont
  constamment affichés.
* Amélioration - Ajout de nouveaux droits pour le profil visualisation DA et DI
* Bug - Dans le tableau des dossiers d'instruction de l'onglet "DA" de la
  visulation du dossier d'instruction, il était affiché l'identifiant de l'état
  et non son libellé.
* Bug - Ajout du critère raison sociale lors de la recherche d'un dossier
  d'instruction à partir des coordonnées de son pétitionnaire.
* Ajout de tests fonctionnels automatisés, afin d'éviter des régressions
  fonctionnelles lors des évolutions et correctifs ultérieurs.
* Mise à jour de la documentation.

3.14.0-a13 - 10/07/2014
-----------------------
* Amélioration - Ajout du champ de fusion architecte (prénom nom) dans l'édition
  pdf du dossier et sous-états de commission.
* Amélioration - Ajout du sous-état récapitulatif des passages en commission d'un
  dossier d'instruction dans l'état du récapitulatif du dossier
* Amélioration - Ajout d'un nouveau sous-état récapitulatif des passages en
  commission d'un dossier d'instruction
* Bug - Ajout du numéro d'arrondissement dans le dossier d'autorisation
* Bug - Dans la visualisation du dossier d'instruction, le nom du pétitionnaire
  principal ne s'affichait pas toujours. C'est corrigé.
* Amélioration - Suppression des droits sur le guichet unique au chef de service
* Bug - Correction de la gestion des tacites lors d'une incomplétude notifiée.
  Un seul événement suivant tacite ne doit être ajouté sur un dossier
  d'instruction.
  Si le dossier d'instruction était en incomplétude notifiée lorsque la limite
  d'instruction a été dépassée alors, c'est l'événement suivant tacite incomplétude
  qui doit être appliqué. Sinon, c'est l'événement suivant tacite.
* Bug - Le widget "Dossiers événement incomplet ou majoration sans RAR" du
  tableau de bord de l'instructeur n'affichait pas la liste de dossiers
  d'instruction qui lui était affectée.
* Amélioration - Ajout de nouveaux droits pour le profil visualisation DA et DI
* Bug - Les dossiers d'instruction qui étaient dans un état "incomplet" et dont
  la limite d'instruction était dépassée n'étaient pas impactés par l'ajout d'un
  événement d'instruction tacite. C'est corrigé.
* Bug - Les données techniques n'étaient pas recopiées correctement lors de l'ajout
  d'un nouveau dossier sur un dossier initial P0.
* Bug - Correction de l'affichage d'une notice PHP s'il n'y avait pas de
  sous-groupe lié à une contrainte
* Amélioration - Mise à niveau vers la version 4.4.0 d'openMairie
* Ajout de tests fonctionnels automatisés, afin d'éviter des régressions
  fonctionnelles lors des évolutions et correctifs ultérieurs.
* Mise à jour de la documentation.

3.14.0-a12 - 18/06/2014
-----------------------
* Amélioration - Modification de libellés dans la visualisation du dossier
  d'autorisation
* Amélioration - Tri des événements d'instructionpar date puis par numéro
  d'événement d'instruction
* Amélioration - Dans la demande d'avis, seul le libellé de l'autorité compétente
  est affiché
* Bug - Correction du widget des dossiers limites à 15 jours, les dossiers
  d'instruction dont l'état est 'incomplet' sont maintenant affichés.
* Bug - Modification du CSS afin de ne pas mettre en gras les champs utilisant
  l'éditeur qui permet de faire la mise en page de son contenu.
* Amélioration - Remplacement des appels distants aux services REST et SOAP par
  des classes génériques
* Bug - Correction d'un bug d'affichage lors de l'ajout de consultations multiples.
  La phrase "Version papier" dans le cadre à droite passait à la ligne.
* Bug - Correction d'une mauvaise traduction (service a consulter) lors de l'ajout
  de consultations multiples.
* Amélioration - Le PDF généré automatiquement lors de consultations multiples
  s'ouvre dorénavant dans un nouvel onglet.
* Bug - Un dossier d'autorisation avec une DOC valide périmait. C'est corrigé.
* Bug - Modification de la liste des options de recherche sur l'état pour les
  dossiers en cours pour le guichet unique. Seule la liste des états possibles
  pour ces dossiers est affichée.
* Bug - Modification du nommage des variables "return" utilisées dans les scripts.
* Bug - Suppression des fichiers temporaires créés lors de l'importation des
  documents numérisés
* Ajout de tests fonctionnels automatisés, afin d'éviter des régressions
  fonctionnelles lors des évolutions et correctifs ultérieurs.
* Mise à jour de la documentation.

3.14.0-a11 - 04/06/2014
-----------------------
* Bug - Ajout d'un champ en base de données afin de mieux gérer l'état 'incomplet
  notifié' d'un dossier d'instruction
* Bug - Amélioration de l'affichage des contraintes dans les éditions pdf.
* Bug - Dans la visualisation du dossier d'instruction et du dossier d'autorisation
  ajout, pour les dossiers CU, du champ du CERFA "description de la demande/du projet",
  concaténé au champ déjà présent "Courte description de votre projet ou de vos travaux".
* Bug - La modification d'une demande depuis le menu "Récépissé" ne met plus le
  champ "type de demande" à vide sur certain dossier.
* Bug - Le récépissé est désormais rattaché à la demande et est visible depuis
  le menu "Récépissé".
* Bug - Dans le widget des décisions tacites à 15j : affichage des CUb et
  correction de la date limite affichée.
* Bug - Correction de l'affichage du message "La date n'est pas une date" dans la
  visualisation du dossier d'instruction
* Bug - Correction de la gestion de la restriction et de son message d'erreur
* Bug - Les profils "chef de service" et "divisionnaire" ont maintenant accès à
  la fonction géolocalisation dans la visualisation des dossiers d'instruction et
  peuvent utiliser le lien vers le SIG en cliquant sur le centroide des dossiers
  déjà géolocalisés.
* Bug - Suppression de la civilité associée à la personne morale dans l'édition
  de lettres RAR.
  Retour à la ligne pour le lieu dit qui était au même niveau que le complément
  d'adresse.
* Bug - Correction de l'ordre d'affichage des événements d'instruction et des
  consultations.
* Bug - Augmentation de la taille des champs de recherche de type date. Le
  dernier caractère était masqué.
* Bug - Dans la visualisation du dossier d'instruction, affichage du délai
  d'incomplétude par le délai lorsque le dossier est incomplet.
  Ajout d'un saut de ligne après les informations générales.
* Bug - Affichage du libellé de l'état du dossier d'instruction au lieu son
  identifiant.
* Bug - Correction d'accents et pluriels (surface, nombre de logement).
* Bug - Correction d'une erreur lors de la mise à jour des dates si l'événement
  n'a pas de lettre-type associée.
* Bug - Correction de l'ajout d'événement suivant retour RAR dans le cas d'un
  dossier incomplet.
* Ajout de tests fonctionnels automatisés, afin d'éviter des régressions
  fonctionnelles lors des évolutions et correctifs ultérieurs.
* Mise à jour de la documentation.

3.14.0-a10 - 21/05/2014
-----------------------
* Bug - Correction de l'enregistrement de l'autorité compétente lors de la
  modification d'un dossier d'instruction.
* Amélioration - Ajout des champs de fusion concernant le pétitionnaire principal
  initial (dans le cas d'un transfert) pour la requête "instruction".
* Bug - Correction des types de fichiers qui apparaissent dans la liste des pièces
  du dossier d'autorisation.
* Amélioration/bug - Modification et correction de l'affichage des données dans
  la visualisation du dossier d'instruction, du dossier d'autorisation et de la
  demande d'avis.
* Ajout de tests fonctionnels automatisés, afin d'éviter des régressions
  fonctionnelles lors des évolutions et correctifs ultérieurs.
* Mise à jour de la documentation.

3.14.0-a9 - 14/05/2014
----------------------
* Amélioration - Dans la visualisation du dossier d'instruction, pour l'affichage
  des données d'incomplétude la mauvaise donnée était testée. C'est corrigé.
* Amélioration - Tri des événements d'instruction par date d'événement puis par
  numéro d'événement d'instruction.
* Bug - Seul les documents arrêtés créés par l'application ont les métadonnées
  arretés.
* Bug - Lors de la synchronisation des constraintes, si le webservice était
  indisponible, l'erreur n'était pas correctement ajoutée au log.
* Bug - Correction des noms de fichiers stoqués via l'application, ils sont
  maintenant uniques.
* Amélioration - Ajout d'informations dans le log des erreurs lors de la finalisation
  d'un document.
* Bug - Dans l'édition du rapport d'instruction, la liste des consultations était
  alignée sur une seule ligne ; des retours à la ligne ont été ajoutés.
* Bug - Correction du bordereau d'envoi de courriers signature maire. Il ne
  sélectionne plus les évenements d'instruction qui ont un événement de type
  'arrete'.
* Amélioration - Modification de la gestion des types de demande. Les types de
  demande sont maintenant sélectionnables en fonction de l'état du dernier dossier
  d'instruction déposé sur un dossier d'autorisation.
* Amélioration - Affichage du libellé de l'état dans le tableau des événements
  d'instruction de l'onglet instruction de la visualisation des dossiers
  d'instruction.
* Bug - Dans la liste des dossiers en cours du menu du guichet unique, certains
  dosssiers d'instruction apparaissaient plusieurs fois. C'est corrigé.
* Bug - Dans la visualisation du dossier d'autorisation, la date limite affichée
  pour le dossier d'instruction en cours d'instruction était incorrecte. C'est
  corrigé.
* Bug - Ajout du champ de fusion [terrain_superficie_dossier] pour la requête
  "instruction".
* Ajout de tests fonctionnels automatisés, afin d'éviter des régressions
  fonctionnelles lors des évolutions et correctifs ultérieurs.
* Mise à jour de la documentation.

3.14.0-a8 - 29/04/2014
----------------------
* Amélioration - Ajout de l'affichage de l'état du dossier d'instruction lors de
  l'ajout d'une nouvelle demande sur un dossier existant.
* Bug - Correction du typage des événements des arrêtés et des majorations.
  Les événements typés étaient ceux "retour". Or, ce sont ceux qui déclenchent
  l'envoi de l'AR qui devaient l'être.
* Amélioration - Amélioration de l'affichage du formulaire des demandes d'avis et
  demandes d'avis passées.
* Bug - Suppression des droits d'ajout de pièce pour les profils autres
  qu'administrateurs.
* Bug - Ajout d'un paramètre 'insee' utilisé lors de l'ajout d'une demande pour
  mettre à jour le code insee d'un dossier d'autorisation.
* Bug - Modification du tableau du sous-état des instructions pour afficher les
  champs date de retour signature, date d'envoi signature, date d'envoi RAR et
  date de retour RAR. Filtre les événements retour.
* Bug - Suppression de la dernière ligne faisant état du nombre de ligne du
  tableau sur tous les sous-état.
* Amélioration - Augmentation de la taille de police du texte pour éviter de
  zoomer.
* Amélioration - Tous les libellés de champs commencent par une majuscule.
* Amélioration - Pour une meilleure visibilité, les valeurs sont en gras.
* Amélioration - Modification de l'affichage des dossiers d'instruction et de
  l'ordre des onglets.
  Masquage des dates d'incomplétude ou de limite d'instruction suivant l'état du
  dossier.
* Amélioration - Dans les dossiers d'autorisation, ajout du libellé du type
  détaillé de dossier d'autorisation sous le numéro de dossier d'autorisation.
  Modification du libellé 'surface' en 'surface créée'.
  Affichage de la date limite d'instruction si le statut n'est pas incomplet.
  Dans la description du projet, retour à la ligne entre les différents champs.
* Amélioration - Dans les demandes d'avis ajout d'une colonne 'avis rendu' à
  droite du tableau des demandes passées.
  Dans le formulaire ajout des contraintes, affichage identique à celui du dossier
  d'instruction mais, filtrage sur les contraintes présentées aux services
  consultés.
* Amélioration - Pour une meilleure visibilité modification de l'affichage des
  données techniques avec par exemple retour à la ligne.
* Amélioration - Les champs texte du rapport d'instruction sont maintenant avec
  l'éditeur amélioré.
* Bug - Correction de la mauvaise gestion des dates de validité des cerfa
* Bug - Ajout de contraintes d'unicité sur les dossiers d'instruction, dossiers
  d'autorisation et lots dans la table des données techniques.
* Bug - Amélioration du script permettant de mettre à jour les tacites.
* Bug - Correction de l'erreur de base données lors d'un tri sur la date de
  premier dépôt de la liste des dossiers d'autorisation n'ayant pas d'avis de
  consultation.
* Bug - Lorsqu'une règle portait sur une date et qu'au moment de la validation
  de l'événement d'instruction la date n'était pas rempli, une erreur de base de
  données se produisait. C'est corrigé.
* Bug - Dans les consultations, les profils instructeur, cellule suivi, service
  consulté et service consulté interne peuvent maintenant visualiser et
  télécharger le PDF associé à l'avis d'un service.
* Bug - Correction de l'erreur de base de données sur le tableau des dossiers
  d'autorisation lors d'une recherche avancée sur l'état.
* Bug - Correction du message d'erreur lors d'une saisie de date de courrier
  sur un événement non finalisé.
* Ajout de tests fonctionnels automatisés, afin d'éviter des régressions
  fonctionnelles lors des évolutions et correctifs ultérieurs.
* Mise à jour de la documentation.

3.14.0-a7 - 23/04/2014
----------------------
* Bug - Le profil qualificateur peut dorénavant ajouter des contraintes.
* Bug - Repositionnement du texte dans l'édition de courrier RAR pour qu'il soit
  ajusté avec le volet rose du recommandé.
* Bug - Correction du nombre total de dossiers à qualifier qui ne concordait pas
  avec celui indiqué dans le tableau de bord.
* Bug - Correction de la mise à jour du numéro d'arrêté : elle se faisait sur la
  dernière instruction sans condition. Elle se fait maintenant sur la dernière
  instruction dont l'événement associé est de type 'arrete'.
* Bug - Le correspondant apparaissait dans l'historique des décisions du dossier
  d'autorisation : cela est corrigé.
* Bug - Formatage en date française du champ de fusion [date_decision_da].
* Bug - Correction de l'édition du registre des dépôts : suppression des doublons,
  des lignes où le nom du pétitionnaire était vide, changement
  de l'ordre d'affichage des dossiers, tri par arrondissement puis par
  type de DA et suppression des dossiers voués à la gestion interne
  (PRO, ANNULL, etc.).
* Bug - Correction du widget "Dossiers événement incomplet ou majoration sans RAR".
  Il n'affiche que des dossiers d'instruction qui ont un événement d'instruction
  qui n'est pas un événement retour, dont l'envoi du RAR date de moins d'un mois
  et pour lequel il n'y a pas de date de retour de l'AR.
* Amélioration - Le profil suivi a maintenant accès au menu "Export/Import" et
  aux sous-menus "Export Sitadel", "Versement aux archives" et
  "Statistiques à la demande".
  Les profils guichet et qualificateur ont maintenant accès au menu "Export/Import"
  et au sous-menu "Statistiques à la demande".
* Bug - Correction du code sitadel de l'autorité compétente 'Commune pour ETAT' :
  remplacement par 2 au lieu de 1.
* Bug - Les administrateurs technique et fonctionnel peuvent maintenant modifier
  les dates d'envoi en plus des dates de retour d'un événement d'instruction.
* Bug - Correction de l'édition d'un compte-rendu de commission : le titre était
  incorrect et l'heure ne s'affichait pas. De plus, il y avait des doublons de
  dossiers dans le cas où il y avait plusieurs demandeurs.
* Ajout de tests fonctionnels automatisés, afin d'éviter des régressions
  fonctionnelles lors des évolutions et correctifs ultérieurs.
* Mise à jour de la documentation.

3.14.0-a6 - 15/04/2014
----------------------
* Bug - Correction du recalcul de l'état du dossier d'autorisation lors d'une
  demande d'annulation de l'autorisation
* Amélioration - Dans la visualisation du dossier d'instruction, tri des événements
  d'instruction par la date d'événement et des consultations de service par la
  date d'envoi.
* Bug - Dans le tableau et dans la visualisation des dossiers d'autorisation,
  l'état "périmé" du dossier d'autorisation n'était pas correcement affiché.
  C'est corrigé.
* Bug - Correction de la bible automatique qui remplissait toujours le complement 1.
* Bug - Tous les bordereaux n'affichent plus les événements d'instruction
  retour et "Bordereau d'envoi des avis du Maire au Préfet" filtre aussi sur
  l'autorité compétente "État".
* Bug - Lors de la mise à jour d'une date retour par la cellule suivi, l'événement
  retour ne s'ajoute plus si la restriction n'est pas respectée.
* Bug - Correction de l'affichage des contraintes qui ne correspondait pas au
  paramétrage de l'état ou lettre-type.
* Ajout de tests fonctionnels automatisés, afin d'éviter des régressions
  fonctionnelles lors des évolutions et correctifs ultérieurs.
* Mise à jour de la documentation.

3.14.0-a5 - 03/04/2014
--------------------------
* Bug - Enregistrement des dates de courrier même si la restriction sur
  l'événement retour n'est pas valide.
* Bug - Dans les données techniques lorsqu'on essayait de supprimer un architecte
  en cliquant sur la croix rouge, il ne se supprimait pas et ensuite lorsqu'on
  tentait de valider le formulaire, une erreur s'affichait. C'est corrigé.
* Amélioration - Ajout du paramètre 'adresse_direction_urbanisme_RAR' à utiliser
  dans les lettres RAR.
* Bug - Lors de l'import des documents numérisés, les documents numérisés
  contenu dans un dossier dont le dossier d'instruction avec une
  numérotation sur quatre chiffres n'étaient pas importés. On peut avoir des
  dossiers se nommant 'PC013055110932.P0'. C'est corrigé.
* Amélioration - Lors de l'import des documents numérisés, si le type du document
  numérisé était 'Arrêté' des vérifications était effectuées. Par exemple, il
  était vérifié que sur le dossier d'instruction en question il existait une
  instruction dont l'événement était de type 'arrete'. Ces vérifications ont été
  retirées.
* Amélioration - Modification de l'affichage du formulaire de géolocalisation
  pour plus de lisibilité.
* Bug - Correction de l'affichage du widget 'Dossiers événement incomplet ou
  majoration sans RAR'.
* Bug - Gestion des commissions : suppression des doublons dans la liste des
  dossiers à planifier.
* Bug - Correction du mauvais recalcul de l'état du DA
* Amélioration - Suppression de retour à la ligne dans les éditeurs des champs
  compléments si aucun texte n'est ajouté.
* Bug - Correction d'une erreur lors de la validation du formulaire des événements
  d'instruction qui redirigeait l'utilisateur sur le formulaire du dossier
  d'instruction.
* Bug - Lorsque l'on voulait revisualiser le récépissé d'un dossier nouvellement
  créé, il manquait les coordonnées du demandeur. Il fallait définaliser puis
  refinaliser le document pour corriger le problème. Ce dernier a été corrigé.
* Bug - Correction d'une erreur lors de l'ajout d'une demande avec BP ou CEDEX
  comportant plus de cinq caractères.
* Ajout de tests fonctionnels automatisés, afin d'éviter des régressions
  fonctionnelles lors des évolutions et correctifs ultérieurs.
* Mise à jour de la documentation.

3.14.0-a4 - 26/03/2014
----------------------
* Amélioration - Les paramètres de la variable de remplacement des éditions
  &contraintes ne prend plus en compte la casse.
* Bug - Tri des contraintes sur le groupe de façon décroissante : sur le
  tableau dans l'onglet 'Contrainte(s)', sur le tableau de la fiche du dossier
  d'instruction et sur le formulaire d'ajout de contraintes.
* Bug - La variable de remplacement des éditions &contraintes peut être utilisée
  plusieurs fois et avec des paramètres différents dans une édition.
* Amélioration - Changement du format de la case numéro de l'adresse des travaux afin
  de permettre par exemple l'enregistrement de numéros de type bis et des
  numéros multiples.
* Amélioration - Pour plus de clarté, modification du message affiché à la cellule suivi
  lors d'un échec de la mise à jour d'une date de retour.
* Bug - Correction de l'affichage et des accès sur les contraintes par les
  instructeurs.
* Bug - Lorsqu'on ajoutait un événement d'instruction, les bibles s'affichaient
  en pied de page. C'est corrigé.
* Bug - Le paramètre 'option_contrainte_di' n'apparaît plus plusieurs fois, il
  faut toutefois le re-paramétrer.
* Bug - Lors d'une recherche de dossiers d'instruction dont le type d'autorisation
  détaillé est 'permis de construire individuel' on obtenait les bons résultats
  plus d'autres non attendus, cela est maintenant corrigé.
* Bug - Le nom de l'action associé à un événement n'est plus affiché lors de
  l'ajout d'un événement d'instruction.
* Bug - Correction du tri des instructions par date d’événement.
* Bug - Dans le dossier d'instruction : contraintes liées au dossier réduites par
  défaut et élargissement des champs texte complété.
* Bug - Correction des contraintes doublons récupérées depuis le SIG.
* Amélioration - Pour plus de clarté, renommage de "délégataire" par
  "autre correspondant".
* Bug - La variable de remplacement &contraintes est désormais utilisable dans
  tous les états et lettres-type.
* Amélioration - Ajout de champs de fusion pour les éditions :
  - [delai_service] pour les consultations,
  - [date_decision_dossier_autorisation], [libelle_direction], [etat_evenement],
    [delai_evenement], [accord_tacite_evenement], [libelle_quartier]
    [delai_notification_evenement], [avis_decision_evenement],
    [autorite_competente_evenement],  [description_direction] et toutes les
    informations sur les 5 autres pétitionnaires pour les instructions.
  - [libelle_direction], [description_direction] et toutes les informations sur
    les 5 autres pétitionnaires pour les rapports d'instruction.
  - [libelle_direction], [description_direction] et toutes les informations sur
    les 5 autres pétitionnaires pour les dossiers.
* Bug - S'il y avait un problème de configuration du serveur qui gère l'envoi
  des messages vers le référentiel ERP et qu'on tentait de passer un dossier
  d'instruction en ERP, une page blanche s'affichait. Maintenant, l'utilisateur
  est prévenu qu'il s'est produit un problème.
* Bug - Correction des messages d'erreurs qui s'affichaient lorsque les
  événements étaient en onglet d'un autre objet, comme action.
* Bug - Classement des événements par ordre croissant de date courrier
  dans le tableau du sous-état instruction.
* Bug - Correction de l'erreur "2014-03-26 n'est pas une date" lors de la
  modification d'une instruction.
* Bug - Suppression des dossiers doublons dans les tableaux des dossiers
  d'autorisation.
* Ajout de tests fonctionnels automatisés, afin d'éviter des régressions
  fonctionnelles lors des évolutions et correctifs ultérieurs.
* Mise à jour de la documentation.

3.14.0-a3 - 17/03/2014
----------------------
* Bug - Lorsqu'on mettait à jour une date de retour AR, l'événement suivant AR
  ne se créait pas. Ce fonctionnement était normal. Les données ne répondaient
  pas à une des restrictions paramétrée dans l'événement suivant AR. Un message
  d'erreur s'affiche maintenant pour en avertir l'utilisateur.
* Bug - Correction de l'affichage des sous-états dans les éditions lors d'un saut
  de page.
* Bug - Correction du script d'import des documents numérisés.
* Bug - Suppression des caractères de contrôle ASCII des états et lettres-type.
* Bug - Suppression de l'affichage du lien d'édition et de finalisation si
  l'instruction ne contient pas de lettre-type.
* Bug - Correction de la récupération des contraintes depuis un dossier
  d'instruction.
* Bug - Dans le CERFA déplacement du champ "description de la demande / du projet"
  en dehors du paragraphe "Terrain issu d'une division de propriété " de l"onglet
  "Terrain".
* Bug - Modification de la taille de certains champs et ajout d'un champ fax
  dans la table demandeur.
* Bug - Lorsqu'un dossier d'instruction était accordé les données techniques
  n'étaient pas mises à jour dans le dossier d'autorisation.
* Bug - Masquage de champs dans tous les formulaires des commissions et dans le
  formulaire d'ajout d'instructions.
  Suppression de colonnes dans le tableau listant les commissions.
  Lors de l'ajout d'une instruction sur un dossier d'instruction le champ
  'date de retour RAR' est non modifiable.
  Le champ 'lu' d'une demande de passage en commission d'un dossier
  d'instructon est non modifiable.
* Amélioration - Tous les bordereaux se font désormais sur une période,
  seulement les dossiers du groupe 'ADS' sont affichés, le bordereau d'envoi au
  contrôle de légalité filtre désormais sur l'autorité compétente 'Commune', le
  bordereau d'envoi de courriers signature Maire ne filtre plus sur les
  événements de type 'arrêté', le bordereau d’envoi des avis du Maire au Préfet
  filtre désormais sur la date d'envoi RAR et sur l'autorité compétente 'Commune
  pour État'.
* Ajout de tests fonctionnels automatisés, afin d'éviter des régressions
  fonctionnelles lors des évolutions et correctifs ultérieurs.
* Mise à jour de la documentation.

3.14.0-a2 - 10/03/2014
----------------------
* Bug - Lorsqu'on voulait planifier un dossier dans le menu Suivi/Comission/Gestion
  il manquait des dossiers pourtant visibles dans le menu Demandes.
* Bug - Suppression des erreurs de copier/coller dans les éditions. Corrige aussi
  l'affichage des codes barres.
* Bug - Lorsqu'on tentait de finaliser un document, si une erreur se produisait,
  le document était tout de même finalisé.
* Amélioration - La fonction permettant d'appliquer les règles d'action sur une
  instruction ne prend plus en compte des champs qui n'existent plus et peut
  avoir plus de trois opérandes.
* Bug - Correction du script de récupération des contraintes PLU.
* Bug - Correction de fautes de frappe.
* Bug - Le registre des dossiers en cours affiche, désormais, seulement les
  dossiers d'instruction du groupe ADS.
* Bug - Modification des colonnes affichées du tableau des surfaces dans
  les éditions
* Bug - Les fichiers CSV sont maintenant reconnus lors du versement aux
  archives.
* Bug - Dans le PDF de la lettre RAR, les données ne s'affichaient pas
  correctement.
* Bug - Tri croissant de la bible sur le libellé.
* Correction - Les dossiers d'instruction ne s'incrémentaient pas correctement.
  On avait : P0, M01, T01, PRO3, on aurait dû avoir : P0, M01, T01, PRO01.
* Modification - Sur le tableau de bord du profil "GUICHET UNIQUE", le widget
  "Dossiers en cours" à été remplacé par le widget "Autres dossiers".
* Optimisation - Calcul des dates optimisé.
* Ajout de tests fonctionnels automatisés, afin d'éviter des régressions
  fonctionnelles lors des évolutions et correctifs ultérieurs.
* Mise à jour de la documentation.

3.14.0-a1 - 21/02/2014
----------------------
* Bug - Sur le tableau récapitulatif du dossier d'autorisation, la date de
  décision ne s'affichait pas tous le temps.
* Amélioration - Le qualificateur a désormais un menu 'Qualification' pour
  accéder à son tableau de bord et aux dossiers d'instruction à qualifier.
* Bug - Le qualificateur peut désormais ajouter, finaliser et dé-finaliser des
  instructions et ajouter des consultations.
* Bug - Lorsqu'on essayait de télécharger le document des ARs suite à sa création,
  un message d'erreur était affiché. C'est corrigé.
* Bug - Correction de la date d'événement de l'événement retour. Elle prend
  maintenant la valeur de la date de retour et non la valeur de la date du jour.
* Bug - Correction du script d'import des documents numérisés. Il n'exportait
  qu'un seul dossier d'instruction peu importe le nombre de dossiers contenu
  dans le dossier "Todo" et une erreur était levée si le dossier d'instruction
  associé à un dossier n'existait pas, ce qui faisait buguer le script d'import.
* Evol - Gestion des contraintes POS et PLU.
* Optimisation - Suppression des sélecteurs de pages sur les dossiers
  d'autorisation et d'instruction.
* Bug - Correction de l'affichage des dossiers d'instruction ; des dossiers
  pouvaient ne pas apparaître.
* Optimisation - Optimisation des requêtes permettant l'affichage des
  listes de dossiers d'instruction.
* Ajout de tests fonctionnels automatisés, afin d'éviter des régressions
  fonctionnelles lors des évolutions et correctifs ultérieurs.
* Mise à jour de la documentation.

3.13.0-a4 - 28/01/2014
----------------------
* Bug - Simplification de l'url envoyée lors des requêtes REST.

3.13.0-a3 - 23/01/2014
----------------------
* Bug - Correction du bouton de retour du dossier d'instruction lorsque
  l'utilisateur à déjà fait un retour du dossier d'autorisation vers
  le dossier d'instruction.
* Bug - Ajout du champ de fusion [archive_delai_instruction] pour la
  requête "instruction".
* Bug - Changement des catégories du bloc-note sur un dossier d'instruction.
* Bug - Correction de l'affichage des caractères spéciaux en majuscule dans le
  fil d'Ariane.
* Bug - Lors de la mise à jour des dates de suivi, si une erreur se produit elle
  sera affichée à l'utilisateur.
* Bug - Suppression de l'affichage de la date de la demande sur la fiche d'un
  dossier d'instruction.
* Bug - Correction de la fonction "Copier" utilisable pour les événements.
* Bug - Correction lors de la création d'une nouvelle demande, la date de
  l'événement créé prend la valeur de la date de la demande.
* Bug - Modification des surfaces affichées sur la fiche d'un dossier
  d'autorisation, elles sont désormais récupérées depuis la colonne B du tableau
  des destinations des données techniques.
* Ajout de tests fonctionnels automatisés, afin d'éviter des régressions
  fonctionnelles lors des évolutions et correctifs ultérieurs.

3.13.0-a2 - 13/01/2014
----------------------
* Amélioration - Agrandissement du champ "abrege" de la table "service". On peut
  maintenant saisir jusqu'à dix caractères dans le champ.
* Amélioration - Suppression des champs de marges des sous-états dans om_etat et
  om_lettretype. Création de modèle de lettretype et état.
* Bug - Modification de l'encodage des titres et contenus des états et lettrestype,
  /!\ Pour le bon fonctionnement de l'application la libxml 2.9.x et php 5.5.x
  sont nécessaires.

3.13.0-a1 - 31/12/2013
----------------------
* Amélioration - Modification de la génération des éditions pdf :
  - intégration d'un WYSIWYG (tinyMCE) sur les champs titre et corps des
    formulaires de paramétrage des états et lettres types (génération de code html),
    3 types d'instances de tinyMCE : une pour le champ titre, une pour le champ corps
    (elle permet d'ajouter des sous états), et une générique pour tout autres champs.
  - changement de librairie : FPDF -> TCPDF (interpretation du code html lors de
    la génération des édition)
  - gestion de la rétrocompatibilité avec les éditions existantes
  - intégration de la version simplifiée de tinyMCE sur les champs compléments
    (champs de fusion des éditions pdf) du formulaire d'instruction
* Bug - La prorogation est une extension de la durée de validité de
  l'autorisation. Elle est demandée par le pétitionnaire avant que le DA n'expire.
  Elle permet de repousser d'un an la date de validité de l'autorisation.
  Afin de pouvoir la gérer, lors de la création d'un nouveau dossier d'instruction
  non initial, on recopie les données du dossier d'autorisation dans les champs
  "archive" du nouveau dossier d'instruction.
* Bug - Correction sur les données techniques : affichage des champs 'Ouvrage
  d'infrastructure' et 'Ouvrage et accessoires de lignes de distribution
  électrique' ; affichage du tableau '' ; affichage des titres 'Locaux à usage
  d'habitation principale et leurs annexes', 'Locaux à usage d'hébergement
  principale et leurs annexes', 'Répartition du nombre de logements commencés
  par type de financement', 'Extension de l'habitation principale ou création
  d'un bâtiment annexe à cette habitation' et 'Autres éléments soumis à la taxe
  d'aménagement' ; modification du libellé de 'Démolition partielle' en
  'Démolition partielle le' ; amélioration de l'affichage des tableaux.
* Evol - Lors du paramétrage d'un service, il est maintenant possible de choisir
  l'édition qui lui sera associée lors d'une demande de consultation.
  Pour qu'une édition apparaisse dans la liste des éditions sélectionnables dans
  le service il faut qu'elle soit préfixée par 'consultation_'.
* Bug - Correction des champs de fusion surfaces par destination pour les
  éditions du dossier d'instruction.
* Evol - Ajout des champs 'Description de la demande / du projet', 'Modification
  ou suppression d'un élément protégé par une délibération du conseil
  municipal', 'Construction nouvelle de moins de 12m de hauteur et dont
  la surface hors œuvre brute ne dépasse 2m²' et 'Surface taxable totale créée
  de la ou des construction(s) (en m²)' dans les tables cerfa et
  données techniques. Ajout du champ 'conseil régional de' pour les architecte.
* Bug - Correction d'une erreur lorsque l'on essayait de rajouter un dossier
  d'instruction à une commission sans en saisir le numéro.
* Bug - Lors de l'ajout d'une instruction sur un dossier d'instruction, la liste
  des événements d'instruction était classée par action de l'événement croissant.
  Elle l'est maintenant par ordre croissant de libellé de l'événement d'instruction.
* Evol - Ajout de la possibilité d'identifier un événement comme non
  verrouillable pour qu'il reste modifiable lorsqu'il est utilisé comme
  événement d'instruction, même lorsque le dossier d'autorisation est clôturé
* Evol - Ajout de la possibilité pour l'administrateur de pouvoir supprimer un
  événement d'instruction qui est lié à une demande qui n'avait pas créée un
  nouveau dossier d'instruction.
* Evol - Ajout du profil 'ADMINISTRATEUR FONCTIONNEL' qui a accès aux actions du
  guichet unique, de l'instruction et du suivi.
* Evol - Ajout d'une nouvelle entrée de menu pour la cellule suivi
  (Suivi->Demandes d'avis->Mises à jour des dates). Elle lui permet de pouvoir
  mettre à jour la date de réception de la demande d'avis.
  L'administrateur et l'instructeur ont maintenant la possibilité de définaliser
  et finaliser une consultation. Cependant l'instructeur ne peut que supprimer
  une consultation définaliser tandis que l'administrateur peut aussi la
  modifier.
* Evol - Supprimer l'accès aux widgets "Nouveau dossier" et
  "Dossier en cours" du tableau de bord et au menu "Guichet Unique" pour
  l'instructeur.
* Bug - Ajout d'une option lors de l'instance de la classe SOAP pour qu'elle
  fonctionne avec une version de PHP 5.3.0 ou ultérieure.
* Evol - Les événements "retour" peuvent avoir un événement suivant tacite.
* Ajout de tests fonctionnels automatisés, afin d'éviter des régressions
  fonctionnelles lors des évolutions et correctifs ultérieurs
* Mise à jour de la documentation.

3.12.0-a1 - 05/12/2013
----------------------

* Evol - Ajout des requêtes pour le module pilotage
* Evol - Ajout des commentaires sur les tables et champs
* Bug - Les événements d'instruction créent grâce à un événement "retour"
  récupèrent les champs date envoi/retour de signature, date envoi/retour
  d’AR et date envoi/retour de contrôle de légalité depuis l'événement
  d'instruction "principal".
* Bug - Le type "arrêté" est désormais utiliser pour définir si l'arrêté doit
  être envoyé au référenciel.
* Bug - Ajout d'un code sitadel pour l'export de l'autorité compétente.
* Bug - Correction d'une erreur PHP lors du recalcul des données du DA si aucun
  DI n'est accepté.
* Bug - Correction du filtrage effectué sur le type de la demande lors de
  l'ajout d'une nouvelle demande.
* Bug - Lors d'une demande sur un dossier existant, la durée de validité est
  récupérée depuis le dossier initial (P0).
* Bug - Le modificateur /e est obsolète dans fonction preg_replace en php 5.5.0.
  Ce modificateur était utilisé dans une méthode de la classe MessengeSenderSoap.
  Un message d'erreur s'affichait à l'utilisation d'une méthode de cette classe.
  Utilisation de la fonction preg_replace_callback() à la place.
* Ajout de tests fonctionnels automatisés, afin d'éviter des régressions  fonctionnelles lors des évolutions et correctifs ultérieurs : XXX À COMPLÉTER XXX.
* Mise à jour de la documentation.

3.11.0-a1 - 13/11/2013
----------------------
* Bug - Dans un souci de cohérence du nom des options en paramètre, renommage
  des paramètres option_GED et option_ERP en option_ged et option_erp.
* Evol - La rédaction d'un courrier AR et la réception de l'AR sont deux
  événements distincts. C'est celui de réception de l'AR qui effectue le
  recalcule de dates. Il utilise les mêmes paramètres que l'événement
  ayant servi à rédiger le courrier.
  Lors du paramétrage de l'événement ayant servi à rédiger le courrier AR
  (événement principal), le délai, la décision tacite, l'avis, la restriction
  et le délai de notification sont maintenant récupérés par l'événement de
  réception de l'AR (événement lié).
* Evol - Ajout d'un nouveau web-service sortant vers ERP. Ce web service envoie
  des messages à l'ajout de pièces complémentaires ou supplémentaires sur un
  dossier AT vers le référentiel ERP.
  Ajout d'une ressource vers ADS. Cette ressource permet d'ajouter des
  événements de complétude ou de clôture sur des dossiers d'instruction AT.
* Bug - Dans le tableau des événements, lorsqu'on triait les données par
  paramètres, une erreur de base de données se produisait. C'est corrigé.
* Evol - Ajout de l'outil d'intégration par lot du versement aux archives.
* Bug - Affichage d'une erreur lorsqu'une règle d'action est mise à null alors
  que le champ correspondant dans la table dossier ne peut pas l'être.
* Bug - Ajout des textes "BP" et "CEDEX" automatiquement dans les éditions.
* Bug - Correction de fautes d'orthographe dans les requêtes 'consultation' et
  'instruction' servant aux éditions.
* Doc - Mise à jour de la documentation.

3.10.0-a1 - 22/10/2013
----------------------

* Bug - Dans la visualisation du dossier d'autorisation, correction de
  l'affichage des surfaces par destinations afin de les rendre plus lisibles.
* Bug - Il n'est plus possible d'envoyer des documents dans le circuit de
  signatures si celui-ci n'a pas été finalisé.
* Bug - Lors de l'utilisation de la bible, dans la liste proposée, ce sont
  désormais les libellés qui sont affichés et le texte complet reste visible en
  infobulle.
* Bug - Dans toute l'application, le numéro de dossier affiché avait "70" à la
  place de l'année réelle de dépôt. C'est maintenant corrigé.
* Evol - Ajout d'une entrée au menu Guichet unique permettant de lister les
  derniers dossiers d'instruction de chaque dossier d'autorisation en cours
  ou accepté.
* Bug - Le champ autorité compétente n'est plus modifiable car l'autorité
  compétente est définie par événement d'instruction.
* Doc - Mise à jour de la documentation

3.9.0-a3 - 11/10/2013
---------------------

* Bug - Correction de l'erreur de base de données lors de l'affichage des
  dossiers d'instruction qui ont une demande d'avis.
* Bug - Correction de la mise à jour des numéros de dossier lors du changement
  de l'année de la date de la demande.
* Bug - Augmentation de la taille des champs libelle des tables avis_decison
  et avis_consultation pour la reprise de données.
* Bug - Correction de la liste de sélection des services du formulaire
  consultation : suppression du code du service et trie par ordre alphabétique
  par rapport au libelle.
* Bug - Supression des tables inutilisées travaux, terrain,
  lien_evenement_dossier_autorisation_type, destination, parametre et
  categorie_demandeur.
* Bug - Correction du traitement de la restriction lors de l'ajout d'un
  événement d'instruction.
* Amel - Ajout des  valeurs possible à utilisées dans les règles d'action.
* Bug - La possibilité de mettre la valeur "null" dans les règles d'action ne
  fonctionnait pas, problème corrigé.
* Bug - Les liens pointant vers le SIG externe s'ouvrent tous dans le même
  onglet.
* Bug - Il est désormais possible de faire des recherches avancées sur les
  parcelles dans les dossiers d'autorisations.
* Bug - Dans le formulaire de la demande, les références cadastrales n'étaient
  pas correctement récupérées. L'affectation automatique des instructeurs s'en
  trouvées faussées.
* Bug - Correction à l'ajout d'une demande concernant la qualification du
  dossier, désormais c'est le paramétrage qui est récupéré.
* Bug - Correction de l'état du DA affiché dans l'onglet DA d'un DI.
* Bug - Il n'est plus possible de créer une demande initiale sans créer le DA
  et le DI associé.
* Bug - Modification de certaines requêtes des éditions afin que seul les
  destinations dont les surfaces ne sont pas nulles apparaissent.
* Bug - Lors de la finalisation d'un rapport d'instruction ou d'une instruction,
  le lien "Modifier" et "Supprimer" disparaissaient du portail d'actions de la
  visualisation du dossier d'instruction.
* Bug - Correction de l'erreur de base de données lors de la synchronisation des
  utilisateurs avec un LDAP.
* Bug - Amélioration des message d'erreurs lors de la création des repertoires
  lors de la création de la demande.
* Doc - Mise à jour de la documentation

3.9.0-a2 - 20/09/2013
---------------------

* Bug - Correction du widget "Dossiers à qualifier" qui n'affichait pas tous les
  dossiers à qualifier.
* Bug - Correction du libellé dans le formulaire des types de demande : états du
  dernier dossier d'instruction
* Bug - Le champ d'aide à la saisie ainsi que les champs de fusions des états et
  des lettres-type a été modifié afin de le rendre plus lisible.
* Bug - Correction du tri des listes déroulantes.
* Bug - Ajout d'un contrôle de saisie pour le champ restriction du formulaire
  d'événement. Correction du traitement de la restriction lors de l'ajout d'un
  événement d'instruction.
* Bug - Lors de l'ajout d'une nouvelle demande, l'affectation automatique de
  l'instructeur ne fonctionnait pas correctement.
* Bug - Amélioration de la gestion des erreurs pour la finalisation des documents
* Bug - Correction de l'erreur de base de données concernant l'export SITADEL.
* Bug - Correction de l'affichage de l'état du dossier d'autorisation sur le
  tableau et le formulaire.
* Bug - Ajout de l'option SIG dans les paramètres. Par défaut le paramètre est
  à 'aucun' et aucune action liée au SIG ne sera visible pour l'utilisateur. Le
  champ peut prendre la valeur 'sig_externe'.
* Evol - Ajout de traitement pour les références cadastrales : contrôle sur le
  type de saisie (chaîne de caractère ou numérique), mise en majuscule
  automatique de la section et ajout automatique de "0" devant le numéro de
  quartier et celui des parcelles.
* Bug - Lors du rechargement de la page d'ajout de demande, si les références
  cadastrales avaient été renseignées elles ne disparaissent plus.
* Bug - Possibilité de faire une recherche avancée sur l'identifiant d'une
  parcelle.
* Ajout de tests fonctionnels automatisés, afin d'éviter des régressions
  fonctionnelles lors des évolutions et correctifs ultérieurs.
* Mise à jour de la documentation.

3.9.0-a1 - 04/09/2013
---------------------

* Bug - Correction de l'erreur de numérotation des dossiers lors de la création
  du répertoire pour la numérisation.
* Evol - Support du SIG Elyx.
* Evol - Ajout d'un écran permettant à l'administrateur de composer via une
  interface Ajax le tableau de bord de chacun des profils.
* Evol - Dans le formulaire de saisie de nouvelle demande du guichet unique, il
  est possible de récupérer l'adresse du dossier d'instruction concerné par la
  demande à partir de la référence cadastrale.
* Bug - Correction de l'erreur de base de données sur la génération du
  rapport d'instruction.
* Bug - Ajout d'une permission manquante pour le divisionnaire pour la
  consultation de la liste des dossiers limites.


3.8.0-a2 - 12/08/2013
---------------------

* Bug - Dans l'onglet dossier d'instruction du dossier d'autorisation, il
  apparaissait autant de dossier d'instruction qu'il y avait de demande d'avis
  sur ce même dossier.
* Bug - Retraitement de certaines données afin qu'elles puissent être ajoutées
  dans une base de données déjà populées.


3.8.0-a1 - 09/08/2013
---------------------

* Bug - Lorsqu'on essayait d'ajouter un dossier de type AT une erreur de base de
  données se déclenchait. Le bug est corrigé.
* Evol - Ajout d'une aide pour la rédaction des lettres-types et des états.
  Cette aide indique toutes les variables qu'il est possible de remplacer (ex.
  &aujourdhui par la date du jour, dans le PDF).
* Evol - Remise en forme des champs de fusion pour les lettres-types et les
  états.
* Bug - Correction de l'affichage du libellé des événements dans la liste
  déroulante lors de l'ajout d'un événement d'instruction. Si l'événement
  n'avait pas d'action, il ne s'affichait pas.
* Evol - Simplification de l'affichage du dossier d'autorisation.
* Evol - Gestion de la péremption des dossiers d'autorisation.
* Bug - Correction de la notification par mail lors de l'ajout de consultation.
* Evol - Mise en forme du formulaire de paramétrage de cerfa et des données
  techniques.
* Evol - Modification des accès des profils : instructeur, cellule suivi,
  service consulté, guichet unique.
* Evol - Ajout des nouveaux profils : qualificateur, divisionnaire, chef de
  service, service consulté interne, visualisation DA et DI, et visualisation
  DA.
* Evol - Mise à jour de la manière dont sont numérotés les modificatifs et les
  transferts suite à l'évolution réglementaire de la numérotation pour le 1er
  juillet 2013.
* Evol - Ajout d'un champ dans la table dossier. Ce champ contiendra le numéro
  de versement aux archives du dossier d'instruction. Ce numéro est visible dans
  la visualisation du dossier d'instruction.
* Evol - Dans le formulaire des données techniques, on peut ajouter un
  architecte ou récupérer les données d'un architecte fréquent. La recherche
  d'un architecte fréquent se déroule comme la recherche d'un pétitionnaire
  fréquent dans le formulaire de la demande. Les architectes fréquents peuvent
  être visualiser par l'instruction dans le menu Instruction -> Qualification ->
  Architecte Fréquent. Les architectes fréquents peuvent être ajoutés, modifier
  et supprimer par l'administrateur technique dans le menu Instruction ->
  Qualification -> Architecte Fréquent.
* Evol - Modification de l'affichage des numéros de dossier d'autorisation et
  d'instruction. Exemple : PC0130551200002P0 -> PC 013055 12 00002P0.
* Bug - Amélioration de la remontées des informations du dernier dossier
  d'instruction accepté au dossier d'autorisation lié.
* Evol - Modification de la structure de la base : La table cerfa n'est plus
  liée aux dossier_instruction_type mais aux dossier_autorisation_type_detaille
* Bug - Lors d'une demande sur dossier existant, récupération des données
  techniques et des lots en cours de validité.
* Bug - La saisie des données techniques était impossible. Le bug est corrigé.
* Bug - Les éditions des événements d'instruction n'était pas visibles pour les
  instructeurs des autres divisions. Elles le sont maintenant.
* Evol - Ajout de la posibilité de changer l'autorité compétente via l'ajout
  d'une instruction.
* Evol - Ajout du format du numéro dossier à saisir pour le widget de la
  recherche accès direct dans tableur de bord de l'instructeur.
* Bug - Dans le widget "Dossiers limites à 15 jours", prise en compte de l'état
  du dossier d'instruction. Si le dossier d'instruction a une limite à quinze
  jours mais qu'avant cela une décision avait été rendue, le dossier n'apparait
  plus dans le widget.
* Evol - Lors de l'appel aux ressources REST, on devait obligatoirement passer
  en paramètre "data". Ce paramétre est maintenant facultatif.
* Bug - Dans les ressources REST d'import et de purge des documents numérisés,
  si on passait un mauvais chemin pour les dossiers, les ressources utilisaient
  le dossier renseigné dans le paramétrage. Maintenant, une erreur est
  retournée.
* Bug - Ajout de la possiblité pour l'administrateur de modifier et supprimer
  les pièces numérisées.
* Evol - Ajout d'un écran récapitulatif du workflows afin de faciliter le
  paramétrage de celui-ci.
* Bug - Correction de certaines requêtes mémorisées : dossier_etat,
  dossier_avis, dossier_nature, dossier, dossier_observatoire, dossier_validite,
  instruction_observatoire, dossier_nblogement.
* Evol - Amélioration du modèle de données, suppression de la table
  lien_dossier_lot.
* Ajout de tests fonctionnels automatisés, afin d'éviter des régressions
  fonctionnelles lors des évolutions et correctifs ultérieurs : consultation.
* Mise à jour de la documentation.


3.7.0-a1 - 11/07/2013
---------------------

* Évol - À la création d'une demande un répertoire de numérisation pour cette demande
  est créé et a pour but de contenir les documents numérisés.
* Bug - Les colonnes "lettretype" et "signataire" du tableau récapitulatif de l'onglet
  "Instruction" de la visualisation du dossier d'instruction ont été placées à
  droite.
* Bug - Les champs date envoi et retour "contrôle de légalité" ne sont visibles que
  pour les instructions de type "arrêté".
* Bug - Dans le bloc "pétitionnaire" de la visualiation du dossier d'instruction, on
  avait deux fois le nom du représentant de la personne morale. Le nom et le
  prénom du représentant de la personne morale sont maintenant correctement
  affichés.
* Évol - Dans l'onglet "DI" de la visualisation du dossier d'instruction, dans le bloc
  "instruction" on affiche que le libellé de l'avis et on affiche "décision
  tacite" à la place de "accord tacite".
* Bug - Le champ "complement" des tables dossier, dossier_autorisation et demande a
  été renommé "terrain_adresse_voie".
* Évol - Repositionnement des données dans les cellules du tableau du pdf du registre
  des affichages réglementaire afin qu'au moins douze dossiers soient affichés
  par page.
* La métadonnées "permanentArrete" pour les documents arrêtés n'est plus
  nécessaire.
* Ajout de tests fonctionnels automatisés, afin d'éviter des régressions
  fonctionnelles lors des évolutions et correctifs ultérieurs : gestion de
  l'incomplétude, services consultés et les types de demande.
* Mise à jour de la documentation.


3.6.0-a1 - 28/06/2013
---------------------

* Bug - Prise en compte de la date de fin de validité d'un cerfa rattaché à des
  données techniques. Si la date est dépassée, un message d'erreur "Aucun cerfa
  en cours de validite lie a ce dossier" s'affiche et le formulaire ne s'affiche
  pas.
* Bug - Lors de l'ajout d'une nouvelle demande sur un dossier en cours, une erreur de
  base de données était générée. La fonctionnalité est maintenant
  opérationnelle.
* Bug - À l'ajout d'une nouvelle demande, un lien ne pointant vers aucun demandeur
  était créé. Ce lien défectueux n'est plus créé.
* Évol - Ajout d'un script permettant la migration des fichiers d'un type de stockage
  vers un autre. (Ex. : migration vers le stockage GED)
* Bug - Dans les onglets pièces et lots, les instructeurs pouvaient modifier les
  données de dossiers n'appartenant pas à leur division. C'est désormais
  impossible.
* Bug - Modification du filtre de l'onglet "Pièces" pour ajouter un document même si
  le dossier est clôturé.
* Évol - Dans l'onglet "Pièce(s)", les documents arrêtés étaient enregistrés avec les
  métadonnées des documents normaux. Désormais, ils le sont avec les métadonnées
  spécifiques aux documents arrêtés.
* Évol - Lors du déclenchement du service REST, mise à jour du numéro d'arrêté dans la
  base de données et dans les métadonnées du fichier stocké.
* Bug - Revue du code des scripts REST, correction d'erreurs mineures.
* Bug - Lors de la suppresion d'une instruction de type "Demande de pièces
  complémentaires" une erreur de base de données était déclenchée. Désormais
  cela fonctionne.
* Évol - Ajout de champs de fusion dans les requêtes pour les éditions.
* Bug - Dans le paramètrage des types de demande, l'administrateur fonctionnel pouvait
  sélectionner un "type de dossier d'instruction à créer" qui n'avait rien à
  voir avec le champ "type de dossier d'autorisation détaillé". Désormais le
  champ "type de dossier d'instruction à créer" est filtré par rapport au champ
  "type de dossier d'autorisation détaillé" sélectionné.
* Évol - Modification des textes des boutons Ajouter/Modifier/Supprimer dans le
  formulaire des demandeurs.
* Bug - Dans la recherche avancée des dossiers d'instructions quand une référence
  cadastrale était saisis, le filtre ne fonctionnait pas. Ce point est corrigé.
* Bug - Il n'est plus possible de modifier ou supprimer une instruction, une
  consulattion ou un rapport d'instruction dont le document a été finalisé.
* Évol - Les dossiers d'instruction dont le statut est "cloturé" ne sont plus
  modifiables.
* Bug - Correction du widget anciennement "Dossiers événement incomplet ou
  majoration", maintenant "Dossiers événement incomplet ou majoration sans RAR"
  pour afficher que les dossiers dont la date d'envoi du RAR est renseignée et
  pour lesquels on n'a pas eu de retour d'AR.
* Tests - Ajout de tests fonctionnels automatisés, afin d'éviter des régressions
  fonctionnelles lors des évolutions et correctifs ultérieurs : gestion de
  l'incomplétude, services consultés et les types de demande.
* Doc - Mise à jour de la documentation.


3.5.0-a1 - 30/05/2013
---------------------

* Ajout de l'onglet Pièce(s) dans dossier d'instruction et demande d'avis
  afin de visualiser et d'ajouter des documents numérisés.
* Finalisation (stockage dans le filestorage) de certains documents :
  - lors de l'ajout de consultation, l'édition de la consultation est
    automatiquement finalisé ;
  - la saisie d'une demande ou la création du registre d'affichage
    réglementaire des dossiers d'instruction déclenche automatiquement la
    finalisation du document de l'édition de l'instruction générée par ces
    actions ;
  - au clique sur le lien "Finaliser le document" dans le portail d'action
    de la visualisation de l'instruction, l'édition de l'instruction se
    finalise. Il est possible d'en reprendre la rédaction ;
  - au clique sur le lien "Finaliser le document" dans le portail d'action
    de la visualisation du rapport d'instruction, l'édition du rapport
    d'instruction se finalise. Il est possible d'en reprendre la rédaction ;
  - lors de la diffusion de l'ordre du jour, l'édition de l'ordre du jour
    est automatiquement finalisé ;
  - lors de la diffusion du compte du jour, l'édition du compte-rendu est
    automatiquement finalisé.
* Correction de la gestion des permissions en fonction de la division sur les
  objets en onglet dans le contexte d'un dossier d'instruction.
* Gestion de l'action ajouter des listing des onglets dans le contexte du
  dossier d'instruction : l'action n'est pas disponible si l'instructeur
  n'appartient pas à la division correspondante à celle du dossier.
* Modification du widget "Profil Instructeur" sur le tableau de bord de
  l'instructeur pour afficher plus d'informations sur l'instructeur notamment
  sa division.
* Contrôle des fichiers uploadés dans les retours des demandes d'avis.
* Correction d'un bug qui affichait en double certains types de demande dans le
  formulaire de la demande.
* Ajout d'un champ texte (description de modification sur permis en cours)
  dans les table cerfa et données techniques pour les statistiques.
* Correction d'un bug empêchant la suppression d'un événement d'attestation
  d'affichage.
* Ajout de la fonctionnalité statistiques Sitadel.
* Agrandissement de la taille des champs dénomination et raison sociale à 40
  caractères pour les pétitionnaires et délégataires.


3.4.0-a1 - 06/05/2013
---------------------

* Correction d'un bug affectant la création d'une demande sur un dossier
  existant : la demande n'était pas rattachée au dossier d'instruction en
  question, ce qui empêchait l'édition du récépissé.
* Modification du tri dans le listing des demandes permettant d'imprimer les
  récépissés pour le positionner par ordre décroissant.
* Ajout du code de la demande et suppression de l'arrondissement dans le listing
  des demandes permettant d'imprimer les récépissés.
* Réorganisation des fichiers d'initialisation de la base de données.
* Ajout d'un bouton retour dans la visualisation des dossiers d'autorisation.
* Correction des erreurs de base de données non gérées.
* Ajout d'un champ permettant de catégoriser les types de dossier d'instruction
  en prévision du développement pour les statistiques.
* Ajout de champs pour les ecrfas et les données techniques concernant le doc
  et le daact.
* Optimisation du code.
* Ajout d'informations manquantes dans la visualisation des demandes d'avis.
* Ajout de code barres aux éditions : le code du code barres fait 12 chiffres
  (2+10), un identifiant de deux chiffres qui permet d'identifier à quel type de
  courrier est associé le code barres (11 pour l'instruction, 12 pour la
  consultation) et l'identifiant du courrier composé du numéro d'instruction ou
  de consultation complété avec des zéro par la gauche. Pour le positionner sur
  l'édition, il faut ajouter le code entouré du marqueur ||||| avant et après le
  code.
* Correction d'une erreur de base de données lors de l'ajout d'une instruction
  dans le contexte du dossier d'instruction lors de la validation du formulaire
  sans avoir séléctionné d'événement.


3.3.0-a7 - 22/04/2013
---------------------

* Correction d'un bug affectant le récépissé de demande : c'est l'identifiant
  de la demande et non celui de l'instruction qui était pris en compte, ce qui
  fait que le récépissé portait sur le mauvais dossier d'instruction.
* Ajout d'un numéro d'ordre de Dossier d'Instruction au sein du Dossier
  d'Autorisation, pour que le numéro d'ordre d'un DI ne soit plus dépendant de
  la règle de numérotation des DI.
* Incomplétude : Ajout de champs supplémentaires dans le Dossier d'Instruction
  afin de gérer le cas particulier de l'incomplétude : l'incomplétude suspend
  les délais mais ne doit pas empêcher l'instructeur de continuer les tâches
  lancées avant incomplétude. L'instruction doit donc pouvoir se poursuivre.
  L'incomplétude est maintenant suivie en parallèle de l'instruction normale.
  Les informations d'instruction (délai, événement suivant tacite, ) sont
  conservés lors de l'incomplétude. Ils redeviennent actifs après dépôt de
  pièces complémentaires. Ajout d'informations de suivi de l'incomplétude dans
  le Dossier d'Instruction, les événements d'instruction, les actions, le
  dossier d'autorisation.
* Ajout des champs concernant le terrain dans les formulaires de données
  techniques.
* Correction du droit permettant d'afficher la liste des Dossiers d'Instruction
  aux Instructeurs depuis le Dossier d'Autorisation.
* Ajout de dates dans le Dossier d'Autorisation, optimisation du mode de calcul.
* Correction d'un bug pouvant empêcher la modification de types de dossiers
  d'autorisations dans le paramétrage (vérification de l'existence de la
  séquence, création si elle n'existe pas, mise à jour si elle existe).
* Correction d'erreurs dans les éditions du registre et de l'attestation
  de l'affichage réglementaire en cas de paramétrage incorrect : maintenant un
  message signalant une erreur de paramétrage est affiché au lieu d'une erreur
  de bases de données.
* Ajout de tests fonctionnels automatisés, afin d'éviter des régressions
  fonctionnelles lors des évolutions et correctifs ultérieurs : le Guichet
  Unique, le Suivi, les Services consultés, les Retours de consultations, la
  Génération de bordereaux.
* Mise à jour de la documentation.
* Ajout d'un écran permettant de lister les pétitionnaires fréquents pour le
  guichet unique. Une action qui permet de lui enlever son caractère fréquent
  est disponible à l'administrateur.
* Amélioration de l'onglet Commissions du Dossier d'Instruction
* Homogénéisation des titres de page + Suppression des colonnes arrondissements
  et délai de notification + Ajout de l'instructeur et de la division dans
  l'écran de recherche des dossier d'instruction.
* Ajout de l'onglet bloc notes sur le dossier d'instruction.
* Amélioration de l'écran de visualisation des workflows.
* Amélioration de la méthode de calcul des informations du dossier
  d'autorisation.


3.3.0-a6

- Ajout des champs concernant l'architecte dans les formulaires de données techniques

3.3.0-a5

- Correction du choix de l'identifiant de l'état initial de dossiers d'autorisation lors de leurs créations
- Correction de l'ajout d'une instruction lors de la création d'une demande ne necessitant pas la création de dossier d'instruction

3.3.0-a4

- Ajout de l'id de l'état initial des DA dans la table om_parametre
- Correction du choix de l'identifiant de l'état initial de dossiers d'autorisation lors de leurs créations

3.3.0-a3

- Correction d'un bug lors de l'ajout de demande type

3.3.0-a2



3.1.0-b1

- Migration vers le core 4.3.0-b1 d'OpenMairie

3.0.0rc2

- modification du script v3.0.0b5.sql : 2 fois la modification adresse2 table service
- creation de dossier_travaux_mois.reqmo (16/09/2012)


3.0.0rc1 -------------- creation du tag 01/08/2012 -------------------------

* utilisation de nextval pour les om_tables ...(sans cles secondaires)
  suppression des parametres "exemple" arles (difficilement maintenable)
  mise en coherence des scripts de maj des versions v3.0.0-b1 a b5

* ajout d om_parametre dans dossier a la place de var.inc

* ajout de la fonctionnalite de copie evenement/bible FR 09/07/2012

* correction des sripts d initialisation data/*.sql
* nettoyage des scripts om_sig_point* + app/form_sig* specifique

* Deprecated: Call-time pass-by-reference has been deprecated... Correction du
  code renvoyant cette erreur (plus de détails dans le ticket #5810).
  [Florent MICHON][atReal]

* 03/07/2012 : amelioration ergonomie bible - choix manuel en cochant les éléments

* 25/06/2012 : correction parcelle format 0A et 0B dans dossier.class.php

* 22/05/2012 et 20/06/2012 mise au point wms (ab)
             bug DB_PREFIXE app/servitude_point.php
* ajout du milti polygon et multi ligne

* Correction : Remplacement de la constante CHARSET par DBCHARSET et HTTPCHARSET
  dans les fichiers spécifiques openfoncier pour respecter le comportement
  d'openmairie_exemple. [atReal][Florent MICHON]

* 10/05/2012 bug reinitialisation de variable dans app/sitadel.php

* 12/03/2012 bug sur base evenement irrecevabilite parametrage.sql

* 06/02/2011 bug fixe sitadel.class tronquer a 50 le demandeur_societe (err de syntaxe)

* 03/02/2012 bug taille/max de libelle dans bible

* 02/02/2012 bug om_utilisateur saisie email - telephone

* 25/01/2012 bug surface_terrain avec decimal dossier.class/methode onchange

* 21/12/2011 correction bug sql edition lettretype RETRAIT (NO 25)
    data/pgsql/parametrage_edition.sql




3.0.0-rc2 - 15/12/2011
----------------------
(correction dans le cadre de la mise en place opérationnelle sur arles)


*** mise en place operationnelle a arles
- utilisation du parametre $auto_pos de var.inc pour mettre pos en hiddenstatic dans dossier
- correction des états arles
- correction de app/script.js : acces complement2 en instruction
- mise a jour de sequence : seq = dernier numero
- ajout du champ description dans dossier
- correction base : nature = T (pb avec bible, travaux et evenement)
- correction des liens sur les cartes
- enlever regle du menu
- recherche bible.inc
- affichage du dossier (presentation /taille des champs)
- taille champ om_droit dans om_droit_class
- mise en oeuvre de la securite


*** correction post operationnelle
* mise en place d un schema postgresql
* parametre statistique : affichage onglet statistique non modifiable
* recherche de lotissement: pb de casse et rapatriement du numero de lot
* lettre type instruction : format de la datecourrier jj/mm/aaaa
* protection des numeriques destination_shon pour app/dossier_modificatif.php
* correction divers accents dans l affichage de message en iso
* correction affichage en hidden de zones inutiles pour creation de dossier manuel
* modification du script ver3.0.0-b3.sql [fr]
* init.sql : mise en actif du om_sousetat de base
* correction du parametrage.sql :
    rajout de sequence cree pour :
      categorie_demandeur
      destination,
    modification sequence de bible


correction openMairie tab_sig.php
download adresse librairie bing 6.2 au lieu de 6.3c
if($fond_bing=="Oui" )
  $f->addHTMLHeadJs(array('http://ecn.dev.virtualearth.net/mapcontrol/mapcontrol.ashx?v=6.2&amp;mkt=en-us')); // 6.3c au lieu de 6.2




3.0.0-b2 - 19/10/2011
---------------------

* Ajout d'un lien dans le menu vers la synchronisation des utilisateurs
  depuis un annuaire (désactivé par défaut). [ALGEBRICS][atReal][Florent MICHON]

* Ajout du profil 99 pour permettre de cacher des élements de l'interface si
  ils ne sont pas nécessaires. [atReal][Florent MICHON]

* Ajout d'une table om_version pour permettre l'utilisation de mise à jour
  automatique (externe). [atReal][Florent MICHON]

* Correction des erreurs d'insertion dans le fichier parametrage.sql.
  [atReal][Florent MICHON]


3.0.0-b1 - 18/10/2011
---------------------

*

correction saut de page lettretypeinstruction
correction sitadel
correction dossier (stats + shon + lotissement)
correction reqmo
parametrage : ajout des parametre "sitadel"


remontée atreal du 14/10/2011 corrigées
* dossier $idz dossier+nomproprietaire
* instruction : laisser un complement ouvert ***
* instruction : enlever le debug ***
* BUG modificatif/dossier clic sur dossier.scr puis clic sur dossier -> script non trouvé ***
* traitement modificatif : faire un lien sur nouveau dossier ***

Mise a niveau openMairie 3.1.0 08/07/2011
- ensemble des composants
- mise a niveau tables om_* dans pgsql



PATCH 2.00-1 INTERMEDIAIRE correctif CU ===========================================
Correctif bug CU (fr)
a la demande de Breteuil, Communaute de clermont et Anonay
les bugs de la gestion des CU  ont ete corriges

(bug) traduction onglet <i>instruction_cu</i>
lang/francais.inc :

(bug)
* en creation/modification
      Notice: Undefined variable: idxformulaire in /var/www/openmairie_foncier/obj/instruction_CU.class.php on line 247
* en suppression
Notice: Undefined index: instruction in /var/www/openmairie_foncier/php/openmairie/formulairedyn.class.php on line 383
Notice: Undefined index: instruction in /var/www/openmairie_foncier/php/openmairie/formulairedyn.class.php on line 384
Notice: Undefined index: destinataire in /var/www/openmairie_foncier/php/openmairie/formulairedyn.class.php on line 279
Notice: Undefined index: destinataire in /var/www/openmairie_foncier/php/openmairie/formulairedyn.class.php on line 301
Fatal error: Method name must be a string in /var/www/openmairie_foncier/php/openmairie/formulairedyn.class.php on line 303

-> obj/instruction_CU.class.php : correction $this->idxformulaire methode setSelect

(bug)
Notice: Undefined variable: idx in /var/www/openmairie_foncier/sql/mysql/instruction_CU.inc on line 12
Notice: Undefined variable: obj in /var/www/openmairie_foncier/sql/mysql/instruction_CU.inc on line 13
Notice: Undefined variable: obj in /var/www/openmairie_foncier/sql/mysql/instruction_CU.inc on line 23
Notice: Undefined variable: idx in /var/www/openmairie_foncier/sql/mysql/instruction_CU.inc on line 23
Notice: Undefined variable: obj in /var/www/openmairie_foncier/sql/mysql/instruction_CU.inc on line 26
Notice: Undefined variable: idx in /var/www/openmairie_foncier/sql/mysql/instruction_CU.inc on line 26
Notice: Undefined variable: idx in /var/www/openmairie_foncier/sql/mysql/instruction_CU.inc on line 59
-> sql/mysql/instruction_CU.inc : variables $idx non valorisee en ligne 10 et 37
-> sql/pgsql/instruction_CU.inc (hors patch)

(bug) pdf FPDF error: Unsupported image type: /trs/arles lettretype_instruction.php
-> etat corriges
sql/mysql/francais/CUpositif.inc
sql/mysql/francais/CUnegatif.inc
sql/pgsql/francais/CUpositif.inc (hors patch)
sql/pgsql/francais/CUnegatif.inc (hors patch)

===================================================================================

Modifs demandées 30/07/2010

- modif dyn/script.js et script_francais.js

- avis sur les dossiers
          mysql/PC.inc DP.inc PA.inc PD.inc
          pgsql/ ...
- avis dans les états
          mysql et pgsql/dossier_ads.sousetat.inc (que les sans avis)
                        /dossier_ads_d.sousetat.inc (qu avec avis)



=======================================
Transfert base PGSQL 27/07/2010
=======================================
data/pgsql/init.sql parametrage.sql rivoli_arles.sql


*** question     a quoi sert ? sql/pgsql
          delai.inc
          consultation_horslimite.inc
          PC_horslimite.inc
          PD_horslimite.inc
          dossier_horslimite.inc
          RU.inc
          dossier_observatoire.reqmo
          RU.class.php


*** courrier.class ne sert a rien
    quartier.class form.inc et inc

*** zone à voir
parcelle.sig



*** concat et date
sql/pgsql/
sql/pgsql/francais

***taille/max  obj
action.class.php
architecte.class
bible.class
blocnote.class
civilite.class
collectivite.class
consultation.class
destination.class
destination_shon.class
dossier.class DP PA CU PC PD
droit.class
etat
evenement.class
instruction.class
instruction_CU.class a tester
nature.class
parcelle.class
pos.class
proprietaire.class
regle.class -> id doit etre en bigint et non char varying 2 *** ERREUR A CORRIGER
rivoli.class
service.class

*** requete sql/pgsql et francais OK

*** sig : / cadastre
geom parcelle
geom batiment
geom dossier
geom section
SIG :
* tab_sig
     pb des '' pour parcelle, dossier
     pb saisie multipolygon
* form_sig
     correction saisie de point (tester avec opencimetiere)
parcelle.inc
dossier.inc

Bugs a traiter
* remise a 0 : update set id non compatible avec pgsql
* combo.php architecte dans dossier
Fatal error: Call to undefined method DB_Error::numrows()
in /var/www/openmairie_foncier/spg/combo.php on line 101
* pc modificatif (trt) DB Error: invalid number
* parcelle.class pb de saisie de surface si vide / '' mettre 0 ? pas de controle numerique
* rajouter les relations pgsql/init.sql
* dossier.class : erreur insert avec zone numerique surface ('867' au lieu de 867 en insertion)


========================================================================================

(bug) remise a 0 num_dossier.php majuscule [27/07/2010]


(mo) 21/06/2010 recherche doosier :ajout recherche sur champs terrain_adresse_complement
     (scr/recherchedossier.php et tab.dossier.php)
2.01(en cours)

a faire ->version 5.4

[18/03/2010] - CCRVV
(bug) initialisation $path_pear
- trt/numdossier.php
- trt/export_sig.php
- trt/export_pc.php
- trt/export_dp.php
- scr/orm_fenetre.php
(bug)sql/dossier_scr.inc manque 4 dates pour dossier dans sql_dossier


=======================
modification de la base
=======================
table avis
ver2.01.sql
init.sql

(+) demande cadastre [10/02/2010]
- transfert lascot suivant avis  : trt/export_PC.php
- sql/mysql/avis.inc + avis.form.inc + obj/avis.class.php
- lang/francais.inc
- sql/mysql/francais/dossier_cadastre_datedepot.reqmo.inc

(+) SITADEL [16/12/2009 -18/12/2009]
trt/export_sitadel.php
trt/sitadel.inc
dyn/menu.inc
lang/francais.inc
sql/mysql/avis.inc  zone sitadel
sql/mysql/avis.form.inc


(+) demande observatoire foncier (PC tacite + temp)
dossier_observatoire.reqmo.inc

(bug) js firefox (15/12/2009)
scr/edition_d.php
scr/edition_p.php

(+) instruction_etat.reqmo.inc (09/12/2009)
(+) dossier.php lien sur permis dynmap
    dyn/var.inc liensig2


(bug) php5 txform $_post 12/11/2009

(+) 2 requetes supplementaires pour controle sig
    dossier_plusiursparcelles.reqmo
    dossier_sig_sanspos.reqmo

(+) 22/10/2009 debrayage sig et verification de parcelle (si non modifiee) (en cliquant sur sig dossier.class.php
(bug) 09/10/2009 correction parcelle vide :  dossier.class.php
(+) 09/10/2009 requete dossier_observatoire.inc (pos)
(+) 09/10/2009 requete dossier_sansparcelle.inc
(bug) 12/10/2009 version fpdf5 pour wamp5 en php5 + var.inc
(bug) js firefox (15/12/2009)
scr/edition_d.php
scr/edition_p.php
dyn/style.css ->table.dossier


version 2.00 =========================================================================================================
publie le 07 juillet 2009

********************************************
ATTENTION MODIFICATION DE LA BASE DE DONNEES
********************************************
ajout de zones POS et SIG dans dossier
ajout zone solde dans travaux
/data/ver_2.00.sql
/data/init.sql
********************************************


Cette version permet de faire le lien avec un SIG au travers d'un web service (SOAP) et utilise le composant php/nsoap

Le web service est développé par SIMALIS en licence libre (il est financé par la ville d'Arles)
Ce web service est disponnible avec la version 5 de dynmap et il est appelle depuis les methodes de la classe sig/stratégyDynmap.class.php
Dans le couche ADS de dynmap, il est cree un objet au centroide de la parcelle saisi en openFoncier.
Le POS est recupere automatiquement dans openfoncier depuis Dynmap
Le fichier sig/var.inc a pour objet de decrire les couches (tables), et champ concernes

scripts concernés
- dossier.class.php, dossier.form.inc
- repertoire sig
-------------
dyn/var.inc :
-------------
variable strategySyg ='' pas de lien sig
variable strategySyg ='Dynmap' lien avec le sig dynmap

----------------------------------------------------------------------------------------------------
ATTENTION les méthodes de DYNMAP implémentées par openFoncier ne peuvent être utilisées qu avec php5
----------------------------------------------------------------------------------------------------

(+) 10/01/2009 export_sig.php

(+) 10/01/09 ajouter la zone solde en travaux et utilisation en dossier
     travaux.class.php, travaux.inc, travaux.form.inc
     dossier.class.php + dossier.form.inc
     init.sql + ver2.00

(+) pdf/pdflettretype_instruction (possibilite attribut affichage <b> (titre et corps))
(modif) scr/requeteur.php(nouvelle presentation)

(+) saisie dossier -> mise en majuscule a parametrer dans var.inc [demande vitrolles 21/04/2008]

(bug) 07/07/2009 lettretype dans evenement.class.php
(bug) 24/04/2009 utlisateur.class : select sur instructeur oui non / lang identifiant
(bug) regle.form
(bug) 16/12/2008 path db pear bible.php , bible_automatique et bible2
(bug) 30/10/2008 droit.class.php setonchange
(bug) spg/voir.php (controle fichier inexistant)
(bug) spg/combo et combo2.php
(+) spg/combo et combo2.php et lang.inc(traduction)






version 1.09 a venir ===================================================================

 (*) Mise a jour base de donnees :
    data/mysql/ver_1.09.sql (base deja installee en 1.08)
    data/mysql/init.sql (nouvelle installtion)

 (+) transfert DGI cadastre au format LASCOT [21/04/2008]
      dyn/menu.inc
      trt/export_pc.php
      trt/export_dp.php

 (bug) Patch de securite sur les injections SQL en login : [arles 7 avril 2008]
        (bug signale par brice.argenson@adullact.org)
    spg/login.php

 (+) mise en place d un retour connexion et msg visible sur les droits  [arles 7 avril 2008]
      index.php
      scr/form.php
      scr/tab.php
     dyn/cg.css et dyn/custom/cg.css

 (+) img/warning_utils.gif

  (+) utilisateur : telephone Arles 16/05/2008
    /obj/utilisateur.class.php
    /sql/utilisateur.inc
    /sql/utilisateur.form.inc
    /sql/recepisse_1.lettretype.inc


(bug) PC.class.php : setval initial dans champ type ( 21/04/2008)
                            nom obligatoire ?

(+) 18/03/2008 [infor assistance Laurent Bouquet] :  ajout fond dans les lettres types
    /pdf/pdflettretype_instruction.php
    /trs/vide.png  bg_avisdumaire1 et 2.png
    /sql/mysql/avisdumaire.lettretype.inc (modif sql)
    /dyn/varlettretype.inc (cp_ville)

(+) 16/05/2008 dossier par date de validite en etat accepter
        sql/mysql/dossier_validite.reqmo.inc

(+) 16/05/2008 dossier edition selection par date de decision
        dyn/menu.inc
    scr/edition_d.php
    sql/mysql/dossier_ads_d.etat.inc
    sql/mysql/dossier_ads_d.sousetat.inc

(bug) 16/05/2008 edition
    scr/txtab specifique openfoncier -> non modification de certains sousetat par le menu
    scr/edition_p.php : parametre nature pour dossier_ads
    sql/mysql/dossier_ads.sousetat.inc
    sql/mysql/dossier_depot.sousetat.inc

version 1.08 ========================================================================

*** correction erreur $_POST fait le 07/02/2008
- form.php
- sous_form
- form_fenetre
- txform

*** arles 04/01/2008 :
- remise des compteurs a 0 en fin d annee 15/02/2008
- interrogation champ nom avec % en module recherche -> fait le 07/01/2008 (%) : JLB


*** (+) 11/01/2007

- correction libelle pc_acceuil
- instruction.class : non destruction delai en rejet
- dossier.form.inc : bug affichage travaux tous
- dossier_numeromanuel : manque annee 02  (12/01/2008)

*** bug SANTES (09/01/2008)
/spg/bible_auto.php

*** (+) reqmo 19/12/2008 (arles - pole habitat)
requette terrain.dossier.inc

*** (+) localisation SIG  14/12/2007
Tableau de bord  et retour SIG (SIMALIS)
scr/dossier.php
sql/mysql/dossier.scr.inc
sql/mysql/pc.inc
sql/mysql/pa.inc
sql/mysql/pd.inc
sql/mysql/dp.inc
SIG
dyn/var.inc
- lien et image sig
sql/mysql/terrain.form.inc
- tableau de bord
lien_sig1  et lien_sig

***(+) import simalis 27/11/2007
     rec/import_sig_simalis.php
     scr/import


***(+) lien sig : 09/11/2007
* base de donnees = table parcelle -> champ sig (identifiant sig)
data/init.sql
data/ver_1.08.sql
parcelle.form.php
terrain.class.php
terrain.form.php
* image et lien sig
dyn/var.inc
img/sig.png

*** (+) 24/10/2007 reqmo dossier, consultation, destination_shon

*** debug 24/10/ 2007 openMairie 1.19 tab.class.php methode pageselect
[debug : Wamp 5.1.7.3 (santes)]

***  test santes 1.08 beta 18/10/2007
       spg/bible_auto.php [debug : Wamp 5.1.7.3 (santes)]

*** (+) version full onglet 16/10/2007 Arles/JLB
    style.css
    form.php
    soustabdyn.php

*** (+) modificatif en menu (acces protege) 24/10/2007
    INSERT INTO `droit` ( `droit` , `profil` )VALUES ('PC_modificatif', '3');
    menu.inc
    PC_modificatif.inc
    init.sql
    ver_1.08.sql

*** DEBUG 15/10/2007 FR + Santes
combo.php  [debug : Wamp 5.1.7.3 (santes)]
collectivite.class.php [enregistrement departement commune]
evenement.inc  [sql ambigus evenement]
dossier_demandeur.inc dossier_delegataire.inc dossier_architecte.inc : [champaffiche non defini]

*** DEBUG 09/10/2007 Vitrolles / debug variables session
(pb de $_SESSION['coll'] => edition sur mauvaises bases)
    pdfetiquette.php
    pdflettretype.php
    pdflettretype_instruction.php

*** (+) 09/10/2007 demande arles/PC
    DP.inc nom de l instructeur



version 1.07 ========================================================
30/09/2007 version 1.06 debuggee et modifie suite aux formations pratiques
arles et vitrolles

*** (+) 27/09/2007
voir bible => retour
requete recepisse_DPC
numero a creer : nature annee numero modificatif 01-10
numero de dossier dans saisie_consultation
securite

*** DEBUG 20/09/2007
- civilite.class.php : pb de modification
- moteur de recherche: pb affichage
- onglets supplementaire CU PD PA
- bible.auto: selection suivant nature (PC DP ...)
- bordereaux de depot a mettre dans l ordre des dates de depot
- instruction.class: interdire la modification de date
- consultation_saisie.class : ecran de saisie secretaire pour retour consultation non revenu (sans avis) et hors limite = consultation_retour.inc consultation_retour.class.php menu.inc
- ecran d aide sur tous les formulaires

*** (+) 19/09/2007 arles / transfert cadastre depuis livre foncier
- scr/import.php : menu import
- rec/import_parcelle.inc : script import parcelle
- rec/import_proprietaire.inc : script import proprietaire
- spg/upload.php : prendre en compte extension csv
modification de la base de donnees pour prendre en compte le transfert cadastral
* table terrain : zone supplementaire nom
* proprietaire : cle primaire supprime sur proprietaire (proprietaire multiple)
- obj/terrain.class.php : modification de la saisie (optimisation)
- sql/mysql/terrain.inc terrain.form.inc parcelle.inc
- spg/comboparametre.inc comboretour.inc comboaffichage.inc
- data/mysql/sql/init.sql

*** DEBUG 18/09/2007 arles
- init.sql : cle primaire avis
- parametrage.sql = avis, bible

*** integration du patch 1.06-1

patch 1.06-1 =======================================================
DEBUG bible.class.php:  probleme de suppression

version 1.06 ========================================================
- (+) dossier
    multi sequence suivant nature (parametrable var.inc)
    date ouverture chantier
    date conformite
    parcelle_declare + controle
- (+) saut de page dans  lettre type -> pdf/pdflettretype_instruction.php
 (code->  \p  a saisir dans $lettretype['corps'] de 'nom lettre'.lettretype.inc
  ou dans champs complement a complement15 de la table instruction)
- (+) demande vitrolles 17/08/2007
  * onglet destination_shon avec calcul shon dans le dossier
  * onglet blocnote et suppression description dans le dossier
  * dossier remplacer proprietaire par delegataire
  * dossier pc: champ maison individuelle / autre
  * dossier : champ pays + telephone pour demandeur et delegataire
  * creation dossier -> popup creation architecte
  * modification dossier popup demandeur et delegataire
  * CU : objet_dossier en haut
  * architecte
    nom, prenom, adresse 1 et 2, CP, ville, numero inscription, tel
    fax mail, note
- (+) calcul surface terrain d apres parcelles

version 1.05 ========================================================
- (+) moteur de recherche
- (+) Version avec document a editer et bible juridique

version 1.04 ========================================================
- moteur de recherche
- workflow
- regles
- courrier

version 1.01 ========================================================
maquette initiale
creer la base de donnees : data/mysql/init.sql
le parametrage :         : data/mysql/parametrage.sql
eventuellement exemple   : data/mysql/exemple.sql
